
<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2.x Changelog &#8212; Litestar Framework</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_paramlinks.css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css?v=b5051ef4" />
    <link rel="stylesheet" type="text/css" href="../_static/litestar-sphinx-theme.css?v=9e3812bb" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=6a785edc"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/litestar-theme.js?v=ab2dcc9e"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'release-notes/changelog';</script>
    <script src="../_static/versioning.js?v=68b42869"></script>
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

   

<a class="navbar-brand logo" href="https://litestar.dev">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.svg" class="logo__image only-light" alt="Litestar Framework - Home"/>
    <script>document.write(`<img src="../_static/logo.svg" class="logo__image only-dark" alt="Litestar Framework - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">




    <nav class="hidden lg:flex lg:gap-x-4">
        
    
        
            <a href="../index.html"
               class="text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100 hover:!text-litestar-gold select-none cursor-pointer">Documentation</a>
        
    
        
            
    <div class="relative">
        <span type="button"
                class="flex items-center gap-x-1 text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100 hover:!text-litestar-gold st-dropdown-toggle dropdown-closed select-none cursor-pointer"
                data-dropdown-state="closed"
                aria-expanded="false">
            Community
            <div class="menu-state-indicator flex">
                
    <svg class="h-5 w-5 flex-none text-gray-400" viewBox="0 0 20 20" fill="currentColor"
     aria-hidden="true">
    <path fill-rule="evenodd"
          d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
          clip-rule="evenodd"/>
</svg>

            </div>
        </span>

        <div class="
            absolute -left-8 top-full z-10 mt-3
            w-max max-w-md
            overflow-hidden rounded-3xl
            bg-white shadow-lg dark:!bg-zinc-700 ring-1 ring-gray-900/5
            hidden
            st-dropdown-menu">
            <div class="p-4">
                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" fill="none"
     viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"/>
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"/>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://docs.litestar.dev/latest/contribution-guide.html"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Contributing
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">Learn how to contribute to the Litestar project</div>
            </div>
        </div>
    

                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" fill="none"
     viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"/>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://github.com/litestar-org/.github?tab=coc-ov-file"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Code of Conduct
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">Review the etiquette for interacting with the Litestar community</div>
            </div>
        </div>
    

                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" fill="none"
     viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"/>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://github.com/litestar-org/.github?tab=coc-ov-file#security-ov-file"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Security
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">Overview of Litestar's security protocols</div>
            </div>
        </div>
    

                
            </div>
        </div>
    </div>

        
    
        
            
    <div class="relative">
        <span type="button"
                class="flex items-center gap-x-1 text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100 hover:!text-litestar-gold st-dropdown-toggle dropdown-closed select-none cursor-pointer"
                data-dropdown-state="closed"
                aria-expanded="false">
            About
            <div class="menu-state-indicator flex">
                
    <svg class="h-5 w-5 flex-none text-gray-400" viewBox="0 0 20 20" fill="currentColor"
     aria-hidden="true">
    <path fill-rule="evenodd"
          d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
          clip-rule="evenodd"/>
</svg>

            </div>
        </span>

        <div class="
            absolute -left-8 top-full z-10 mt-3
            w-max max-w-md
            overflow-hidden rounded-3xl
            bg-white shadow-lg dark:!bg-zinc-700 ring-1 ring-gray-900/5
            hidden
            st-dropdown-menu">
            <div class="p-4">
                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" aria-hidden="true"
     fill="none" stroke="currentColor" stroke-width="1.5"
     viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"
          stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://litestar.dev/about/organization"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Litestar Organization
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">Details about the Litestar organization</div>
            </div>
        </div>
    

                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" aria-hidden="true"
     fill="none" stroke="currentColor" stroke-width="1.5"
     viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
          stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://litestar.dev/about/litestar-releases"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Releases
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">Explore the release process, versioning, and deprecation policy for Litestar</div>
            </div>
        </div>
    

                
            </div>
        </div>
    </div>

        
    
        
            
    <div class="relative">
        <span type="button"
                class="flex items-center gap-x-1 text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100 hover:!text-litestar-gold st-dropdown-toggle dropdown-closed select-none cursor-pointer"
                data-dropdown-state="closed"
                aria-expanded="false">
            Release notes
            <div class="menu-state-indicator flex">
                
    <svg class="h-5 w-5 flex-none text-gray-400" viewBox="0 0 20 20" fill="currentColor"
     aria-hidden="true">
    <path fill-rule="evenodd"
          d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
          clip-rule="evenodd"/>
</svg>

            </div>
        </span>

        <div class="
            absolute -left-8 top-full z-10 mt-3
            w-max max-w-md
            overflow-hidden rounded-3xl
            bg-white shadow-lg dark:!bg-zinc-700 ring-1 ring-gray-900/5
            hidden
            st-dropdown-menu">
            <div class="p-4">
                
                    
    
        <div class="group relative rounded-lg p-2 text-sm hover:bg-gray-50 dark:hover:bg-zinc-800">
            
    <a href="whats-new-2.html"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        What's new in 2.0
        <span class="absolute inset-0"></span>
    </a>

        </div>
    

                
                    
    
        <div class="group relative rounded-lg p-2 text-sm hover:bg-gray-50 dark:hover:bg-zinc-800">
            
    <a href="https://docs.litestar.dev/2/release-notes/changelog.html"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        2.x Changelog
        <span class="absolute inset-0"></span>
    </a>

        </div>
    

                
                    
    
        <div class="group relative rounded-lg p-2 text-sm hover:bg-gray-50 dark:hover:bg-zinc-800">
            
    <a href="https://docs.litestar.dev/1/release-notes/changelog.html"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        1.x Changelog
        <span class="absolute inset-0"></span>
    </a>

        </div>
    

                
            </div>
        </div>
    </div>

        
    
        
            
    <div class="relative">
        <span type="button"
                class="flex items-center gap-x-1 text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100 hover:!text-litestar-gold st-dropdown-toggle dropdown-closed select-none cursor-pointer"
                data-dropdown-state="closed"
                aria-expanded="false">
            Help
            <div class="menu-state-indicator flex">
                
    <svg class="h-5 w-5 flex-none text-gray-400" viewBox="0 0 20 20" fill="currentColor"
     aria-hidden="true">
    <path fill-rule="evenodd"
          d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
          clip-rule="evenodd"/>
</svg>

            </div>
        </span>

        <div class="
            absolute -left-8 top-full z-10 mt-3
            w-max max-w-md
            overflow-hidden rounded-3xl
            bg-white shadow-lg dark:!bg-zinc-700 ring-1 ring-gray-900/5
            hidden
            st-dropdown-menu">
            <div class="p-4">
                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" fill="none"
     viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"/>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://discord.gg/litestar"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Discord Help Forum
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">Dedicated Discord help forum</div>
            </div>
        </div>
    

                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" fill="none"
     viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"/>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://github.com/orgs/litestar-org/discussions"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        GitHub Discussions
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">GitHub Discussions </div>
            </div>
        </div>
    

                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" fill="none"
     viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"/>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://stackoverflow.com/questions/tagged/litestar"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Stack Overflow
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">We monitor the <code><b>litestar</b></code> tag on Stack Overflow</div>
            </div>
        </div>
    

                
            </div>
        </div>
    </div>

        
    

    </nav>
</div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
        </div>
      
        <div class="navbar-item navbar-persistent--container">
          

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/litestar-org/litestar" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/litestar" title="Discord" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Discord</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
    </div>
  
    <div class="navbar-persistent--mobile">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">




    <nav class="hidden lg:flex lg:gap-x-4">
        
    
        
            <a href="../index.html"
               class="text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100 hover:!text-litestar-gold select-none cursor-pointer">Documentation</a>
        
    
        
            
    <div class="relative">
        <span type="button"
                class="flex items-center gap-x-1 text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100 hover:!text-litestar-gold st-dropdown-toggle dropdown-closed select-none cursor-pointer"
                data-dropdown-state="closed"
                aria-expanded="false">
            Community
            <div class="menu-state-indicator flex">
                
    <svg class="h-5 w-5 flex-none text-gray-400" viewBox="0 0 20 20" fill="currentColor"
     aria-hidden="true">
    <path fill-rule="evenodd"
          d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
          clip-rule="evenodd"/>
</svg>

            </div>
        </span>

        <div class="
            absolute -left-8 top-full z-10 mt-3
            w-max max-w-md
            overflow-hidden rounded-3xl
            bg-white shadow-lg dark:!bg-zinc-700 ring-1 ring-gray-900/5
            hidden
            st-dropdown-menu">
            <div class="p-4">
                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" fill="none"
     viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"/>
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"/>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://docs.litestar.dev/latest/contribution-guide.html"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Contributing
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">Learn how to contribute to the Litestar project</div>
            </div>
        </div>
    

                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" fill="none"
     viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"/>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://github.com/litestar-org/.github?tab=coc-ov-file"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Code of Conduct
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">Review the etiquette for interacting with the Litestar community</div>
            </div>
        </div>
    

                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" fill="none"
     viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"/>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://github.com/litestar-org/.github?tab=coc-ov-file#security-ov-file"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Security
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">Overview of Litestar's security protocols</div>
            </div>
        </div>
    

                
            </div>
        </div>
    </div>

        
    
        
            
    <div class="relative">
        <span type="button"
                class="flex items-center gap-x-1 text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100 hover:!text-litestar-gold st-dropdown-toggle dropdown-closed select-none cursor-pointer"
                data-dropdown-state="closed"
                aria-expanded="false">
            About
            <div class="menu-state-indicator flex">
                
    <svg class="h-5 w-5 flex-none text-gray-400" viewBox="0 0 20 20" fill="currentColor"
     aria-hidden="true">
    <path fill-rule="evenodd"
          d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
          clip-rule="evenodd"/>
</svg>

            </div>
        </span>

        <div class="
            absolute -left-8 top-full z-10 mt-3
            w-max max-w-md
            overflow-hidden rounded-3xl
            bg-white shadow-lg dark:!bg-zinc-700 ring-1 ring-gray-900/5
            hidden
            st-dropdown-menu">
            <div class="p-4">
                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" aria-hidden="true"
     fill="none" stroke="currentColor" stroke-width="1.5"
     viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"
          stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://litestar.dev/about/organization"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Litestar Organization
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">Details about the Litestar organization</div>
            </div>
        </div>
    

                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" aria-hidden="true"
     fill="none" stroke="currentColor" stroke-width="1.5"
     viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
          stroke-linecap="round" stroke-linejoin="round"></path>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://litestar.dev/about/litestar-releases"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Releases
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">Explore the release process, versioning, and deprecation policy for Litestar</div>
            </div>
        </div>
    

                
            </div>
        </div>
    </div>

        
    
        
            
    <div class="relative">
        <span type="button"
                class="flex items-center gap-x-1 text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100 hover:!text-litestar-gold st-dropdown-toggle dropdown-closed select-none cursor-pointer"
                data-dropdown-state="closed"
                aria-expanded="false">
            Release notes
            <div class="menu-state-indicator flex">
                
    <svg class="h-5 w-5 flex-none text-gray-400" viewBox="0 0 20 20" fill="currentColor"
     aria-hidden="true">
    <path fill-rule="evenodd"
          d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
          clip-rule="evenodd"/>
</svg>

            </div>
        </span>

        <div class="
            absolute -left-8 top-full z-10 mt-3
            w-max max-w-md
            overflow-hidden rounded-3xl
            bg-white shadow-lg dark:!bg-zinc-700 ring-1 ring-gray-900/5
            hidden
            st-dropdown-menu">
            <div class="p-4">
                
                    
    
        <div class="group relative rounded-lg p-2 text-sm hover:bg-gray-50 dark:hover:bg-zinc-800">
            
    <a href="whats-new-2.html"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        What's new in 2.0
        <span class="absolute inset-0"></span>
    </a>

        </div>
    

                
                    
    
        <div class="group relative rounded-lg p-2 text-sm hover:bg-gray-50 dark:hover:bg-zinc-800">
            
    <a href="https://docs.litestar.dev/2/release-notes/changelog.html"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        2.x Changelog
        <span class="absolute inset-0"></span>
    </a>

        </div>
    

                
                    
    
        <div class="group relative rounded-lg p-2 text-sm hover:bg-gray-50 dark:hover:bg-zinc-800">
            
    <a href="https://docs.litestar.dev/1/release-notes/changelog.html"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        1.x Changelog
        <span class="absolute inset-0"></span>
    </a>

        </div>
    

                
            </div>
        </div>
    </div>

        
    
        
            
    <div class="relative">
        <span type="button"
                class="flex items-center gap-x-1 text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100 hover:!text-litestar-gold st-dropdown-toggle dropdown-closed select-none cursor-pointer"
                data-dropdown-state="closed"
                aria-expanded="false">
            Help
            <div class="menu-state-indicator flex">
                
    <svg class="h-5 w-5 flex-none text-gray-400" viewBox="0 0 20 20" fill="currentColor"
     aria-hidden="true">
    <path fill-rule="evenodd"
          d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
          clip-rule="evenodd"/>
</svg>

            </div>
        </span>

        <div class="
            absolute -left-8 top-full z-10 mt-3
            w-max max-w-md
            overflow-hidden rounded-3xl
            bg-white shadow-lg dark:!bg-zinc-700 ring-1 ring-gray-900/5
            hidden
            st-dropdown-menu">
            <div class="p-4">
                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" fill="none"
     viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"/>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://discord.gg/litestar"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Discord Help Forum
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">Dedicated Discord help forum</div>
            </div>
        </div>
    

                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" fill="none"
     viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"/>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://github.com/orgs/litestar-org/discussions"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        GitHub Discussions
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">GitHub Discussions </div>
            </div>
        </div>
    

                
                    
    
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-gray-50 dark:hover:bg-zinc-800">
            <div class="
            h-11 w-11 flex flex-none items-center justify-center
            rounded-lg
            bg-gray-50 group-hover:bg-white dark:bg-zinc-900 dark:group-hover:bg-zinc-700
            text-gray-600 dark:text-gray-300 group-hover:text-litestar-gold">
                
    <svg class="h-6 w-6" fill="none"
     viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"/>
</svg>

            </div>
            <div class="flex-auto">
                
    <a href="https://stackoverflow.com/questions/tagged/litestar"
       class="block font-semibold text-gray-900 dark:text-gray-200 hover:text-litestar-gold dark:hover:text-litestar-gold !no-underline select-none cursor-pointer">
        Stack Overflow
        <span class="absolute inset-0"></span>
    </a>

                <div class="mt-1 text-gray-600 dark:text-gray-300">We monitor the <code><b>litestar</b></code> tag on Stack Overflow</div>
            </div>
        </div>
    

                
            </div>
        </div>
    </div>

        
    

    </nav>
</div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/litestar-org/litestar" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/litestar" title="Discord" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Discord</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../usage/index.html">Usage</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage/applications.html">Applications</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../usage/routing/index.html">Routing</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/routing/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/routing/handlers.html">Route handlers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/routing/parameters.html">Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/requests.html">Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/caching.html">Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/channels.html">Channels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/cli.html">CLI</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../usage/databases/index.html">Databases</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../usage/databases/sqlalchemy/index.html">SQLAlchemy</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../usage/databases/sqlalchemy/models_and_repository.html">SQLAlchemy Models &amp; Repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usage/databases/sqlalchemy/plugins/index.html">Plugins</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../usage/databases/piccolo.html">Piccolo ORM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/debugging.html">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/dependency-injection.html">Dependency Injection</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../usage/dto/index.html">Data Transfer Object (DTO)</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/dto/0-basic-use.html">Basic Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/dto/1-abstract-dto.html">AbstractDTO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/dto/2-creating-custom-dto-classes.html">Implementing Custom DTO Classes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/events.html">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/exceptions.html">Exceptions and exception handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/htmx.html">HTMX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/lifecycle-hooks.html">Life Cycle Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/logging.html">Logging</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../usage/metrics/index.html">Metrics</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/metrics/open-telemetry.html">OpenTelemetry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/metrics/prometheus.html">Prometheus</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../usage/middleware/index.html">Middleware</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/middleware/using-middleware.html">Using Middleware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/middleware/builtin-middleware.html">Built-in middleware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/middleware/creating-middleware.html">Creating Middleware</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../usage/openapi/index.html">OpenAPI</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/openapi/schema_generation.html">Configuring schema generation</a></li>




<li class="toctree-l3"><a class="reference internal" href="../usage/openapi/ui_plugins.html">OpenAPI UI Plugins</a></li>









</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../usage/plugins/index.html">Plugins</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/plugins/flash_messages.html">Flash Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/plugins/problem_details.html">Problem Details</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/responses.html">Responses</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../usage/security/index.html">Security</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage/security/abstract-authentication-middleware.html">Implementing Custom Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/security/security-backends.html">Security Backends</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/security/guards.html">Guards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/security/excluding-and-including-endpoints.html">Excluding and including endpoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/security/jwt.html">JWT Security Backends</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage/security/secret-datastructures.html">Handling Secrets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage/static-files.html">Static files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/custom-types.html">Custom types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/stores.html">Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/templating.html">Templating</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage/websockets.html">WebSockets</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference/index.html">API reference</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/app.html">app</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/background_tasks.html">background_tasks</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/channels/index.html">channels</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/channels/plugin.html">plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/channels/subscriber.html">subscriber</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../reference/channels/backends/index.html">backends</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/channels/backends/base.html">base</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/channels/backends/memory.html">memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/channels/backends/redis.html">redis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/channels/backends/psycopg.html">psycopg</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/channels/backends/asyncpg.html">asyncpg</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/cli.html">cli</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/config.html">config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/connection.html">connection</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/contrib/index.html">contrib</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/contrib/htmx.html">HTMX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/contrib/jinja.html">jinja</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/contrib/jwt.html">jwt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/contrib/mako.html">mako</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/contrib/opentelemetry.html">opentelemetry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/contrib/piccolo.html">piccolo_orm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/contrib/pydantic.html">pydantic</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../reference/contrib/sqlalchemy/index.html">sqlalchemy</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/contrib/sqlalchemy/plugins.html">plugins</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/contrib/sqlalchemy/repository.html">repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/contrib/sqlalchemy/types.html">types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/contrib/sqlalchemy/base.html">base</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/contrib/sqlalchemy/dto.html">DTO</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/controller.html">controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/concurrency.html">concurrency</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/data_extractors.html">data_extractors</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/datastructures/index.html">datastructures</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/datastructures/secret_values.html">secret_values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/di.html">di</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/dto/index.html">dto</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/dto/config.html">config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/dto/data_structures.html">data_structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/dto/field.html">field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/dto/types.html">types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/dto/base_dto.html">base_dto</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/dto/msgspec_dto.html">msgspec_dto</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/dto/dataclass_dto.html">dataclass_dto</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/enums.html">enums</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/events.html">events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/exceptions.html">exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/handlers.html">handlers</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/logging/index.html">logging</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/logging/config.html">config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/logging/picologging.html">picologging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/logging/standard.html">standard</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/middleware/index.html">middleware</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/middleware/allowed_hosts.html">allowed_hosts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/middleware/authentication.html">authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/middleware/compression.html">compression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/middleware/cors.html">cors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/middleware/csrf.html">csrf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/middleware/logging.html">logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/middleware/rate_limit.html">rate_limit</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../reference/middleware/session/index.html">session</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/middleware/session/base.html">base</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/middleware/session/client_side.html">client_side</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/middleware/session/server_side.html">server_side</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/openapi/index.html">openapi</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/openapi/openapi.html">openapi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/openapi/plugins.html">plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/openapi/spec.html">spec</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/pagination.html">pagination</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/params.html">params</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/plugins/index.html">plugins</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/plugins/attrs.html">attrs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/plugins/flash_messages.html">flash</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/plugins/htmx.html">htmx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/plugins/problem_details.html">problem details</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/plugins/prometheus.html">prometheus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/plugins/pydantic.html">pydantic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/plugins/structlog.html">structlog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/plugins/sqlalchemy.html">sqlalchemy</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/repository/index.html">repository</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-23"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/repository/abc.html">abc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/repository/filters.html">filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/repository/exceptions.html">exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/repository/testing.html">testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/repository/handlers.html">handlers</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/response/index.html">response</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-24"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/response/base.html">base</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/response/file.html">file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/response/redirect.html">redirect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/response/streaming.html">streaming</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/response/sse.html">SSE (Server Sent Events)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/response/template.html">template</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/router.html">router</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/routes.html">routes</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/security/index.html">security</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-25"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/security/jwt.html">jwt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/security/session_auth.html">session_auth</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/serialization.html">serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/static_files.html">static_files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/status_codes.html">status_code</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reference/stores/index.html">stores</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-26"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/stores/base.html">base</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/stores/file.html">file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/stores/memory.html">memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/stores/redis.html">redis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/stores/registry.html">registry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/stores/valkey.html">valkey</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/template.html">template</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/testing.html">testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/types.html">types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/typing.html">typing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks.html">Benchmarks</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../migration/index.html">Migrating to Litestar</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-27"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../migration/flask.html">From Flask</a></li>
<li class="toctree-l2"><a class="reference internal" href="../migration/fastapi.html">From Starlette / FastAPI</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../topics/index.html">Topics</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-28"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../topics/sync-vs-async.html">Sync vs. Async</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../topics/deployment/index.html">Deployment</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-29"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../topics/deployment/nginx-unit.html">NGINX Unit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/deployment/manually-with-asgi-server.html">Manually with ASGI server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/deployment/docker.html">Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../topics/deployment/supervisor.html">Supervisor (Linux)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-30"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../tutorials/todo-app/index.html">Developing a basic TODO application</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-31"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/todo-app/0-application-basics.html">Application basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/todo-app/1-accessing-the-list.html">Accessing the list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/todo-app/2-interacting-with-the-list.html">Making the list interactive</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/todo-app/3-assembling-the-app.html">Recap and assembling the final application</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../tutorials/sqlalchemy/index.html">Improving the TODO app with SQLAlchemy</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-32"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/sqlalchemy/0-introduction.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/sqlalchemy/1-provide-session-with-di.html">Providing the session with DI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/sqlalchemy/2-serialization-plugin.html">Using the serialization plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/sqlalchemy/3-init-plugin.html">Using the init plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/sqlalchemy/4-final-touches-and-recap.html">Final touches and recap</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../tutorials/dto-tutorial/index.html">Data Transfer Object Tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-33"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/dto-tutorial/01-simple-dto-exclude.html">Our first DTO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/dto-tutorial/02-nested-exclude.html">Excluding from nested models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/dto-tutorial/03-nested-collection-exclude.html">Excluding from collections of nested models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/dto-tutorial/04-max-nested-depth.html">Max nested depth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/dto-tutorial/05-renaming-fields.html">Renaming fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/dto-tutorial/06-receiving-data.html">Receiving data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/dto-tutorial/07-read-only-fields.html">Read only fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/dto-tutorial/08-dto-data.html">Accessing the data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/dto-tutorial/09-updating.html">Updating instances</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/dto-tutorial/10-layered-dto-declarations.html">Declaring DTOs on app layers</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../tutorials/repository-tutorial/index.html">SQLAlchemy Repository Tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-34"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/repository-tutorial/01-modeling-and-features.html">Introduction to Database Modeling and Repository Features</a></li>


<li class="toctree-l3"><a class="reference internal" href="../tutorials/repository-tutorial/02-repository-introduction.html">Interacting with repositories</a></li>


<li class="toctree-l3"><a class="reference internal" href="../tutorials/repository-tutorial/03-repository-controller.html">Working with Controllers and Repositories</a></li>

<li class="toctree-l3"><a class="reference internal" href="../tutorials/repository-tutorial/04-repository-other.html">Adding Additional Features to the Repository</a></li>


</ul>
</li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../contribution-guide.html">Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/search?q=user%3Alitestar-org+state%3Aopen+label%3A%22good+first+issue%22+++no%3Aassignee+&amp;type=issues">Available Issues</a></li>

</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">2.x Changelog</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="x-changelog">
<h1>2.x Changelog<a class="headerlink" href="#x-changelog" title="Permalink to this heading">#</a></h1>
<section id="2.14.0">
<h2>2.14.0<a class="headerlink" href="#2.14.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2025-02-12<section id="2.14.0-feature">
<h3>Features<a class="headerlink" href="#2.14.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Deprecate <code class="docutils literal notranslate"><span class="pre">litestar.contrib.prometheus</span></code> in favour of  <code class="docutils literal notranslate"><span class="pre">litestar.plugins.prometheus</span></code><a class="headerlink reference internal" href="#2.14.0-deprecate" id="2.14.0-deprecate">#</a></dt><dd><div class="changelog-change docutils container">
<p>The module <code class="docutils literal notranslate"><span class="pre">litestar.contrib.prometheus</span></code> has been moved to
<code class="docutils literal notranslate"><span class="pre">litestar.plugins.prometheus</span></code>. <code class="docutils literal notranslate"><span class="pre">litestar.contrib.prometheus</span></code> will be
deprecated in the next major version</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3863">litestar-org/litestar#3863</a></span></p>
</div>
</dd>
<dt>Deprecate <code class="docutils literal notranslate"><span class="pre">litestar.contrib.attrs</span></code> in favour of <code class="docutils literal notranslate"><span class="pre">litestar.plugins.attrs</span></code><a class="headerlink reference internal" href="#2.14.0-deprecate" id="2.14.0-deprecate">#</a></dt><dd><div class="changelog-change docutils container">
<p>The module <code class="docutils literal notranslate"><span class="pre">litestar.contrib.attrs</span></code> has been moved to
<code class="docutils literal notranslate"><span class="pre">litestar.plugins.attrs</span></code>. <code class="docutils literal notranslate"><span class="pre">litestar.contrib.attrs</span></code> will be
deprecated in the next major version</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3862">litestar-org/litestar#3862</a></span></p>
</div>
</dd>
<dt>Add a streaming multipart parser<a class="headerlink reference internal" href="#2.14.0-add a streaming multipart parser" id="2.14.0-add a streaming multipart parser">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a streaming multipart parser via the
<a class="reference external" href="https://github.com/defnull/multipart">multipart</a> library</p>
<p>This provides</p>
<ul class="simple">
<li><p>Ability to stream large / larger-than-memory file uploads</p></li>
<li><p>Better / more correct edge case handling</p></li>
<li><p>Still good performance</p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3872">litestar-org/litestar#3872</a></span></p>
</div>
</dd>
<dt>Add WebSocket send stream<a class="headerlink reference internal" href="#2.14.0-add websocket send stream" id="2.14.0-add websocket send stream">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a new <a class="reference internal" href="../reference/handlers.html#litestar.handlers.websocket_stream" title="litestar.handlers.websocket_stream"><code class="xref py py-func docutils literal notranslate"><span class="pre">websocket_stream()</span></code></a> route
handler that supports streaming data <em>to</em> a WebSocket via an async generator.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@websocket_stream</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">handler</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="k">yield</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.1</span><span class="p">)</span>
</pre></div>
</div>
<p>This is roughly equivalent to (with some edge case handling omitted):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@websocket</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">socket</span><span class="p">:</span> <span class="n">WebSocket</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
  <span class="k">await</span> <span class="n">socket</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>

  <span class="k">try</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">anyio</span><span class="o">.</span><span class="n">task_group</span><span class="p">()</span> <span class="k">as</span> <span class="n">tg</span><span class="p">:</span>
      <span class="c1"># &#39;receive&#39; in the background to catch client disconnects</span>
      <span class="n">tg</span><span class="o">.</span><span class="n">start_soon</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">receive</span><span class="p">)</span>

      <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">socket</span><span class="o">.</span><span class="n">send_text</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()))</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.1</span><span class="p">)</span>
  <span class="k">finally</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">socket</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Just like the WebSocket listeners, it also supports dependency injection and
serialization:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Event</span><span class="p">:</span>
    <span class="n">time</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">data</span><span class="p">:</span> <span class="nb">str</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">provide_client_info</span><span class="p">(</span><span class="n">socket</span><span class="p">:</span> <span class="n">WebSocket</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">socket</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">host</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">socket</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2">&quot;</span>


<span class="nd">@websocket_stream</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">dependencies</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;client_info&quot;</span><span class="p">:</span> <span class="n">provide_client_info</span><span class="p">})</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">client_info</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="n">Event</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="k">yield</span> <span class="n">Event</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="n">data</span><span class="o">=</span><span class="s2">&quot;hello, world!&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">.1</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/websockets.html#websocket-streams"><span class="std std-ref">WebSocket Streams</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3894">litestar-org/litestar#3894</a></span></p>
</div>
</dd>
<dt>Add query params to <code class="docutils literal notranslate"><span class="pre">Redirect</span></code><a class="headerlink reference internal" href="#2.14.0-add query params to" id="2.14.0-add query params to">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a <code class="docutils literal notranslate"><span class="pre">query_params</span></code> parameter to <a class="reference internal" href="../reference/response/index.html#litestar.response.Redirect" title="litestar.response.Redirect"><code class="xref py py-class docutils literal notranslate"><span class="pre">Redirect</span></code></a>, to
supply query parameters for a redirect</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3891">litestar-org/litestar#3891</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3901">litestar-org/litestar#3901</a></span></p>
</div>
</dd>
<dt>Add Valkey as a native store<a class="headerlink reference internal" href="#2.14.0-add valkey as a native store" id="2.14.0-add valkey as a native store">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a new <a class="reference internal" href="../reference/stores/valkey.html#litestar.stores.valkey.ValkeyStore" title="litestar.stores.valkey.ValkeyStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValkeyStore</span></code></a>, which provides the same
functionality as the <a class="reference internal" href="../reference/stores/redis.html#litestar.stores.redis.RedisStore" title="litestar.stores.redis.RedisStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">RedisStore</span></code></a> but using valkey
instead.</p>
<p>The necessary dependencies can be installed with the <code class="docutils literal notranslate"><span class="pre">litestar[valkey]</span></code> extra,
which includes <code class="docutils literal notranslate"><span class="pre">valkey</span></code> as well as <code class="docutils literal notranslate"><span class="pre">libvalkey</span></code> as an optimisation layer.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3892">litestar-org/litestar#3892</a></span></p>
</div>
</dd>
<dt>Correctly specify <code class="docutils literal notranslate"><span class="pre">&quot;path&quot;</span></code> as an error message source for validation errors<a class="headerlink reference internal" href="#2.14.0-correctly specify" id="2.14.0-correctly specify">#</a></dt><dd><div class="changelog-change docutils container">
<p>Use <code class="docutils literal notranslate"><span class="pre">&quot;path&quot;</span></code> as the <code class="docutils literal notranslate"><span class="pre">&quot;source&quot;</span></code> property of a validation error message if the
key is a path parameter.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3919">litestar-org/litestar#3919</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3920">litestar-org/litestar#3920</a></span></p>
</div>
</dd>
<dt>Add subprocess test client<a class="headerlink reference internal" href="#2.14.0-add subprocess test client" id="2.14.0-add subprocess test client">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add new <a class="reference internal" href="../reference/testing.html#litestar.testing.subprocess_async_client" title="litestar.testing.subprocess_async_client"><code class="xref py py-func docutils literal notranslate"><span class="pre">subprocess_async_client()</span></code></a> and <a class="reference internal" href="../reference/testing.html#litestar.testing.subprocess_sync_client" title="litestar.testing.subprocess_sync_client"><code class="xref py py-func docutils literal notranslate"><span class="pre">subprocess_sync_client()</span></code></a>,
which can run an application in a new process, primarily for the purpose of
end-to-end testing.</p>
<p>The application will be run with <code class="docutils literal notranslate"><span class="pre">uvicorn</span></code>, which has to be installed separately or via the
<code class="docutils literal notranslate"><span class="pre">litestar[standard]</span></code> group.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3654">litestar-org/litestar#3654</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3655">litestar-org/litestar#3655</a></span></p>
</div>
</dd>
<dt>Support for Python 3.13<a class="headerlink reference internal" href="#2.14.0-support for python 3.13" id="2.14.0-support for python 3.13">#</a></dt><dd><div class="changelog-change docutils container">
<blockquote>
<div><p>Support Python 3.13</p>
</div></blockquote>
<div class="admonition important">
<p class="admonition-title">Important</p>
<ul class="simple">
<li><p>There are no Python 3.13 prebuilt wheels for <code class="docutils literal notranslate"><span class="pre">psycopg[binary]</span></code>.  If you
rely on this for development, youll need to have the postgres development
libraries installed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">picologging</span></code> does not currently support Python 3.13</p></li>
</ul>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3850">litestar-org/litestar#3850</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.14.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.14.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>OpenAPI: Always generate refs for enums<a class="headerlink reference internal" href="#2.14.0-openapi: always generate refs for enums" id="2.14.0-openapi: always generate refs for enums">#</a></dt><dd><div class="changelog-change docutils container">
<p>Ensure that enums always generate a schema reference instead of being inlined</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3518">litestar-org/litestar#3518</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3525">litestar-org/litestar#3525</a></span></p>
</div>
</dd>
<dt>Support varying <code class="docutils literal notranslate"><span class="pre">mtime</span></code> semantics across different fsspec implementations<a class="headerlink reference internal" href="#2.14.0-support varying" id="2.14.0-support varying">#</a></dt><dd><div class="changelog-change docutils container">
<p>Change the implementation of <a class="reference internal" href="../reference/response/index.html#litestar.response.File" title="litestar.response.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a> to be able to
handle most fsspec implementations <code class="docutils literal notranslate"><span class="pre">mtime</span></code> equivalent.</p>
<p>This is necessary because fsspec implementations do not have a standardised way
to retrieve an <code class="docutils literal notranslate"><span class="pre">mtime</span></code> equivalent; Some report an <code class="docutils literal notranslate"><span class="pre">mtime</span></code>, while some may
use a different key (e.g. <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code>) and others do not report this value
at all.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3899">litestar-org/litestar#3899</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3902">litestar-org/litestar#3902</a></span></p>
</div>
</dd>
<dt>OpenAPI: Ensure query-only properties are only included in queries<a class="headerlink reference internal" href="#2.14.0-openapi: ensure query-only properties are only included in queries" id="2.14.0-openapi: ensure query-only properties are only included in queries">#</a></dt><dd><div class="changelog-change docutils container">
<p>Remove the inclusion of the query-only properties <code class="docutils literal notranslate"><span class="pre">allowEmptyValue</span></code>
and <code class="docutils literal notranslate"><span class="pre">allowReserved</span></code> in path, cookie, header parameter and response header
schemas</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3908">litestar-org/litestar#3908</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3909">litestar-org/litestar#3909</a></span></p>
</div>
</dd>
<dt>Channels: Use <code class="docutils literal notranslate"><span class="pre">SQL</span></code> function for in psycopg backend<a class="headerlink reference internal" href="#2.14.0-channels: use" id="2.14.0-channels: use">#</a></dt><dd><div class="changelog-change docutils container">
<p>Update the <a class="reference internal" href="../reference/channels/backends/psycopg.html#litestar.channels.backends.psycopg.PsycoPgChannelsBackend" title="litestar.channels.backends.psycopg.PsycoPgChannelsBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">PsycoPgChannelsBackend</span></code></a>
backend to use the native psycopg <code class="docutils literal notranslate"><span class="pre">SQL</span></code> API</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3916">litestar-org/litestar#3916</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.13.0">
<h2>2.13.0<a class="headerlink" href="#2.13.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-11-20<section id="2.13.0-feature">
<h3>Features<a class="headerlink" href="#2.13.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Add <code class="docutils literal notranslate"><span class="pre">request_max_body_size</span></code> layered parameter<a class="headerlink reference internal" href="#2.13.0-add" id="2.13.0-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a new <code class="docutils literal notranslate"><span class="pre">request_max_body_size</span></code> layered parameter, which limits the
maximum size of a request body before returning a <code class="docutils literal notranslate"><span class="pre">413</span> <span class="pre">-</span> <span class="pre">Request</span> <span class="pre">Entity</span> <span class="pre">Too</span> <span class="pre">Large</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/requests.html#limits"><span class="std std-ref">Limits</span></a></p>
</div>
<p>References: </p>
</div>
</dd>
<dt>Send CSRF request header in OpenAPI plugins<a class="headerlink reference internal" href="#2.13.0-send csrf request header in openapi plugins" id="2.13.0-send csrf request header in openapi plugins">#</a></dt><dd><div class="changelog-change docutils container">
<p>Supported OpenAPI UI clients will extract the CSRF cookie value and attach it to
the request headers if CSRF is enabled on the application.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3754">litestar-org/litestar#3754</a></span></p>
</div>
</dd>
<dt>deprecate <cite>litestar.contrib.sqlalchemy</cite><a class="headerlink reference internal" href="#2.13.0-deprecate" id="2.13.0-deprecate">#</a></dt><dd><div class="changelog-change docutils container">
<p>Deprecate the <code class="docutils literal notranslate"><span class="pre">litestar.contrib.sqlalchemy</span></code> module in favor of <code class="docutils literal notranslate"><span class="pre">litestar.plugins.sqlalchemy</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3755">litestar-org/litestar#3755</a></span></p>
</div>
</dd>
<dt>implement <cite>HTMX</cite> plugin using <cite>litestar-htmx</cite><a class="headerlink reference internal" href="#2.13.0-implement" id="2.13.0-implement">#</a></dt><dd><div class="changelog-change docutils container">
<p>This plugin migrates the HTMX integration to <code class="docutils literal notranslate"><span class="pre">litestar.plugins.htmx</span></code>.</p>
<p>This logic has been moved to its own repository named <code class="docutils literal notranslate"><span class="pre">litestar-htmx</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3837">litestar-org/litestar#3837</a></span></p>
</div>
</dd>
<dt>Pydantic: honor <code class="docutils literal notranslate"><span class="pre">hide_input_in_errors</span></code> in throwing validation exceptions<a class="headerlink reference internal" href="#2.13.0-pydantic: honor" id="2.13.0-pydantic: honor">#</a></dt><dd><div class="changelog-change docutils container">
<p>Pydantics <code class="docutils literal notranslate"><span class="pre">BaseModel</span></code> supports configuration to hide data values when
throwing exceptions, via setting <code class="docutils literal notranslate"><span class="pre">hide_input_in_errors</span></code>  see
<a class="reference external" href="https://docs.pydantic.dev/2.0/api/config/#pydantic.config.ConfigDict.hide_input_in_errors">https://docs.pydantic.dev/2.0/api/config/#pydantic.config.ConfigDict.hide_input_in_errors</a>
and <a class="reference external" href="https://docs.pydantic.dev/latest/usage/model_config/#hide-input-in-errors">https://docs.pydantic.dev/latest/usage/model_config/#hide-input-in-errors</a></p>
<p>Litestar will now honour this setting</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3843">litestar-org/litestar#3843</a></span></p>
</div>
</dd>
<dt>deprecate``litestar.contrib.pydantic``<a class="headerlink reference internal" href="#2.13.0-deprecate``litestar.contrib.pydantic``" id="2.13.0-deprecate``litestar.contrib.pydantic``">#</a></dt><dd><div class="changelog-change docutils container">
<p>## Description</p>
<p>Deprecate <code class="docutils literal notranslate"><span class="pre">litestar.contrib.pydantic</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">litestar.plugins.pydantic</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3787">litestar-org/litestar#3787</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3852">litestar-org/litestar#3852</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.13.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.13.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix sign bug in rate limit middelware<a class="headerlink reference internal" href="#2.13.0-fix sign bug in rate limit middelware" id="2.13.0-fix sign bug in rate limit middelware">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug in the rate limit middleware, that would cause the response header
fields <code class="docutils literal notranslate"><span class="pre">RateLimit-Remaining</span></code> and <code class="docutils literal notranslate"><span class="pre">RateLimit-Reset</span></code> to have negative values.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3776">litestar-org/litestar#3776</a></span></p>
</div>
</dd>
<dt>OpenAPI: map JSONSchema spec naming convention to snake_case when names from <code class="docutils literal notranslate"><span class="pre">schema_extra</span></code> are not found<a class="headerlink reference internal" href="#2.13.0-openapi: map jsonschema spec naming convention to snake_case when names from" id="2.13.0-openapi: map jsonschema spec naming convention to snake_case when names from">#</a></dt><dd><div class="changelog-change docutils container">
<p>Address rejection of <code class="docutils literal notranslate"><span class="pre">schema_extra</span></code> values using JSONSchema spec-compliant
key names by mapping between the relevant naming conventions.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3766">litestar-org/litestar#3766</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3767">litestar-org/litestar#3767</a></span></p>
</div>
</dd>
<dt>Use correct path template for routes without path parameters<a class="headerlink reference internal" href="#2.13.0-use correct path template for routes without path parameters" id="2.13.0-use correct path template for routes without path parameters">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a but where, when using <code class="docutils literal notranslate"><span class="pre">PrometheusConfig.group_path=True</span></code>, the metrics
exporter response content would ignore all paths with no path parameters.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3784">litestar-org/litestar#3784</a></span></p>
</div>
</dd>
<dt>Fix a dangling anyio stream in <code class="docutils literal notranslate"><span class="pre">TestClient</span></code><a class="headerlink reference internal" href="#2.13.0-fix a dangling anyio stream in" id="2.13.0-fix a dangling anyio stream in">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a dangling anyio stream in <code class="docutils literal notranslate"><span class="pre">TestClient</span></code> that would cause a resource warning</p>
<p>Closes #3834.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3834">litestar-org/litestar#3834</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3836">litestar-org/litestar#3836</a></span></p>
</div>
</dd>
<dt>Fix bug in handling of missing <code class="docutils literal notranslate"><span class="pre">more_body</span></code> key in ASGI response<a class="headerlink reference internal" href="#2.13.0-fix bug in handling of missing" id="2.13.0-fix bug in handling of missing">#</a></dt><dd><div class="changelog-change docutils container">
<p>Some frameworks do not include the <code class="docutils literal notranslate"><span class="pre">more_body</span></code> key in the http.response.body ASGI event.
According to the ASGI specification, this key should be set to <code class="docutils literal notranslate"><span class="pre">False</span></code> when
there is no additional body content. Litestar expects <code class="docutils literal notranslate"><span class="pre">more_body</span></code> to be
explicitly defined, but others might not.</p>
<p>This leads to failures when an ASGI framework mounted on Litestar throws error
if this key is missing.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3845">litestar-org/litestar#3845</a></span></p>
</div>
</dd>
<dt>Fix duplicate <code class="docutils literal notranslate"><span class="pre">RateLimit-*</span></code> headers with caching<a class="headerlink reference internal" href="#2.13.0-fix duplicate" id="2.13.0-fix duplicate">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where <code class="docutils literal notranslate"><span class="pre">RateLimitMiddleware</span></code> duplicate all <code class="docutils literal notranslate"><span class="pre">RateLimit-*</span></code> headers
when handler cache is enabled.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3625">litestar-org/litestar#3625</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3855">litestar-org/litestar#3855</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.12.1">
<h2>2.12.1<a class="headerlink" href="#2.12.1" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-09-21<section id="2.12.1-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.12.1-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix base package requiring <code class="docutils literal notranslate"><span class="pre">annotated_types</span></code> dependency<a class="headerlink reference internal" href="#2.12.1-fix base package requiring" id="2.12.1-fix base package requiring">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug introduced in #3721 that was released with <code class="docutils literal notranslate"><span class="pre">2.12.0</span></code> caused an
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ImportError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportError</span></code></a> when the <code class="docutils literal notranslate"><span class="pre">annotated_types</span></code> package was not installed.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3749">litestar-org/litestar#3749</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3750">litestar-org/litestar#3750</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.12.0">
<h2>2.12.0<a class="headerlink" href="#2.12.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-09-21<section id="2.12.0-feature">
<h3>Features<a class="headerlink" href="#2.12.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Support strings in <code class="docutils literal notranslate"><span class="pre">media_type</span></code> for <code class="docutils literal notranslate"><span class="pre">ResponseSpec</span></code><a class="headerlink reference internal" href="#2.12.0-support strings in" id="2.12.0-support strings in">#</a></dt><dd><div class="changelog-change docutils container">
<p>Accept strings for the <code class="docutils literal notranslate"><span class="pre">media_type</span></code> parameter of <a class="reference internal" href="../reference/openapi/openapi.html#litestar.openapi.ResponseSpec" title="litestar.openapi.datastructures.ResponseSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResponseSpec</span></code></a>,
making it behave the same way as <a class="reference internal" href="../reference/response/index.html#litestar.response.Response.params.media_type" title="litestar.response.Response"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">media_type</span></code></a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3728">litestar-org/litestar#3728</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3729">litestar-org/litestar#3729</a></span></p>
</div>
</dd>
<dt>OpenAPI: Allow customizing schema component keys<a class="headerlink reference internal" href="#2.12.0-openapi: allow customizing schema component keys" id="2.12.0-openapi: allow customizing schema component keys">#</a></dt><dd><div class="changelog-change docutils container">
<p>Allow customizing the schema key used for a component in the OpenAPI schema.
The supplied keys are enforced to be unique, and it is checked that they wont
be reused across different types.</p>
<p>The keys can be set with the newly introduced <code class="docutils literal notranslate"><span class="pre">schema_component_key</span></code> parameter,
which is available on <a class="reference internal" href="../reference/params.html#litestar.params.KwargDefinition" title="litestar.params.KwargDefinition"><code class="xref py py-class docutils literal notranslate"><span class="pre">KwargDefinition</span></code></a>,
<a class="reference internal" href="../reference/params.html#litestar.params.Body" title="litestar.params.Body"><code class="xref py py-func docutils literal notranslate"><span class="pre">Body()</span></code></a> and <a class="reference internal" href="../reference/params.html#litestar.params.Parameter" title="litestar.params.Parameter"><code class="xref py py-func docutils literal notranslate"><span class="pre">Parameter()</span></code></a>.</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">Two components will be generated: <code class="docutils literal notranslate"><span class="pre">Data</span></code> and <code class="docutils literal notranslate"><span class="pre">not_data</span></code></span><a class="headerlink" href="#id8" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Data</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="nd">@post</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">handler</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Data</span><span class="p">,</span> <span class="n">Parameter</span><span class="p">(</span><span class="n">schema_component_key</span><span class="o">=</span><span class="s2">&quot;not_data&quot;</span><span class="p">)],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Data</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">Data</span><span class="p">()</span>

<span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">handler_2</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Data</span><span class="p">,</span> <span class="n">Parameter</span><span class="p">(</span><span class="n">schema_component_key</span><span class="o">=</span><span class="s2">&quot;not_data&quot;</span><span class="p">)]:</span>
    <span class="k">return</span> <span class="n">Data</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3738">litestar-org/litestar#3738</a></span></p>
</div>
</dd>
<dt>Raise exception when body parameter is annotated with non-bytes type<a class="headerlink reference internal" href="#2.12.0-raise exception when body parameter is annotated with non-bytes type" id="2.12.0-raise exception when body parameter is annotated with non-bytes type">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add an informative error message to help avoid the common mistake of attempting
to use the <code class="docutils literal notranslate"><span class="pre">body</span></code> parameter to receive validated / structured data by
annotating it with a type such as <code class="docutils literal notranslate"><span class="pre">list[str]</span></code>, instead of <code class="docutils literal notranslate"><span class="pre">bytes</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3740">litestar-org/litestar#3740</a></span></p>
</div>
</dd>
<dt>OpenAPI: Default to <code class="docutils literal notranslate"><span class="pre">latest</span></code> scalar version<a class="headerlink reference internal" href="#2.12.0-openapi: default to" id="2.12.0-openapi: default to">#</a></dt><dd><div class="changelog-change docutils container">
<p>Change the default version of the scalar OpenAPI renderer to <code class="docutils literal notranslate"><span class="pre">latest</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3747">litestar-org/litestar#3747</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.12.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.12.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix overzealous warning for greedy middleware <code class="docutils literal notranslate"><span class="pre">exclude</span></code> pattern<a class="headerlink reference internal" href="#2.12.0-fix overzealous warning for greedy middleware" id="2.12.0-fix overzealous warning for greedy middleware">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug introduced in <code class="docutils literal notranslate"><span class="pre">2.11.0</span></code> (<a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3700">litestar-org/litestar#3700</a>),
where the added warning for a greedy pattern use for the middleware <code class="docutils literal notranslate"><span class="pre">exclude</span></code>
parameter was itself greedy, and would warn for non-greedy patterns, e.g.
<code class="docutils literal notranslate"><span class="pre">^/$</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3712">litestar-org/litestar#3712</a></span></p>
</div>
</dd>
<dt>Fix dangling coroutines in request extraction handling cleanup<a class="headerlink reference internal" href="#2.12.0-fix dangling coroutines in request extraction handling cleanup" id="2.12.0-fix dangling coroutines in request extraction handling cleanup">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where, when a required header parameter was defined for a request that
also expects a request body, failing to provide the header resulted in a
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeWarning" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeWarning</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@post</span><span class="p">()</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Parameter</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="s2">&quot;x-secret&quot;</span><span class="p">)])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">return</span> <span class="kc">None</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">x-secret</span></code> header was not provided, warning like this would be seen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">RuntimeWarning</span><span class="p">:</span> <span class="n">coroutine</span> <span class="s1">&#39;json_extractor&#39;</span> <span class="n">was</span> <span class="n">never</span> <span class="n">awaited</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3734">litestar-org/litestar#3734</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3735">litestar-org/litestar#3735</a></span></p>
</div>
</dd>
<dt>OpenAPI: Correctly handle <code class="docutils literal notranslate"><span class="pre">type</span></code> keyword<a class="headerlink reference internal" href="#2.12.0-openapi: correctly handle" id="2.12.0-openapi: correctly handle">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where a type alias created with the <code class="docutils literal notranslate"><span class="pre">type</span></code> keyword would create an
empty OpenAPI schema entry for that parameter</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3714">litestar-org/litestar#3714</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3715">litestar-org/litestar#3715</a></span></p>
</div>
</dd>
<dt>OpenAPI: Ensure valid schema keys<a class="headerlink reference internal" href="#2.12.0-openapi: ensure valid schema keys" id="2.12.0-openapi: ensure valid schema keys">#</a></dt><dd><div class="changelog-change docutils container">
<p>Ensure that generated schema component keys are always valid according to
<a class="reference external" href="https://spec.openapis.org/oas/latest.html#fixed-fields-5"> 4.8.7.1</a> of the
OpenAPI specification.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3630">litestar-org/litestar#3630</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3635">litestar-org/litestar#3635</a></span></p>
</div>
</dd>
<dt>OpenAPI: Correctly handle <code class="docutils literal notranslate"><span class="pre">msgspec.Struct</span></code> tagged unions<a class="headerlink reference internal" href="#2.12.0-openapi: correctly handle" id="2.12.0-openapi: correctly handle">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where the OpenAPI schema would not include the struct fields
implicitly generated by msgspec for its
<a class="reference external" href="https://jcristharif.com/msgspec/structs.html#tagged-unions">tagged union</a>
support.</p>
<p>The tag field of the struct will now be added as a <code class="docutils literal notranslate"><span class="pre">const</span></code> of the appropriate
type to the schema.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3659">litestar-org/litestar#3659</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3742">litestar-org/litestar#3742</a></span></p>
</div>
</dd>
<dt>OpenAPI: Fix Pydantic 1 constrained string with default factory<a class="headerlink reference internal" href="#2.12.0-openapi: fix pydantic 1 constrained string with default factory" id="2.12.0-openapi: fix pydantic 1 constrained string with default factory">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where using a Pydantic model with a <code class="docutils literal notranslate"><span class="pre">default_factory</span></code> set for a
constrained string field would raise a <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.SerializationException" title="litestar.exceptions.SerializationException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SerializationException</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3710">litestar-org/litestar#3710</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3721">litestar-org/litestar#3721</a></span></p>
</div>
</dd>
<dt>OpenAPI/DTO: Fix missing Pydantic 2 computed fields<a class="headerlink reference internal" href="#2.12.0-openapi/dto: fix missing pydantic 2 computed fields" id="2.12.0-openapi/dto: fix missing pydantic 2 computed fields">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug that would lead to Pydantic computed fields to be ignored during
schema generation when the model was using a
<code class="xref py py-class docutils literal notranslate"><span class="pre">PydanticDTO</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">Only the <code class="docutils literal notranslate"><span class="pre">foo</span></code> field would be included in the schema</span><a class="headerlink" href="#id9" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">foo</span><span class="p">:</span> <span class="nb">int</span>

    <span class="nd">@computed_field</span>
    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">123</span>

<span class="nd">@get</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">return_dto</span><span class="o">=</span><span class="n">PydanticDTO</span><span class="p">[</span><span class="n">MyModel</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">test</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">MyModel</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">MyModel</span><span class="o">.</span><span class="n">model_validate</span><span class="p">({</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
</pre></div>
</div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3656">litestar-org/litestar#3656</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3721">litestar-org/litestar#3721</a></span></p>
</div>
</dd>
<dt>OpenAPI: Fix Pydantic <code class="docutils literal notranslate"><span class="pre">json_schema_extra</span></code> overrides only being merged partially<a class="headerlink reference internal" href="#2.12.0-openapi: fix pydantic" id="2.12.0-openapi: fix pydantic">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where <code class="docutils literal notranslate"><span class="pre">json_schema_extra</span></code> were not reliably extracted from Pydantic
models and included in the OpenAPI schema.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">Only the title set directly on the field would be used for the schema</span><a class="headerlink" href="#id10" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">pydantic</span><span class="o">.</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">with_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">pydantic</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;new_title&quot;</span><span class="p">)</span>
    <span class="n">with_extra_title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">pydantic</span><span class="o">.</span><span class="n">Field</span><span class="p">(</span><span class="n">json_schema_extra</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;more_new_title&quot;</span><span class="p">})</span>


<span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/example&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">example_route</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Model</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">Model</span><span class="p">(</span><span class="n">with_title</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="n">with_extra_title</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3656">litestar-org/litestar#3656</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3721">litestar-org/litestar#3721</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.11.0">
<h2>2.11.0<a class="headerlink" href="#2.11.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-08-27<section id="2.11.0-feature">
<h3>Features<a class="headerlink" href="#2.11.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Use PyJWT instead of python-jose<a class="headerlink reference internal" href="#2.11.0-use pyjwt instead of python-jose" id="2.11.0-use pyjwt instead of python-jose">#</a></dt><dd><div class="changelog-change docutils container">
<p>The functionality in <a class="reference internal" href="../reference/security/jwt.html#module-litestar.security.jwt" title="litestar.security.jwt"><code class="xref py py-mod docutils literal notranslate"><span class="pre">litestar.security.jwt</span></code></a> is now backed by
<a class="reference external" href="https://pyjwt.readthedocs.io/en/stable/">PyJWT</a> instead of
<a class="reference external" href="https://github.com/mpdavis/python-jose/">python-jose</a>, due to the unclear
maintenance status of the latter.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3684">litestar-org/litestar#3684</a></span></p>
</div>
</dd>
<dt>DTO: Introduce <code class="docutils literal notranslate"><span class="pre">forbid_unknown_fields</span></code> config<a class="headerlink reference internal" href="#2.11.0-dto: introduce" id="2.11.0-dto: introduce">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a new config option to <a class="reference internal" href="../reference/dto/config.html#litestar.dto.config.DTOConfig" title="litestar.dto.config.DTOConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">DTOConfig</span></code></a>:
<a class="reference internal" href="../reference/dto/config.html#litestar.dto.config.DTOConfig.forbid_unknown_fields" title="litestar.dto.config.DTOConfig.forbid_unknown_fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">forbid_unknown_fields</span></code></a>
When set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, a validation error response will be returned if the source
data contains fields not defined on the model.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3690">litestar-org/litestar#3690</a></span></p>
</div>
</dd>
<dt>DTO: Support <code class="docutils literal notranslate"><span class="pre">extra=&quot;forbid&quot;</span></code> model config for <code class="docutils literal notranslate"><span class="pre">PydanticDTO</span></code><a class="headerlink reference internal" href="#2.11.0-dto: support" id="2.11.0-dto: support">#</a></dt><dd><div class="changelog-change docutils container">
<p>For Pydantic models with <a class="reference external" href="https://docs.pydantic.dev/latest/api/config/#pydantic.config.ConfigDict.extra">extra=forbid</a>
in their configuration:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-0">
Pydantic 2</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</pre></div>
</div>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-1">
Pydantic 1</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s2">&quot;ignore&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</pre></div>
</div>
</div>
</div>
<p><a class="reference internal" href="../reference/dto/config.html#litestar.dto.config.DTOConfig.forbid_unknown_fields" title="litestar.dto.config.DTOConfig.forbid_unknown_fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">forbid_unknown_fields</span></code></a> will be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> by default.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Its still possible to override this configuration at the DTO level</p>
</div>
<p>To facilitate this feature, <a class="reference internal" href="../reference/dto/base_dto.html#litestar.dto.base_dto.AbstractDTO.get_config_for_model_type" title="litestar.dto.base_dto.AbstractDTO.get_config_for_model_type"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_config_for_model_type()</span></code></a>
has been added to <a class="reference internal" href="../reference/dto/base_dto.html#litestar.dto.base_dto.AbstractDTO" title="litestar.dto.base_dto.AbstractDTO"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractDTO</span></code></a>, allowing the
customization of the base config defined on the DTO factory for a specific model
type. It will be called on DTO factory initialization, and receives the concrete
DTO model type along side the <a class="reference internal" href="../reference/dto/config.html#litestar.dto.config.DTOConfig" title="litestar.dto.config.DTOConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">DTOConfig</span></code></a> defined
on the base DTO, which it can alter and return a new version to be used within
the DTO instance.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3691">litestar-org/litestar#3691</a></span></p>
</div>
</dd>
<dt>Custom JWT payload classes<a class="headerlink reference internal" href="#2.11.0-custom jwt payload classes" id="2.11.0-custom jwt payload classes">#</a></dt><dd><div class="changelog-change docutils container">
<p>Support extending the default <a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.Token" title="litestar.security.jwt.Token"><code class="xref py py-class docutils literal notranslate"><span class="pre">Token</span></code></a> class used
by the JWT backends decode the payload into.</p>
<ul class="simple">
<li><p>Add new <code class="docutils literal notranslate"><span class="pre">token_cls</span></code> field on the JWT auth config classes</p></li>
<li><p>Add new <code class="docutils literal notranslate"><span class="pre">token_cls</span></code> parameter to JWT auth middlewares</p></li>
<li><p>Switch to using msgspec to convert the JWT payload into instances of the token
class</p></li>
</ul>
<div class="sd-tab-set docutils">
<input id="sd-tab-item-2" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" data-sync-id="3.8" for="sd-tab-item-2">
Python 3.8+</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dataclasses</span>
<span class="kn">import</span> <span class="nn">secrets</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span>

<span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">get</span>
<span class="kn">from</span> <span class="nn">litestar.connection</span> <span class="kn">import</span> <span class="n">ASGIConnection</span>
<span class="kn">from</span> <span class="nn">litestar.security.jwt</span> <span class="kn">import</span> <span class="n">JWTAuth</span><span class="p">,</span> <span class="n">Token</span>

<span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">CustomToken</span><span class="p">(</span><span class="n">Token</span><span class="p">):</span>
    <span class="n">token_flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

<span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">User</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">retrieve_user_handler</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="n">CustomToken</span><span class="p">,</span> <span class="n">connection</span><span class="p">:</span> <span class="n">ASGIConnection</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">sub</span><span class="p">)</span>

<span class="n">TOKEN_SECRET</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_hex</span><span class="p">()</span>

<span class="n">jwt_auth</span> <span class="o">=</span> <span class="n">JWTAuth</span><span class="p">[</span><span class="n">User</span><span class="p">](</span>
    <span class="n">token_secret</span><span class="o">=</span><span class="n">TOKEN_SECRET</span><span class="p">,</span>
    <span class="n">retrieve_user_handler</span><span class="o">=</span><span class="n">retrieve_user_handler</span><span class="p">,</span>
    <span class="n">token_cls</span><span class="o">=</span><span class="n">CustomToken</span><span class="p">,</span>
<span class="p">)</span>

<span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">[</span><span class="n">User</span><span class="p">,</span> <span class="n">CustomToken</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s2">&quot;token_flag&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">token_flag</span><span class="p">}</span>
</pre></div>
</div>
</div>
<input checked="checked" id="sd-tab-item-3" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" data-sync-id="3.9" for="sd-tab-item-3">
Python 3.9+</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dataclasses</span>
<span class="kn">import</span> <span class="nn">secrets</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>

<span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">get</span>
<span class="kn">from</span> <span class="nn">litestar.connection</span> <span class="kn">import</span> <span class="n">ASGIConnection</span>
<span class="kn">from</span> <span class="nn">litestar.security.jwt</span> <span class="kn">import</span> <span class="n">JWTAuth</span><span class="p">,</span> <span class="n">Token</span>

<span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">CustomToken</span><span class="p">(</span><span class="n">Token</span><span class="p">):</span>
    <span class="n">token_flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

<span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">User</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">retrieve_user_handler</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="n">CustomToken</span><span class="p">,</span> <span class="n">connection</span><span class="p">:</span> <span class="n">ASGIConnection</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">sub</span><span class="p">)</span>

<span class="n">TOKEN_SECRET</span> <span class="o">=</span> <span class="n">secrets</span><span class="o">.</span><span class="n">token_hex</span><span class="p">()</span>

<span class="n">jwt_auth</span> <span class="o">=</span> <span class="n">JWTAuth</span><span class="p">[</span><span class="n">User</span><span class="p">](</span>
    <span class="n">token_secret</span><span class="o">=</span><span class="n">TOKEN_SECRET</span><span class="p">,</span>
    <span class="n">retrieve_user_handler</span><span class="o">=</span><span class="n">retrieve_user_handler</span><span class="p">,</span>
    <span class="n">token_cls</span><span class="o">=</span><span class="n">CustomToken</span><span class="p">,</span>
<span class="p">)</span>

<span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">[</span><span class="n">User</span><span class="p">,</span> <span class="n">CustomToken</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s2">&quot;token_flag&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">token_flag</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3692">litestar-org/litestar#3692</a></span></p>
</div>
</dd>
<dt>Extended JWT configuration options<a class="headerlink reference internal" href="#2.11.0-extended jwt configuration options" id="2.11.0-extended jwt configuration options">#</a></dt><dd><div class="changelog-change docutils container">
<p><strong>New JWT backend fields</strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.JWTAuth.accepted_audiences" title="litestar.security.jwt.JWTAuth.accepted_audiences"><code class="xref py py-attr docutils literal notranslate"><span class="pre">accepted_audiences</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.JWTAuth.accepted_issuers" title="litestar.security.jwt.JWTAuth.accepted_issuers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">accepted_issuers</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.JWTAuth.require_claims" title="litestar.security.jwt.JWTAuth.require_claims"><code class="xref py py-attr docutils literal notranslate"><span class="pre">require_claims</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.JWTAuth.verify_expiry" title="litestar.security.jwt.JWTAuth.verify_expiry"><code class="xref py py-attr docutils literal notranslate"><span class="pre">verify_expiry</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.JWTAuth.verify_not_before" title="litestar.security.jwt.JWTAuth.verify_not_before"><code class="xref py py-attr docutils literal notranslate"><span class="pre">verify_not_before</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.JWTAuth.strict_audience" title="litestar.security.jwt.JWTAuth.strict_audience"><code class="xref py py-attr docutils literal notranslate"><span class="pre">strict_audience</span></code></a></p></li>
</ul>
<p><strong>New JWT middleware parameters</strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.JWTAuthenticationMiddleware.params.token_audience" title="litestar.security.jwt.JWTAuthenticationMiddleware"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">token_audience</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.JWTAuthenticationMiddleware.params.token_issuer" title="litestar.security.jwt.JWTAuthenticationMiddleware"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">token_issuer</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.JWTAuthenticationMiddleware.params.require_claims" title="litestar.security.jwt.JWTAuthenticationMiddleware"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">require_claims</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.JWTAuthenticationMiddleware.params.verify_expiry" title="litestar.security.jwt.JWTAuthenticationMiddleware"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">verify_expiry</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.JWTAuthenticationMiddleware.params.verify_not_before" title="litestar.security.jwt.JWTAuthenticationMiddleware"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">verify_not_before</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.JWTAuthenticationMiddleware.params.strict_audience" title="litestar.security.jwt.JWTAuthenticationMiddleware"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">strict_audience</span></code></a></p></li>
</ul>
<p><strong>New ``Token.decode`` parameters</strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.Token.decode.params.audience" title="litestar.security.jwt.Token.decode"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">audience</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.Token.decode.params.issuer" title="litestar.security.jwt.Token.decode"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">issuer</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.Token.decode.params.require_claims" title="litestar.security.jwt.Token.decode"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">require_claims</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.Token.decode.params.verify_exp" title="litestar.security.jwt.Token.decode"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">verify_exp</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.Token.decode.params.verify_nbf" title="litestar.security.jwt.Token.decode"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">verify_nbf</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.Token.decode.params.strict_audience" title="litestar.security.jwt.Token.decode"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">strict_audience</span></code></a></p></li>
</ul>
<p><strong>Other changes</strong></p>
<p>:meth`Token.decode_payload &lt;~litestar.security.jwt.Token.decode_payload&gt;` has
been added to make customization of payload decoding / verification easier
without having to re-implement the functionality of the base class method.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/security/jwt.html"><span class="doc">JWT Security Backends</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3695">litestar-org/litestar#3695</a></span></p>
</div>
</dd>
<dt>Warn about greedy exclude patterns in middlewares<a class="headerlink reference internal" href="#2.11.0-warn about greedy exclude patterns in middlewares" id="2.11.0-warn about greedy exclude patterns in middlewares">#</a></dt><dd><div class="changelog-change docutils container">
<p>Raise a warning when a middlewares <code class="docutils literal notranslate"><span class="pre">exclude</span></code> pattern greedily matches all
paths.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">litestar.middlewares</span>

<span class="k">class</span> <span class="nc">MyMiddleware</span><span class="p">(</span><span class="n">AbstractMiddleware</span><span class="p">):</span>
    <span class="n">exclude</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;/home&quot;</span><span class="p">]</span>

    <span class="k">async</span> <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="n">Scope</span><span class="p">,</span> <span class="n">receive</span><span class="p">:</span> <span class="n">Receive</span><span class="p">,</span> <span class="n">send</span><span class="p">:</span> <span class="n">Send</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">receive</span><span class="p">,</span> <span class="n">send</span><span class="p">)</span>
</pre></div>
</div>
<p>Middleware like this would silently be disabled for every route, since the
exclude pattern <code class="docutils literal notranslate"><span class="pre">/</span></code> matches all paths. If a configuration like this is
detected, a warning will now be raised at application startup.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3700">litestar-org/litestar#3700</a></span></p>
</div>
</dd>
<dt>RFC 9457 <em>Problem Details</em> plugin<a class="headerlink reference internal" href="#2.11.0-rfc 9457" id="2.11.0-rfc 9457">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a plugin to support <a class="reference external" href="https://datatracker.ietf.org/doc/html/rfc9457">RFC 9457</a>
<em>Problem Details</em>  responses for error response.</p>
<p><a class="reference internal" href="../reference/plugins/problem_details.html#litestar.plugins.problem_details.ProblemDetailsPlugin" title="litestar.plugins.problem_details.ProblemDetailsPlugin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProblemDetailsPlugin</span></code></a> enables to
selectively or collectively turn responses with an error status code into
<em>Problem Detail</em> responses.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/plugins/problem_details.html"><span class="doc">Problem Details</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3199">litestar-org/litestar#3199</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3323">litestar-org/litestar#3323</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.11.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.11.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix creation of <code class="docutils literal notranslate"><span class="pre">FormMultiDict</span></code> in <code class="docutils literal notranslate"><span class="pre">Request.form</span></code> to properly handle multi-keys<a class="headerlink reference internal" href="#2.11.0-fix creation of" id="2.11.0-fix creation of">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix <a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3627">litestar-org/litestar#3627</a> by properly handling
the creation of <a class="reference internal" href="../reference/datastructures/index.html#litestar.datastructures.FormMultiDict" title="litestar.datastructures.FormMultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">FormMultiDict</span></code></a> where multiple
values are given for a single key, to make
<a class="reference internal" href="../reference/connection.html#litestar.connection.Request.form" title="litestar.connection.Request.form"><code class="xref py py-meth docutils literal notranslate"><span class="pre">form()</span></code></a> match the behaviour of receiving form
data via the <code class="docutils literal notranslate"><span class="pre">data</span></code> kwarg inside a route handler.</p>
<p><strong>Before</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@post</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">(</span><span class="k">await</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">())</span><span class="o">.</span><span class="n">getall</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="n">create_test_client</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">]})</span><span class="o">.</span><span class="n">json</span><span class="p">())</span> <span class="c1"># [[&quot;1&quot;, &quot;2&quot;]]</span>
</pre></div>
</div>
<p><strong>After</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@post</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">(</span><span class="k">await</span> <span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">())</span><span class="o">.</span><span class="n">getall</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="n">create_test_client</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">]})</span><span class="o">.</span><span class="n">json</span><span class="p">())</span> <span class="c1"># [&quot;1&quot;, &quot;2&quot;]</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3627">litestar-org/litestar#3627</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3639">litestar-org/litestar#3639</a></span></p>
</div>
</dd>
<dt>DTO: Fix inconsistent use of strict decoding mode<a class="headerlink reference internal" href="#2.11.0-dto: fix inconsistent use of strict decoding mode" id="2.11.0-dto: fix inconsistent use of strict decoding mode">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix inconsistent usage of msgspecs <code class="docutils literal notranslate"><span class="pre">strict</span></code> mode in the base DTO backend.</p>
<p><code class="docutils literal notranslate"><span class="pre">strict=False</span></code> was being used when transferring from builtins, while
<code class="docutils literal notranslate"><span class="pre">strict=True</span></code> was used transferring from raw data, causing an unwanted
discrepancy in behaviour.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3685">litestar-org/litestar#3685</a></span></p>
</div>
</dd>
<dt>Use path template for prometheus metrics<a class="headerlink reference internal" href="#2.11.0-use path template for prometheus metrics" id="2.11.0-use path template for prometheus metrics">#</a></dt><dd><div class="changelog-change docutils container">
<p>Changed previous 1-by-1 replacement logic for
<code class="docutils literal notranslate"><span class="pre">PrometheusMiddleware.group_path=true</span></code> with a more robust and slightly faster
solution.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3687">litestar-org/litestar#3687</a></span></p>
</div>
</dd>
<dt>Ensure OpenTelemetry captures exceptions in the outermost application layers<a class="headerlink reference internal" href="#2.11.0-ensure opentelemetry captures exceptions in the outermost application layers" id="2.11.0-ensure opentelemetry captures exceptions in the outermost application layers">#</a></dt><dd><div class="changelog-change docutils container">
<p>A bug was fixed that resulted in exception occurring in the outermost
application layer not being captured under the current request span, which led
to incomplete traces.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3663">litestar-org/litestar#3663</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3689">litestar-org/litestar#3689</a></span></p>
</div>
</dd>
<dt>Fix CSRFMiddleware sometimes setting cookies for excluded paths<a class="headerlink reference internal" href="#2.11.0-fix csrfmiddleware sometimes setting cookies for excluded paths" id="2.11.0-fix csrfmiddleware sometimes setting cookies for excluded paths">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug that would cause <a class="reference internal" href="../reference/middleware/csrf.html#litestar.middleware.csrf.CSRFMiddleware" title="litestar.middleware.csrf.CSRFMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">CSRFMiddleware</span></code></a> to
set a cookie (which would not be used subsequently) on routes it had been
excluded from via a path pattern.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3688">litestar-org/litestar#3688</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3698">litestar-org/litestar#3698</a></span></p>
</div>
</dd>
<dt>Make override behaviour consistent between <code class="docutils literal notranslate"><span class="pre">signature_namespace</span></code> and <code class="docutils literal notranslate"><span class="pre">signature_types</span></code><a class="headerlink reference internal" href="#2.11.0-make override behaviour consistent between" id="2.11.0-make override behaviour consistent between">#</a></dt><dd><div class="changelog-change docutils container">
<p>Ensure that adding signature types to <code class="docutils literal notranslate"><span class="pre">signature_namespace</span></code> and
<code class="docutils literal notranslate"><span class="pre">signature_types</span></code> behaves the same way when a name was already present in the
namespace.</p>
<p>Both will now issue a warning if a name is being overwritten with a different
type. If a name is registered again for the same type, no warning will be given.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can disable this warning globally by setting
<code class="docutils literal notranslate"><span class="pre">LITESTAR_WARN_SIGNATURE_NAMESPACE_OVERRIDE=0</span></code> in your environment</p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3681">litestar-org/litestar#3681</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3696">litestar-org/litestar#3696</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.10.0">
<h2>2.10.0<a class="headerlink" href="#2.10.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-07-26<section id="2.10.0-feature">
<h3>Features<a class="headerlink" href="#2.10.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Allow creating parent directories for a file store<a class="headerlink reference internal" href="#2.10.0-allow creating parent directories for a file store" id="2.10.0-allow creating parent directories for a file store">#</a></dt><dd><div class="changelog-change docutils container">
<p>Allow <code class="docutils literal notranslate"><span class="pre">mkdir</span></code> True when creating a file store.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3526">litestar-org/litestar#3526</a></span></p>
</div>
</dd>
<dt>Add <code class="docutils literal notranslate"><span class="pre">logging_module</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">LoggingConfig</span></code><a class="headerlink reference internal" href="#2.10.0-add" id="2.10.0-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Provide a way in the <code class="docutils literal notranslate"><span class="pre">logging_module</span></code> to switch easily from <code class="docutils literal notranslate"><span class="pre">logging</span></code> to <code class="docutils literal notranslate"><span class="pre">picologging</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3536">litestar-org/litestar#3536</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3578">litestar-org/litestar#3578</a></span></p>
</div>
</dd>
<dt>Add handler name to exceptions in handler validation<a class="headerlink reference internal" href="#2.10.0-add handler name to exceptions in handler validation" id="2.10.0-add handler name to exceptions in handler validation">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add handler name to exceptions raise by <code class="docutils literal notranslate"><span class="pre">_validate_handler_function</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3575">litestar-org/litestar#3575</a></span></p>
</div>
</dd>
<dt>Add strict validation support for Pydantic plugin<a class="headerlink reference internal" href="#2.10.0-add strict validation support for pydantic plugin" id="2.10.0-add strict validation support for pydantic plugin">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adds parameters in pydantic plugin to support strict validation and all the <code class="docutils literal notranslate"><span class="pre">model_dump</span></code> args</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3572">litestar-org/litestar#3572</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3608">litestar-org/litestar#3608</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.10.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.10.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix signature model signatures clash<a class="headerlink reference internal" href="#2.10.0-fix signature model signatures clash" id="2.10.0-fix signature model signatures clash">#</a></dt><dd><div class="changelog-change docutils container">
<p>Ensures that the functions used by the signature model itself do not interfere with the signature model created.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3593">litestar-org/litestar#3593</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3605">litestar-org/litestar#3605</a></span></p>
</div>
</dd>
<dt>Correctly handle Annotated <code class="docutils literal notranslate"><span class="pre">NewType</span></code><a class="headerlink reference internal" href="#2.10.0-correctly handle annotated" id="2.10.0-correctly handle annotated">#</a></dt><dd><div class="changelog-change docutils container">
<p>Resolves infinite loop in schema generation when a model has an Annotated <code class="docutils literal notranslate"><span class="pre">NewType</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3614">litestar-org/litestar#3614</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3615">litestar-org/litestar#3615</a></span></p>
</div>
</dd>
<dt>Use <cite>ASGIConnection</cite> instead of <code class="docutils literal notranslate"><span class="pre">Request</span></code> for <code class="docutils literal notranslate"><span class="pre">flash</span></code><a class="headerlink reference internal" href="#2.10.0-use" id="2.10.0-use">#</a></dt><dd><div class="changelog-change docutils container">
<p>Currently, the <code class="docutils literal notranslate"><span class="pre">FlashPlugin</span></code> expects the <code class="docutils literal notranslate"><span class="pre">request</span></code> parameter to be a type of <code class="docutils literal notranslate"><span class="pre">Request</span></code>.  However, theres no reason it cant use the parent class <code class="docutils literal notranslate"><span class="pre">ASGIConnection</span></code>.</p>
<p>Doing this, allows for flash to be called in guards that expect an <code class="docutils literal notranslate"><span class="pre">ASGIConnection</span></code> instead of <code class="docutils literal notranslate"><span class="pre">Request</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">requires_active_user</span><span class="p">(</span><span class="n">connection</span><span class="p">:</span> <span class="n">ASGIConnection</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">BaseRouteHandler</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">connection</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_active</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Your user account is inactive.&quot;</span>
    <span class="n">flash</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">PermissionDeniedException</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3626">litestar-org/litestar#3626</a></span></p>
</div>
</dd>
<dt>Allow returning <code class="docutils literal notranslate"><span class="pre">Response[None]</span></code> from head route handlers<a class="headerlink reference internal" href="#2.10.0-allow returning" id="2.10.0-allow returning">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where the validation of the return annotation for the <code class="docutils literal notranslate"><span class="pre">head</span></code> route handler was too strict and would not allow returning a <code class="docutils literal notranslate"><span class="pre">Response[None]</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3640">litestar-org/litestar#3640</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3641">litestar-org/litestar#3641</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.9.1">
<h2>2.9.1<a class="headerlink" href="#2.9.1" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-06-21<section id="2.9.1-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.9.1-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Add OPTIONS to the default safe methods for CSRFConfig<a class="headerlink reference internal" href="#2.9.1-add options to the default safe methods for csrfconfig" id="2.9.1-add options to the default safe methods for csrfconfig">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> to the default safe methods for <a class="reference internal" href="../reference/config.html#litestar.config.csrf.CSRFConfig" title="litestar.config.csrf.CSRFConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">CSRFConfig</span></code></a></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3538">litestar-org/litestar#3538</a></span></p>
</div>
</dd>
<dt>Prometheus: Capture templated route name for metrics<a class="headerlink reference internal" href="#2.9.1-prometheus: capture templated route name for metrics" id="2.9.1-prometheus: capture templated route name for metrics">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adding new extraction function for prometheus metrics to avoid high cardinality
issue in prometheus, eg having metrics <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/v1/users/{id}</span></code> is preferable over
<code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/v1/users/1</span></code>, <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/v1/users/2,GET</span> <span class="pre">/v1/users/3</span></code></p>
<p>More info about prometheus high cardinality
<a class="reference external" href="https://grafana.com/blog/2022/02/15/what-are-cardinality-spikes-and-why-do-they-matter/">https://grafana.com/blog/2022/02/15/what-are-cardinality-spikes-and-why-do-they-matter/</a></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3533">litestar-org/litestar#3533</a></span></p>
</div>
</dd>
<dt>Respect <code class="docutils literal notranslate"><span class="pre">base_url</span></code> in <code class="docutils literal notranslate"><span class="pre">.websocket_connect</span></code><a class="headerlink reference internal" href="#2.9.1-respect" id="2.9.1-respect">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug that caused <a class="reference internal" href="../reference/testing.html#litestar.testing.TestClient.websocket_connect" title="litestar.testing.TestClient.websocket_connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">websocket_connect()</span></code></a> /
<a class="reference internal" href="../reference/testing.html#litestar.testing.AsyncTestClient.websocket_connect" title="litestar.testing.AsyncTestClient.websocket_connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">websocket_connect()</span></code></a> to not respect the
<code class="docutils literal notranslate"><span class="pre">base_url</span></code> set in the clients constructor, and instead would use the static
<code class="docutils literal notranslate"><span class="pre">ws://testerver</span></code> URL as a base.</p>
<p>Also removes most of the test client code as it was unneeded and in the way of
this fix :)</p>
<p>Explanation for the last part: All the extra code we had was just proxying
method calls to the <code class="docutils literal notranslate"><span class="pre">httpx.Client</span></code> / <code class="docutils literal notranslate"><span class="pre">httpx.AsyncClient</span></code>, while altering the
base URL. Since we already set the base URL on the httpx Clients superclass
instance, which in turn does this merging internally, this step isnt needed at
all.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3567">litestar-org/litestar#3567</a></span></p>
</div>
</dd>
<dt>Fix deprecation warning for subclassing route handler decorators<a class="headerlink reference internal" href="#2.9.1-fix deprecation warning for subclassing route handler decorators" id="2.9.1-fix deprecation warning for subclassing route handler decorators">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue where there was a deprecation warning emitted by all route handler
decorators. This warning was introduced in <code class="docutils literal notranslate"><span class="pre">2.9.0</span></code> to warn about the upcoming
deprecation, but should have only applied to user subclasses of the handler
classes, and not the built-in ones (<code class="docutils literal notranslate"><span class="pre">get</span></code>, <code class="docutils literal notranslate"><span class="pre">post</span></code>, etc.)</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3552">litestar-org/litestar#3552</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3569">litestar-org/litestar#3569</a></span></p>
</div>
</dd>
<dt>CLI: Dont call <code class="docutils literal notranslate"><span class="pre">rich_click.patch</span></code> if <code class="docutils literal notranslate"><span class="pre">rich_click</span></code> is installed<a class="headerlink reference internal" href="#2.9.1-cli: don't call" id="2.9.1-cli: don't call">#</a></dt><dd><div class="changelog-change docutils container">
<p>Dont call <code class="docutils literal notranslate"><span class="pre">rich_click.patch</span></code> if <code class="docutils literal notranslate"><span class="pre">rich_click</span></code> is installed. As this
monkey patches click globally, it can introduce unwanted side effects. Instead,
use conditional imports to refer to the correct library.</p>
<p>External libraries will still be able to make use of <code class="docutils literal notranslate"><span class="pre">rich_click</span></code> implicitly
when its installed by inheriting from <code class="docutils literal notranslate"><span class="pre">LitestarGroup</span></code> /
<code class="docutils literal notranslate"><span class="pre">LitestarExtensionGroup</span></code>, which they will by default.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3534">litestar-org/litestar#3534</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3570">litestar-org/litestar#3570</a></span></p>
</div>
</dd>
<dt>Correctly handle <code class="docutils literal notranslate"><span class="pre">typing.NewType</span></code><a class="headerlink reference internal" href="#2.9.1-correctly handle" id="2.9.1-correctly handle">#</a></dt><dd><div class="changelog-change docutils container">
<p>When encountering a <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NewType" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.NewType</span></code></a> during OpenAPI schema generation,
we currently treat it as an opaque type. This PR changes the behaviour such
that :class`typing.NewType`s are always unwrapped during schema generation.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3580">litestar-org/litestar#3580</a></span></p>
</div>
</dd>
<dt>Encode response content object returned from an exception handler.<a class="headerlink reference internal" href="#2.9.1-encode response content object returned from an exception handler." id="2.9.1-encode response content object returned from an exception handler.">#</a></dt><dd><div class="changelog-change docutils container">
<p>When an handler raises an exception and exception handler returns a Response
with a model (e.g. pydantic) object, ensure that object can be encoded as when
returning data from a regular handler.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3585">litestar-org/litestar#3585</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.9.0">
<h2>2.9.0<a class="headerlink" href="#2.9.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-06-02<section id="2.9.0-feature">
<h3>Features<a class="headerlink" href="#2.9.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Add async <code class="docutils literal notranslate"><span class="pre">websocket_connect</span></code> to <code class="docutils literal notranslate"><span class="pre">AsyncTestClient</span></code><a class="headerlink reference internal" href="#2.9.0-add async" id="2.9.0-add async">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add async <code class="docutils literal notranslate"><span class="pre">websocket_connect</span></code> to <code class="docutils literal notranslate"><span class="pre">AsyncTestClient</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3133">litestar-org/litestar#3133</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3328">litestar-org/litestar#3328</a></span></p>
</div>
</dd>
<dt>add <code class="docutils literal notranslate"><span class="pre">SecretString</span></code> and <code class="docutils literal notranslate"><span class="pre">SecretBytes</span></code> datastructures<a class="headerlink reference internal" href="#2.9.0-add" id="2.9.0-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Implement <code class="docutils literal notranslate"><span class="pre">SecretString</span></code> and <code class="docutils literal notranslate"><span class="pre">SecretBytes</span></code> data structures to hide sensitive
data in tracebacks, etc.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1312,">litestar-org/litestar#1312,</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3248">litestar-org/litestar#3248</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3322">litestar-org/litestar#3322</a></span></p>
</div>
</dd>
<dt>Deprecate subclassing route handler decorators<a class="headerlink reference internal" href="#2.9.0-deprecate subclassing route handler decorators" id="2.9.0-deprecate subclassing route handler decorators">#</a></dt><dd><div class="changelog-change docutils container">
<p>Deprecation for the 2.x release line of the semantic route handler classes
removed in #3436.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3439">litestar-org/litestar#3439</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.9.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.9.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>asgi lifespan msg after lifespan context exception<a class="headerlink reference internal" href="#2.9.0-asgi lifespan msg after lifespan context exception" id="2.9.0-asgi lifespan msg after lifespan context exception">#</a></dt><dd><div class="changelog-change docutils container">
<p>An exception raised within an asgi lifespan context manager would result in a lifespan.startup.failed message
being sent after weve already sent a lifespan.startup.complete message. This would cause uvicorn to raise a
<code class="docutils literal notranslate"><span class="pre">STATE_TRANSITION_ERROR</span></code> assertion error due to their check for that condition , if asgi lifespan is
forced (i.e., with <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">uvicorn</span> <span class="pre">test_apps.test_app:app</span> <span class="pre">--lifespan</span> <span class="pre">on</span></code>).</p>
<p>E.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;/home/peter/.local/share/pdm/venvs/litestar-dj-FOhMr-3.8/lib/python3.8/site-packages/uvicorn/lifespan/on.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">86</span><span class="p">,</span> <span class="ow">in</span> <span class="n">main</span>
    <span class="k">await</span> <span class="n">app</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">receive</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/home/peter/.local/share/pdm/venvs/litestar-dj-FOhMr-3.8/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">69</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__call__</span>
    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">receive</span><span class="p">,</span> <span class="n">send</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/home/peter/PycharmProjects/litestar/litestar/app.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">568</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__call__</span>
    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">asgi_router</span><span class="o">.</span><span class="n">lifespan</span><span class="p">(</span><span class="n">receive</span><span class="o">=</span><span class="n">receive</span><span class="p">,</span> <span class="n">send</span><span class="o">=</span><span class="n">send</span><span class="p">)</span>  <span class="c1"># type: ignore[arg-type]</span>
  <span class="n">File</span> <span class="s2">&quot;/home/peter/PycharmProjects/litestar/litestar/_asgi/asgi_router.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">180</span><span class="p">,</span> <span class="ow">in</span> <span class="n">lifespan</span>
    <span class="k">await</span> <span class="n">send</span><span class="p">(</span><span class="n">failure_message</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/home/peter/.local/share/pdm/venvs/litestar-dj-FOhMr-3.8/lib/python3.8/site-packages/uvicorn/lifespan/on.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">116</span><span class="p">,</span> <span class="ow">in</span> <span class="n">send</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">startup_event</span><span class="o">.</span><span class="n">is_set</span><span class="p">(),</span> <span class="n">STATE_TRANSITION_ERROR</span>
<span class="ne">AssertionError</span><span class="p">:</span> <span class="n">Got</span> <span class="n">invalid</span> <span class="n">state</span> <span class="n">transition</span> <span class="n">on</span> <span class="n">lifespan</span> <span class="n">protocol</span><span class="o">.</span>
</pre></div>
</div>
<p>This PR modifies <code class="docutils literal notranslate"><span class="pre">ASGIRouter.lifespan()</span></code> so that it sends a shutdown failure message if weve already confirmed startup.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3315">litestar-org/litestar#3315</a></span></p>
</div>
</dd>
<dt>bug when pydantic==1.10 is installed<a class="headerlink reference internal" href="#2.9.0-bug when pydantic==1.10 is installed" id="2.9.0-bug when pydantic==1.10 is installed">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug introduced in #3296 where it failed to take into account that the <code class="docutils literal notranslate"><span class="pre">pydantic_v2</span></code> variable could be
<code class="docutils literal notranslate"><span class="pre">Empty</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3334">litestar-org/litestar#3334</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3335">litestar-org/litestar#3335</a></span></p>
</div>
</dd>
<dt>OpenAPI router and controller on same app.<a class="headerlink reference internal" href="#2.9.0-openapi router and controller on same app." id="2.9.0-openapi router and controller on same app.">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes an :exc`ImproperlyConfiguredException` where an app that explicitly registers an <code class="docutils literal notranslate"><span class="pre">OpenAPIController</span></code> on
the application, and implicitly uses the OpenAPI router via the <cite>OpenAPIConfig</cite> object. This was caused by the
two different handlers being given the same name as defined in <code class="docutils literal notranslate"><span class="pre">litestar.constants</span></code>.</p>
<p>PR adds a distinct name for use by the handler that serves <code class="docutils literal notranslate"><span class="pre">openapi.json</span></code> on the controller.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3337">litestar-org/litestar#3337</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3338">litestar-org/litestar#3338</a></span></p>
</div>
</dd>
<dt>pydantic v2 import tests for pydantic v1.10.15<a class="headerlink reference internal" href="#2.9.0-pydantic v2 import tests for pydantic v1.10.15" id="2.9.0-pydantic v2 import tests for pydantic v1.10.15">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes bug with Pydantic V1 environment test where the test was run against v2. Adds assertion for version to the test.</p>
<p>Fixes a bug exposed by above that relied on pydantic not having <code class="docutils literal notranslate"><span class="pre">v1</span></code> in the package namespace if <code class="docutils literal notranslate"><span class="pre">v1</span></code> is
installed. This doesnt hold true after pydantics <code class="docutils literal notranslate"><span class="pre">1.10.15</span></code> release.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3348">litestar-org/litestar#3348</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3347">litestar-org/litestar#3347</a></span></p>
</div>
</dd>
<dt>schema for generic wrapped return types with DTO<a class="headerlink reference internal" href="#2.9.0-schema for generic wrapped return types with dto" id="2.9.0-schema for generic wrapped return types with dto">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix schema generated for DTOs where the supported type is wrapped in a generic outer type.</p>
<p>Prior behavior of using the <code class="docutils literal notranslate"><span class="pre">backend.annotation</span></code> as the basis for generating the openapi schema for the
represented type is not applicable for the case where the DTO supported type is wrapped in a generic outer
object. In that case <code class="docutils literal notranslate"><span class="pre">backend.annotation</span></code> only represents the type of the attribute on the generic type that
holds the DTO supported type annotation.</p>
<p>This change detects the case where we unwrap an outer generic type, and rebuilds the generic annotation in a
manner appropriate for schema generation, before generating the schema for the annotation. It does this by
substituting the DTOs transfer model for the original model in the original annotations type arguments.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2929">litestar-org/litestar#2929</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3371">litestar-org/litestar#3371</a></span></p>
</div>
</dd>
<dt>Ambiguous default warning for no signature default<a class="headerlink reference internal" href="#2.9.0-ambiguous default warning for no signature default" id="2.9.0-ambiguous default warning for no signature default">#</a></dt><dd><div class="changelog-change docutils container">
<p>We now only issue a single warning for the case where a default value is supplied via <code class="docutils literal notranslate"><span class="pre">Parameter()</span></code> and not
via a regular signature default.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3372">litestar-org/litestar#3372</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3378">litestar-org/litestar#3378</a></span></p>
</div>
</dd>
<dt>Path param consumed by dependency treated as unconsumed<a class="headerlink reference internal" href="#2.9.0-path param consumed by dependency treated as unconsumed" id="2.9.0-path param consumed by dependency treated as unconsumed">#</a></dt><dd><div class="changelog-change docutils container">
<p>Consider parameters defined in handler dependencies in order to determine if a path parameter has been consumed
for openapi generation purposes.</p>
<p>Fixes an issue where path parameters not consumed by the handler, but consumed by dependencies would cause an
:exc`ImproperlyConfiguredException`.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3369">litestar-org/litestar#3369</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3380">litestar-org/litestar#3380</a></span></p>
</div>
</dd>
<dt>name and in should not be included in openapi headers<a class="headerlink reference internal" href="#2.9.0-&quot;name&quot; and &quot;in&quot; should not be included in openapi headers" id="2.9.0-&quot;name&quot; and &quot;in&quot; should not be included in openapi headers">#</a></dt><dd><div class="changelog-change docutils container">
<p>Exclude the name and in fields from openapi schema generated for headers.</p>
<p>Add <code class="docutils literal notranslate"><span class="pre">BaseSchemaObject._iter_fields()</span></code>  method that allows schema types to
define the fields that should be included in their openapi schema representation
and override that method for <code class="docutils literal notranslate"><span class="pre">OpenAPIHeader</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3416">litestar-org/litestar#3416</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3417">litestar-org/litestar#3417</a></span></p>
</div>
</dd>
<dt>top-level import of optional package<a class="headerlink reference internal" href="#2.9.0-top-level import of optional package" id="2.9.0-top-level import of optional package">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix import from <code class="docutils literal notranslate"><span class="pre">contrib.minijinja</span></code> without handling for case where dependency is not installed.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3415">litestar-org/litestar#3415</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3418">litestar-org/litestar#3418</a></span></p>
</div>
</dd>
<dt>regular handler under mounted app<a class="headerlink reference internal" href="#2.9.0-regular handler under mounted app" id="2.9.0-regular handler under mounted app">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue where a regular handler under a mounted asgi app would prevent a
request from routing through the mounted application if the request path
contained the path of the regular handler as a substring.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3429">litestar-org/litestar#3429</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3430">litestar-org/litestar#3430</a></span></p>
</div>
</dd>
<dt>logging to file with structlog<a class="headerlink reference internal" href="#2.9.0-logging to file with structlog" id="2.9.0-logging to file with structlog">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix and issue with converting <code class="docutils literal notranslate"><span class="pre">StructLoggingConfig</span></code> to dict during call to
<code class="docutils literal notranslate"><span class="pre">configure()</span></code> when the config object has a custom logger factory that
references a <code class="docutils literal notranslate"><span class="pre">TextIO</span></code> object, which cannot be pickled.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3425">litestar-org/litestar#3425</a></span></p>
</div>
</dd>
<dt>clear session cookie if new session exceeds <code class="docutils literal notranslate"><span class="pre">CHUNK_SIZE</span></code><a class="headerlink reference internal" href="#2.9.0-clear session cookie if new session exceeds" id="2.9.0-clear session cookie if new session exceeds">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue where the connection session cookie is not cleared if the response
session is stored across multiple cookies.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3441">litestar-org/litestar#3441</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3446">litestar-org/litestar#3446</a></span></p>
</div>
</dd>
<dt>flash messages were not displayed on Redirect<a class="headerlink reference internal" href="#2.9.0-flash messages were not displayed on redirect" id="2.9.0-flash messages were not displayed on redirect">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue where flashed messages were not shown after a redirect</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3325">litestar-org/litestar#3325</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3420">litestar-org/litestar#3420</a></span></p>
</div>
</dd>
<dt>Validation of optional sequence in multipart data with one value<a class="headerlink reference internal" href="#2.9.0-validation of optional sequence in multipart data with one value" id="2.9.0-validation of optional sequence in multipart data with one value">#</a></dt><dd><div class="changelog-change docutils container">
<p>A <code class="docutils literal notranslate"><span class="pre">Sequence[UploadFile]</span> <span class="pre">|</span> <span class="pre">None</span></code> would not pass validation when a single value
was provided for a structured type, e.g. dataclass.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3407">litestar-org/litestar#3407</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3408">litestar-org/litestar#3408</a></span></p>
</div>
</dd>
<dt>field not optional if default value<a class="headerlink reference internal" href="#2.9.0-field not optional if default value" id="2.9.0-field not optional if default value">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix issue where a pydantic v1 field annotation is wrapped with <code class="docutils literal notranslate"><span class="pre">Optional</span></code> if
it is marked not required, but has a default value.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3471">litestar-org/litestar#3471</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3476">litestar-org/litestar#3476</a></span></p>
</div>
</dd>
<dt>prevent starting multiple responses<a class="headerlink reference internal" href="#2.9.0-prevent starting multiple responses" id="2.9.0-prevent starting multiple responses">#</a></dt><dd><div class="changelog-change docutils container">
<p>Prevent the apps exception handler middleware from starting a response after
one has already started.</p>
<p>When something in the middleware stack raises an exception after a
http.response.start message has already been sent, we end up with long
exception chains that obfuscate the original exception.</p>
<p>This change implements tracking of when a response has started, and if so, we
immediately raise the exception instead of sending it through the usual exception
handling code path.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3479">litestar-org/litestar#3479</a></span></p>
</div>
</dd>
<dt>logging middleware with multi-body response<a class="headerlink reference internal" href="#2.9.0-logging middleware with multi-body response" id="2.9.0-logging middleware with multi-body response">#</a></dt><dd><div class="changelog-change docutils container">
<p>Prevent logging middleware from failing with a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a> when a response
sends multiple http.response.body messages.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3477">litestar-org/litestar#3477</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3478">litestar-org/litestar#3478</a></span></p>
</div>
</dd>
<dt>handle dto type nested in mapping<a class="headerlink reference internal" href="#2.9.0-handle dto type nested in mapping" id="2.9.0-handle dto type nested in mapping">#</a></dt><dd><div class="changelog-change docutils container">
<p>Added handling for transferring data from a transfer model, to a DTO supported
instance when the DTO supported type is nested in a mapping.</p>
<p>I.e, handles this case:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">NestedDC</span><span class="p">:</span>
    <span class="n">a</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">b</span><span class="p">:</span> <span class="nb">str</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DC</span><span class="p">:</span>
    <span class="n">nested_mapping</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NestedDC</span><span class="p">]</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3463">litestar-org/litestar#3463</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3486">litestar-org/litestar#3486</a></span></p>
</div>
</dd>
<dt>examples omitted in schema produced by dto<a class="headerlink reference internal" href="#2.9.0-examples omitted in schema produced by dto" id="2.9.0-examples omitted in schema produced by dto">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes issue where a <code class="docutils literal notranslate"><span class="pre">BodyKwarg</span></code> instance provided as metadata to a data type
annotation was ignored for OpenAPI schema generation when the data type is
managed by a DTO.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3505">litestar-org/litestar#3505</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3510">litestar-org/litestar#3510</a></span></p>
</div>
</dd>
<dt>fix handling validation of subscribed generics<a class="headerlink reference internal" href="#2.9.0-fix handling validation of subscribed generics" id="2.9.0-fix handling validation of subscribed generics">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug that would lead to a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> when subscribed generics were
used in a route handler signature and subject to validation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">TypeVar</span>
<span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">get</span>
<span class="kn">from</span> <span class="nn">litestar.testing</span> <span class="kn">import</span> <span class="n">create_test_client</span>

<span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
    <span class="k">pass</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">provide_foo</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Foo</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">Foo</span><span class="p">()</span>

<span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">dependencies</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="n">provide_foo</span><span class="p">})</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">something</span><span class="p">(</span><span class="n">foo</span><span class="p">:</span> <span class="n">Foo</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">return</span> <span class="kc">None</span>

<span class="k">with</span> <span class="n">create_test_client</span><span class="p">([</span><span class="n">something</span><span class="p">])</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
    <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3519">litestar-org/litestar#3519</a></span></p>
</div>
</dd>
<dt>exclude static file from schema<a class="headerlink reference internal" href="#2.9.0-exclude static file from schema" id="2.9.0-exclude static file from schema">#</a></dt><dd><div class="changelog-change docutils container">
<p>Exclude static file routes created with <code class="docutils literal notranslate"><span class="pre">create_static_files_router</span></code> from the OpenAPI schema by default</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3374">litestar-org/litestar#3374</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3509">litestar-org/litestar#3509</a></span></p>
</div>
</dd>
<dt>use re.match instead of re.search for mounted app path (#3501)<a class="headerlink reference internal" href="#2.9.0-use re.match instead of re.search for mounted app path (#3501)" id="2.9.0-use re.match instead of re.search for mounted app path (#3501)">#</a></dt><dd><div class="changelog-change docutils container">
<p>When mounting an app, path resolution uses <code class="docutils literal notranslate"><span class="pre">re.search</span></code> instead or <code class="docutils literal notranslate"><span class="pre">re.match</span></code>,
thus mounted app matches any path which contains mount path.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3501">litestar-org/litestar#3501</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3511">litestar-org/litestar#3511</a></span></p>
</div>
</dd>
<dt>do not log exceptions twice, deprecate <code class="docutils literal notranslate"><span class="pre">traceback_line_limit</span></code> and fix <code class="docutils literal notranslate"><span class="pre">pretty_print_tty</span></code><a class="headerlink reference internal" href="#2.9.0-do not log exceptions twice, deprecate" id="2.9.0-do not log exceptions twice, deprecate">#</a></dt><dd><div class="changelog-change docutils container">
<ul class="simple">
<li><p>The wording of the log message, when logging an exception, has been updated.</p></li>
<li><p>For structlog, the <code class="docutils literal notranslate"><span class="pre">traceback</span></code> field in the log message (which contained a
truncated stacktrace) has been removed. The <code class="docutils literal notranslate"><span class="pre">exception</span></code> field is still around and contains the full stacktrace.</p></li>
<li><p>The option <code class="docutils literal notranslate"><span class="pre">traceback_line_limit</span></code> has been deprecated. The value is now ignored, the full stacktrace will be logged.</p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3228">litestar-org/litestar#3228</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3507">litestar-org/litestar#3507</a></span></p>
</div>
</dd>
<dt>YAML schema dump<a class="headerlink reference internal" href="#2.9.0-yaml schema dump" id="2.9.0-yaml schema dump">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue in the OpenAPI YAML schema dump logic of <code class="docutils literal notranslate"><span class="pre">OpenAPIController</span></code>
where the endpoint for the OpenAPI YAML schema file returns an empty response
if a request has been made to the OpenAPI JSON schema previously due to an
incorrect variable check.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3537">litestar-org/litestar#3537</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.8.3">
<h2>2.8.3<a class="headerlink" href="#2.8.3" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-05-06<section id="2.8.3-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.8.3-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix improper limitation of a pathname to a restricted directory<a class="headerlink reference internal" href="#2.8.3-fix improper limitation of a pathname to a restricted directory" id="2.8.3-fix improper limitation of a pathname to a restricted directory">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a path traversal vulnerability disclosed in <a class="github reference external" href="https://github.com/litestar-org/litestar/security/advisories/GHSA-83pv-qr33-2vcf">litestar-org/litestar</a></p>
<p>References: </p>
</div>
</dd>
<dt>Remove use of asserts for control flow.<a class="headerlink reference internal" href="#2.8.3-remove use of asserts for control flow." id="2.8.3-remove use of asserts for control flow.">#</a></dt><dd><div class="changelog-change docutils container">
<p>#3347 introduced a new pattern to differentiate between Pydantic v1 and v2 installs, however it relies on using <cite>assert</cite> which is an issue as can optimised away.</p>
<p>This PR changes the approach to manually throw an <cite>ImportError</cite> instead.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3354">litestar-org/litestar#3354</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3359">litestar-org/litestar#3359</a></span></p>
</div>
</dd>
<dt>schema for generic wrapped return types with DTO<a class="headerlink reference internal" href="#2.8.3-schema for generic wrapped return types with dto" id="2.8.3-schema for generic wrapped return types with dto">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix schema generated for DTOs where the supported type is wrapped in a generic outer type.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2929">litestar-org/litestar#2929</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3371">litestar-org/litestar#3371</a></span></p>
</div>
</dd>
<dt>Ambiguous default warning for no signature default<a class="headerlink reference internal" href="#2.8.3-ambiguous default warning for no signature default" id="2.8.3-ambiguous default warning for no signature default">#</a></dt><dd><div class="changelog-change docutils container">
<p>We now only issue a single warning for the case where a default value is supplied via <cite>Parameter()</cite> and not via a regular signature default.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3372">litestar-org/litestar#3372</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3378">litestar-org/litestar#3378</a></span></p>
</div>
</dd>
<dt>Path param consumed by dependency treated as unconsumed<a class="headerlink reference internal" href="#2.8.3-path param consumed by dependency treated as unconsumed" id="2.8.3-path param consumed by dependency treated as unconsumed">#</a></dt><dd><div class="changelog-change docutils container">
<p>Consider parameters defined in handler dependencies in order to determine if a path parameter has been consumed for openapi generation purposes.</p>
<p>Fixes an issue where path parameters not consumed by the handler, but consumed by dependencies would cause an <cite>ImproperlyConfiguredException</cite>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3369">litestar-org/litestar#3369</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3380">litestar-org/litestar#3380</a></span></p>
</div>
</dd>
<dt>Solve a caching issue in <cite>CacheControlHeader</cite><a class="headerlink reference internal" href="#2.8.3-solve a caching issue in" id="2.8.3-solve a caching issue in">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes an issue causing return of invalid values from cache.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3383">litestar-org/litestar#3383</a></span></p>
</div>
</dd>
<dt>name and in should not be included in openapi headers<a class="headerlink reference internal" href="#2.8.3-&quot;name&quot; and &quot;in&quot; should not be included in openapi headers" id="2.8.3-&quot;name&quot; and &quot;in&quot; should not be included in openapi headers">#</a></dt><dd><div class="changelog-change docutils container">
<p>Exclude the name and in fields from openapi schema generated for headers.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3416">litestar-org/litestar#3416</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3417">litestar-org/litestar#3417</a></span></p>
</div>
</dd>
<dt>top-level import of optional package<a class="headerlink reference internal" href="#2.8.3-top-level import of optional package" id="2.8.3-top-level import of optional package">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix import from <cite>contrib.minijinja</cite> without handling for case where dependency is not installed.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3415">litestar-org/litestar#3415</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3418">litestar-org/litestar#3418</a></span></p>
</div>
</dd>
<dt>regular handler under mounted app<a class="headerlink reference internal" href="#2.8.3-regular handler under mounted app" id="2.8.3-regular handler under mounted app">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue where a regular handler under a mounted asgi app would prevent a request from routing through the
mounted application if the request path contained the path of the regular handler as a substring.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3429">litestar-org/litestar#3429</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3430">litestar-org/litestar#3430</a></span></p>
</div>
</dd>
<dt>logging to file with structlog<a class="headerlink reference internal" href="#2.8.3-logging to file with structlog" id="2.8.3-logging to file with structlog">#</a></dt><dd><div class="changelog-change docutils container">
<p>PR fixes issue with converting <cite>StructLoggingConfig</cite> to dict during call to <cite>configure()</cite> when the config object
has a custom logger factory that references a <cite>TextIO</cite> object, which cannot be pickled.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3425">litestar-org/litestar#3425</a></span></p>
</div>
</dd>
<dt>clear session cookie if new session gt CHUNK_SIZE<a class="headerlink reference internal" href="#2.8.3-clear session cookie if new session gt chunk_size" id="2.8.3-clear session cookie if new session gt chunk_size">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue where the connection session cookie is not cleared if the response session is stored across
multiple cookies.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3441">litestar-org/litestar#3441</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3446">litestar-org/litestar#3446</a></span></p>
</div>
</dd>
<dt>flash messages were not displayed on Redirect<a class="headerlink reference internal" href="#2.8.3-flash messages were not displayed on redirect" id="2.8.3-flash messages were not displayed on redirect">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes issue where flash messages were not displayed on redirect.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3325">litestar-org/litestar#3325</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3420">litestar-org/litestar#3420</a></span></p>
</div>
</dd>
<dt>Validation of optional sequence in multipart data with one value<a class="headerlink reference internal" href="#2.8.3-validation of optional sequence in multipart data with one value" id="2.8.3-validation of optional sequence in multipart data with one value">#</a></dt><dd><div class="changelog-change docutils container">
<p>A <cite>Sequence[UploadFile] | None</cite> would not pass validation when a single value was provided for a structured type, e.g. dataclass.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3407">litestar-org/litestar#3407</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3408">litestar-org/litestar#3408</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.8.2">
<h2>2.8.2<a class="headerlink" href="#2.8.2" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-04-09<section id="2.8.2-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.8.2-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>pydantic v2 import tests for pydantic v1.10.15<a class="headerlink reference internal" href="#2.8.2-pydantic v2 import tests for pydantic v1.10.15" id="2.8.2-pydantic v2 import tests for pydantic v1.10.15">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes bug with Pydantic v1 environment test causing the test to run against v2. Adds assertion for version to
the test.</p>
<p>Fixes a bug exposed by above that relied on Pydantic not having <cite>v1</cite> in the package namespace if <cite>v1</cite> is
installed. This doesnt hold true after Pydantics <cite>1.10.15</cite> release.</p>
<p>Moves application environment tests from the release job into the normal CI run.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3348">litestar-org/litestar#3348</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3347">litestar-org/litestar#3347</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.8.1">
<h2>2.8.1<a class="headerlink" href="#2.8.1" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-04-08<section id="2.8.1-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.8.1-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>ASGI lifespan msg after lifespan context exception<a class="headerlink reference internal" href="#2.8.1-asgi lifespan msg after lifespan context exception" id="2.8.1-asgi lifespan msg after lifespan context exception">#</a></dt><dd><div class="changelog-change docutils container">
<p>An exception raised within an asgi lifespan context manager would result in a lifespan.startup.failed message</p>
<p>This PR modifies <cite>ASGIRouter.lifespan()</cite> so that it sends a shutdown failure message if weve already confirmed
startup.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3315">litestar-org/litestar#3315</a></span></p>
</div>
</dd>
<dt>Fix when pydantic==1.10 is installed<a class="headerlink reference internal" href="#2.8.1-fix when pydantic==1.10 is installed" id="2.8.1-fix when pydantic==1.10 is installed">#</a></dt><dd><div class="changelog-change docutils container">
<p>This PR fixes a bug introduced in #3296 where it failed to take into account that the <cite>pydantic_v2</cite> variable could be <cite>Empty</cite>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3334">litestar-org/litestar#3334</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3335">litestar-org/litestar#3335</a></span></p>
</div>
</dd>
<dt>OpenAPI router and controller on same app.<a class="headerlink reference internal" href="#2.8.1-openapi router and controller on same app." id="2.8.1-openapi router and controller on same app.">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes an <cite>ImproperlyConfiguredException</cite> where an app that explicitly registers an <cite>OpenAPIController</cite> on the application, and implicitly uses the OpenAPI router via the <cite>OpenAPIConfig</cite> object. This was caused by the two different handlers being given the same name as defined in <cite>litestar.constants</cite>.</p>
<p>PR adds a distinct name for use by the handler that serves <cite>openapi.json</cite> on the controller.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3337">litestar-org/litestar#3337</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3338">litestar-org/litestar#3338</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.8.0">
<h2>2.8.0<a class="headerlink" href="#2.8.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-04-05<section id="2.8.0-feature">
<h3>Features<a class="headerlink" href="#2.8.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Add <code class="docutils literal notranslate"><span class="pre">path</span></code> parameter to Litestar application class<a class="headerlink reference internal" href="#2.8.0-add" id="2.8.0-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Exposes <a class="reference internal" href="../reference/app.html#litestar.app.Litestar.params.parameter" title="litestar.app.Litestar"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">parameter</span></code></a> at <a class="reference internal" href="../reference/app.html#litestar.app.Litestar" title="litestar.app.Litestar"><code class="xref py py-class docutils literal notranslate"><span class="pre">Litestar</span></code></a> application class level</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3314">litestar-org/litestar#3314</a></span></p>
</div>
</dd>
<dt>Allow for console output to be silenced<a class="headerlink reference internal" href="#2.8.0-allow for console output to be silenced" id="2.8.0-allow for console output to be silenced">#</a></dt><dd><div class="changelog-change docutils container">
<p>Introduces optional environment variables that allow customizing the Application name displayed
in the console output and suppressing the initial <code class="docutils literal notranslate"><span class="pre">from_env</span></code> or the <code class="docutils literal notranslate"><span class="pre">Rich</span></code> info table at startup.</p>
<p>Provides flexibility in tailoring the console output to better integrate Litestar into larger applications
or CLIs.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3180">litestar-org/litestar#3180</a></span></p>
</div>
</dd>
<dt>Add flash plugin<a class="headerlink reference internal" href="#2.8.0-add flash plugin" id="2.8.0-add flash plugin">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adds a flash plugin akin to Django or Flask that uses the request state</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1455">litestar-org/litestar#1455</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3145">litestar-org/litestar#3145</a></span></p>
</div>
</dd>
<dt>Use memoized <a class="reference internal" href="../reference/handlers.html#litestar.handlers.HTTPRouteHandler.params.request_class" title="litestar.handlers.HTTPRouteHandler"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">request_class</span></code></a> and <a class="reference internal" href="../reference/handlers.html#litestar.handlers.HTTPRouteHandler.params.response_class" title="litestar.handlers.HTTPRouteHandler"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">response_class</span></code></a> values<a class="headerlink reference internal" href="#2.8.0-use memoized" id="2.8.0-use memoized">#</a></dt><dd><div class="changelog-change docutils container">
<p>Uses memoized <code class="docutils literal notranslate"><span class="pre">request_class</span></code> and <code class="docutils literal notranslate"><span class="pre">response_class</span></code> values</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3205">litestar-org/litestar#3205</a></span></p>
</div>
</dd>
<dt>Enable codegen backend by default<a class="headerlink reference internal" href="#2.8.0-enable codegen backend by default" id="2.8.0-enable codegen backend by default">#</a></dt><dd><div class="changelog-change docutils container">
<p>Enables the codegen backend for DTOs introduced in <a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2388">litestar-org/litestar#2388</a> by default.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3215">litestar-org/litestar#3215</a></span></p>
</div>
</dd>
<dt>Added precedence of CLI parameters over envs<a class="headerlink reference internal" href="#2.8.0-added precedence of cli parameters over envs" id="2.8.0-added precedence of cli parameters over envs">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adds precedence of CLI parameters over environment variables.
Before this change, environment variables would take precedence over CLI parameters.</p>
<p>Since CLI parameters are more explicit and are set by the user,
they should take precedence over environment variables.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3188">litestar-org/litestar#3188</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3190">litestar-org/litestar#3190</a></span></p>
</div>
</dd>
<dt>Only print when terminal is <code class="docutils literal notranslate"><span class="pre">TTY</span></code> enabled<a class="headerlink reference internal" href="#2.8.0-only print when terminal is" id="2.8.0-only print when terminal is">#</a></dt><dd><div class="changelog-change docutils container">
<p>Sets <code class="docutils literal notranslate"><span class="pre">LITESTAR_QUIET_CONSOLE</span></code> and <code class="docutils literal notranslate"><span class="pre">LITESTAR_APP_NAME</span></code> in the autodiscovery function.
Also prevents the tabular console output from printing when the terminal is not <code class="docutils literal notranslate"><span class="pre">TTY</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3219">litestar-org/litestar#3219</a></span></p>
</div>
</dd>
<dt>Support <code class="docutils literal notranslate"><span class="pre">schema_extra</span></code> in <a class="reference internal" href="../reference/openapi/spec.html#litestar.openapi.spec.Parameter" title="litestar.openapi.spec.parameter.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a> and <cite>Body</cite><a class="headerlink reference internal" href="#2.8.0-support" id="2.8.0-support">#</a></dt><dd><div class="changelog-change docutils container">
<p>Introduces a way to modify the generated OpenAPI spec by adding a <code class="docutils literal notranslate"><span class="pre">schema_extra</span></code> parameter to the
Parameter and Body classes. The <code class="docutils literal notranslate"><span class="pre">schema_extra</span></code> parameter accepts a <code class="docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> where the keys correspond
to the keyword parameter names in Schema, and the values are used to override items in the
generated Schema object.</p>
<p>Provides a convenient way to customize the OpenAPI documentation for inbound parameters.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3204">litestar-org/litestar#3204</a></span></p>
</div>
</dd>
<dt>Add <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.TypeVar</span></code></a> expansion<a class="headerlink reference internal" href="#2.8.0-add" id="2.8.0-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adds a method for TypeVar expansion on registration
This allows the use of generic route handler and generic controller without relying on forward references.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3242">litestar-org/litestar#3242</a></span></p>
</div>
</dd>
<dt>Add <code class="docutils literal notranslate"><span class="pre">LITESTAR_</span></code> prefix before <code class="docutils literal notranslate"><span class="pre">WEB_CONCURRENCY</span></code> env option<a class="headerlink reference internal" href="#2.8.0-add" id="2.8.0-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adds <code class="docutils literal notranslate"><span class="pre">LITESTAR_</span></code> prefix before the <code class="docutils literal notranslate"><span class="pre">WEB_CONCURRENCY</span></code> environment option</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3227">litestar-org/litestar#3227</a></span></p>
</div>
</dd>
<dt>Warn about ambiguous default values in parameter specifications<a class="headerlink reference internal" href="#2.8.0-warn about ambiguous default values in parameter specifications" id="2.8.0-warn about ambiguous default values in parameter specifications">#</a></dt><dd><div class="changelog-change docutils container">
<p>As discussed in <a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3280#issuecomment-2026878325">litestar-org/litestar#3280</a>,
we want to warn about, and eventually disallow specifying parameter defaults in two places.</p>
<p>To achieve this, 2 warnings are added:</p>
<ul class="simple">
<li><p>A deprecation warning if a default is specified when using
<code class="docutils literal notranslate"><span class="pre">Annotated</span></code>: <code class="docutils literal notranslate"><span class="pre">param:</span> <span class="pre">Annotated[int,</span> <span class="pre">Parameter(...,</span> <span class="pre">default=1)]</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">param:</span> <span class="pre">Annotated[int,</span> <span class="pre">Parameter(...)]</span> <span class="pre">=</span> <span class="pre">1</span></code></p></li>
<li><p>An additional warning in the above case if two default values are specified which do not match in value:
<code class="docutils literal notranslate"><span class="pre">param:</span> <span class="pre">Annotated[int,</span> <span class="pre">Parameter(...,</span> <span class="pre">default=1)]</span> <span class="pre">=</span> <span class="pre">2</span></code></p></li>
</ul>
<p>In a future version, the first one should result in an exception at startup, preventing both of these scenarios.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3283">litestar-org/litestar#3283</a></span></p>
</div>
</dd>
<dt>Support declaring <a class="reference internal" href="../reference/dto/field.html#litestar.dto.field.DTOField" title="litestar.dto.field.DTOField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DTOField</span></code></a> via <code class="docutils literal notranslate"><span class="pre">Annotated</span></code><a class="headerlink reference internal" href="#2.8.0-support declaring" id="2.8.0-support declaring">#</a></dt><dd><div class="changelog-change docutils container">
<p>Deprecates passing <a class="reference internal" href="../reference/dto/field.html#litestar.dto.field.DTOField" title="litestar.dto.field.DTOField"><code class="xref py py-class docutils literal notranslate"><span class="pre">DTOField</span></code></a> via <code class="docutils literal notranslate"><span class="pre">[pydantic]</span></code> extra.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2351">litestar-org/litestar#2351</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3289">litestar-org/litestar#3289</a></span></p>
</div>
</dd>
<dt>Add TRACE to HttpMethod enum<a class="headerlink reference internal" href="#2.8.0-add &quot;trace&quot; to httpmethod enum" id="2.8.0-add &quot;trace&quot; to httpmethod enum">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adds the <code class="docutils literal notranslate"><span class="pre">TRACE</span></code> HTTP method to <a class="reference internal" href="../reference/enums.html#litestar.enums.HttpMethod" title="litestar.enums.HttpMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpMethod</span></code></a> enum</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3294">litestar-org/litestar#3294</a></span></p>
</div>
</dd>
<dt>Pydantic DTO non-instantiable types<a class="headerlink reference internal" href="#2.8.0-pydantic dto non-instantiable types" id="2.8.0-pydantic dto non-instantiable types">#</a></dt><dd><div class="changelog-change docutils container">
<p>Simplifies the type that is applied to DTO transfer models for certain Pydantic field types.
It addresses <code class="docutils literal notranslate"><span class="pre">JsonValue</span></code>, <code class="docutils literal notranslate"><span class="pre">EmailStr</span></code>, <code class="docutils literal notranslate"><span class="pre">IPvAnyAddress</span></code>/<code class="docutils literal notranslate"><span class="pre">IPvAnyNetwork</span></code>/<code class="docutils literal notranslate"><span class="pre">IPvAnyInterface</span></code> types by
using appropriate <a class="reference external" href="https://docs.python.org/3/glossary.html#term-annotation" title="(in Python v3.13)"><span class="xref std std-term">type annotations</span></a> on the transfer models to ensure compatibility with
<a class="reference external" href="https://jcristharif.com/msgspec/index.html" title="(in msgspec)"><span>msgspec</span></a> serialization and deserialization.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3296">litestar-org/litestar#3296</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.8.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.8.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Unique schema names for nested models (#3134)<a class="headerlink reference internal" href="#2.8.0-unique schema names for nested models (#3134)" id="2.8.0-unique schema names for nested models (#3134)">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes an issue where nested models beyond the <code class="docutils literal notranslate"><span class="pre">max_nested_depth</span></code> would not have
unique schema names in the OpenAPI documentation. The fix appends the nested
models name to the <code class="docutils literal notranslate"><span class="pre">unique_name</span></code> to differentiate it from the parent model.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3134">litestar-org/litestar#3134</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3136">litestar-org/litestar#3136</a></span></p>
</div>
</dd>
<dt>Remove duplicate <code class="docutils literal notranslate"><span class="pre">rich-click</span></code> config options<a class="headerlink reference internal" href="#2.8.0-remove duplicate" id="2.8.0-remove duplicate">#</a></dt><dd><div class="changelog-change docutils container">
<p>Removes duplicate config options from click cli</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3274">litestar-org/litestar#3274</a></span></p>
</div>
</dd>
<dt>Fix Pydantic <code class="docutils literal notranslate"><span class="pre">json_schema_extra</span></code> examples.<a class="headerlink reference internal" href="#2.8.0-fix pydantic" id="2.8.0-fix pydantic">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes a regression introduced in <code class="docutils literal notranslate"><span class="pre">2.7.0</span></code> where an example for a field provided in Pydantics
<code class="docutils literal notranslate"><span class="pre">Field.json_schema_extra</span></code> would cause an error.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3277">litestar-org/litestar#3277</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3281">litestar-org/litestar#3281</a></span></p>
</div>
</dd>
<dt>Set default on schema from <a class="reference internal" href="../reference/typing.html#litestar.typing.FieldDefinition" title="litestar.typing.FieldDefinition"><code class="xref py py-class docutils literal notranslate"><span class="pre">FieldDefinition</span></code></a><a class="headerlink reference internal" href="#2.8.0-set default on schema from" id="2.8.0-set default on schema from">#</a></dt><dd><div class="changelog-change docutils container">
<p>Consider the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_foo</span><span class="p">(</span><span class="n">foo_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>In such cases, no <a class="reference internal" href="../reference/params.html#litestar.params.KwargDefinition" title="litestar.params.KwargDefinition"><code class="xref py py-class docutils literal notranslate"><span class="pre">KwargDefinition</span></code></a> is created since there is no metadata provided via
<code class="docutils literal notranslate"><span class="pre">Annotated</span></code>. The default is still parsed, and set on the generated <code class="docutils literal notranslate"><span class="pre">FieldDefinition</span></code>,
however the <code class="docutils literal notranslate"><span class="pre">SchemaCreator</span></code> currently only considers defaults that are set on <code class="docutils literal notranslate"><span class="pre">KwargDefinition</span></code>.</p>
<p>So in such cases, we should fallback to the default set on the <code class="docutils literal notranslate"><span class="pre">FieldDefinition</span></code> if there is a valid
default value.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3278">litestar-org/litestar#3278</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3280">litestar-org/litestar#3280</a></span></p>
</div>
</dd>
<dt>Custom types cause serialisation error in exception response with non-JSON media-type<a class="headerlink reference internal" href="#2.8.0-custom types cause serialisation error in exception response with non-json media-type" id="2.8.0-custom types cause serialisation error in exception response with non-json media-type">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes a bug when using a non-JSON media type (e.g., <code class="docutils literal notranslate"><span class="pre">text/plain</span></code>),
<a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.ValidationException" title="litestar.exceptions.http_exceptions.ValidationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValidationException</span></code></a>s would not get serialized properly because they
would ignore custom <code class="docutils literal notranslate"><span class="pre">type_encoders</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3192">litestar-org/litestar#3192</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3284">litestar-org/litestar#3284</a></span></p>
</div>
</dd>
<dt>Ensure default values are always represented in schema for dataclasses and <a class="reference external" href="https://jcristharif.com/msgspec/api.html#msgspec.Struct" title="(in msgspec)"><code class="xref py py-class docutils literal notranslate"><span class="pre">msgspec.Struct</span></code></a>s<a class="headerlink reference internal" href="#2.8.0-ensure default values are always represented in schema for dataclasses and" id="2.8.0-ensure default values are always represented in schema for dataclasses and">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes a bug that would prevent default values for dataclasses and <code class="docutils literal notranslate"><span class="pre">msgspec.Struct</span></code> s to be included in the
OpenAPI schema.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3201">litestar-org/litestar#3201</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3285">litestar-org/litestar#3285</a></span></p>
</div>
</dd>
<dt>Pydantic v2 error handling/serialization when for non-Pydantic exceptions<a class="headerlink reference internal" href="#2.8.0-pydantic v2 error handling/serialization when for non-pydantic exceptions" id="2.8.0-pydantic v2 error handling/serialization when for non-pydantic exceptions">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes a bug that would cause a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> when non-Pydantic errors are raised during Pydantics
validation process while using DTOs.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2365">litestar-org/litestar#2365</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3286">litestar-org/litestar#3286</a></span></p>
</div>
</dd>
<dt>Fix OpenAPI schema generation for paths with path parameters of different types on the same path<a class="headerlink reference internal" href="#2.8.0-fix openapi schema generation for paths with path parameters of different types on the same path" id="2.8.0-fix openapi schema generation for paths with path parameters of different types on the same path">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes a bug that would cause no OpenAPI schema to be generated for paths with path
parameters that only differ on the path parameter type, such as <code class="docutils literal notranslate"><span class="pre">/{param:int}</span></code>
and <code class="docutils literal notranslate"><span class="pre">/{param:str}</span></code>. This was caused by an internal representation issue in
Litestars routing system.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2700">litestar-org/litestar#2700</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3293">litestar-org/litestar#3293</a></span></p>
</div>
</dd>
<dt>Document unconsumed path parameters<a class="headerlink reference internal" href="#2.8.0-document unconsumed path parameters" id="2.8.0-document unconsumed path parameters">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes a bug where path parameters not consumed by route handlers would not be included in the OpenAPI schema.</p>
<p>This could/would not include the <code class="docutils literal notranslate"><span class="pre">{param}</span></code> in the schema, yet it is still required to be passed
when calling the path.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3290">litestar-org/litestar#3290</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3295">litestar-org/litestar#3295</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.7.1">
<h2>2.7.1<a class="headerlink" href="#2.7.1" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-03-22<section id="2.7.1-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.7.1-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>replace TestClient.__enter__ return type with Self<a class="headerlink reference internal" href="#2.7.1-replace testclient.__enter__ return type with self" id="2.7.1-replace testclient.__enter__ return type with self">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">TestClient.__enter__</span></code> and <code class="docutils literal notranslate"><span class="pre">AsyncTestClient.__enter__</span></code> return <code class="docutils literal notranslate"><span class="pre">Self</span></code>.
If you inherit <code class="docutils literal notranslate"><span class="pre">TestClient</span></code>, its <code class="docutils literal notranslate"><span class="pre">__enter__</span></code> method should return derived classs instance
unless override the method. <code class="docutils literal notranslate"><span class="pre">Self</span></code> is a more flexible return type.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3194">litestar-org/litestar#3194</a></span></p>
</div>
</dd>
<dt>use the full path for fetching openapi.json<a class="headerlink reference internal" href="#2.7.1-use the full path for fetching openapi.json" id="2.7.1-use the full path for fetching openapi.json">#</a></dt><dd><div class="changelog-change docutils container">
<p>This specifies the <code class="docutils literal notranslate"><span class="pre">spec-url</span></code> and <code class="docutils literal notranslate"><span class="pre">apiDescriptionUrl</span></code> of Rapidoc, and Stoplight Elements as absolute
paths relative to the root of the site.</p>
<p>This ensures that both of the send the request for the JSON of the OpenAPI schema to the right endpoint.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3047">litestar-org/litestar#3047</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3196">litestar-org/litestar#3196</a></span></p>
</div>
</dd>
<dt>JSON schema <code class="docutils literal notranslate"><span class="pre">examples</span></code> were OpenAPI formatted<a class="headerlink reference internal" href="#2.7.1-json schema" id="2.7.1-json schema">#</a></dt><dd><div class="changelog-change docutils container">
<p>The generated <code class="docutils literal notranslate"><span class="pre">examples</span></code> in <em>JSON schema</em> objects were formatted as:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;some-id&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Lorem ipsum&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;the real beef&quot;</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>However, above is OpenAPI example format, and must not be used in JSON schema
objects. Schema objects follow different formatting:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">   </span><span class="s2">&quot;the real beef&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Explained in <a class="reference external" href="https://medium.com/apis-you-wont-hate/openapi-v3-1-and-json-schema-2019-09-6862cf3db959">APIs You Wont Hate blog post</a>.</p></li>
<li><p><a class="reference external" href="https://spec.openapis.org/oas/v3.1.0#schema-object">Schema objects spec</a></p></li>
<li><p><a class="reference external" href="https://spec.openapis.org/oas/v3.1.0#example-object">OpenAPI example format spec</a>.</p></li>
</ul>
<p>This is referenced at least from parameters, media types and components.</p>
<p>The technical change here is to define <code class="docutils literal notranslate"><span class="pre">Schema.examples</span></code> as <code class="docutils literal notranslate"><span class="pre">list[Any]</span></code> instead
of <code class="docutils literal notranslate"><span class="pre">list[Example]</span></code>. Examples can and must still be defined as <code class="docutils literal notranslate"><span class="pre">list[Example]</span></code>
for OpenAPI objects (e.g. <code class="docutils literal notranslate"><span class="pre">Parameter</span></code>, <code class="docutils literal notranslate"><span class="pre">Body</span></code>) but for JSON schema <code class="docutils literal notranslate"><span class="pre">examples</span></code>
the code now internally generates/converts <code class="docutils literal notranslate"><span class="pre">list[Any]</span></code> format instead.</p>
<p>Extra confusion here comes from the OpenAPI 3.0 vs OpenAPI 3.1 difference.
OpenAPI 3.0 only allowed <code class="docutils literal notranslate"><span class="pre">example</span></code> (singular) field in schema objects.
OpenAPI 3.1 supports the full JSON schema 2020-12 spec and so <code class="docutils literal notranslate"><span class="pre">examples</span></code> array
in schema objects.</p>
<p>Both <code class="docutils literal notranslate"><span class="pre">example</span></code> and <code class="docutils literal notranslate"><span class="pre">examples</span></code> seem to be supported, though the former is marked
as deprecated in the latest specs.</p>
<p>This can be tested over at <a class="reference external" href="https://editor-next.swagger.io">https://editor-next.swagger.io</a> by loading up the
OpenAPI 3.1 Pet store example. Then add <code class="docutils literal notranslate"><span class="pre">examples</span></code> in <code class="docutils literal notranslate"><span class="pre">components.schemas.Pet</span></code>
using the both ways and see the Swagger UI only render the example once its
properly formatted (it ignores is otherwise).</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2849">litestar-org/litestar#2849</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3224">litestar-org/litestar#3224</a></span></p>
</div>
</dd>
<dt>queue_listener handler for Python &gt;= 3.12<a class="headerlink reference internal" href="#2.7.1-queue_listener handler for python &gt;= 3.12" id="2.7.1-queue_listener handler for python &gt;= 3.12">#</a></dt><dd><div class="changelog-change docutils container">
<ul class="simple">
<li><p>Fix the <code class="docutils literal notranslate"><span class="pre">queue_listener</span></code> handler for Python 3.12</p></li>
</ul>
<p>Python 3.12 introduced a new way to configure <code class="docutils literal notranslate"><span class="pre">QueueHandler</span></code> and <code class="docutils literal notranslate"><span class="pre">QueueListener</span></code> via
<code class="docutils literal notranslate"><span class="pre">logging.config.dictConfig()</span></code>. As described in the
<a class="reference external" href="https://docs.python.org/3/library/logging.config.html#configuring-queuehandler-and-queuelistener">logging documentation</a>.</p>
<p>The listener still needs to be started &amp; stopped, as previously.
To do so, weve introduced <code class="docutils literal notranslate"><span class="pre">LoggingQueueListener</span></code>.</p>
<p>And as stated in the doc:
* Any custom queue handler and listener classes will need to be defined with the same initialization signatures
as <a class="reference external" href="https://docs.python.org/3/library/logging.handlers.html#logging.handlers.QueueHandler">QueueHandler</a> and
<a class="reference external" href="https://docs.python.org/3/library/logging.handlers.html#logging.handlers.QueueListener">QueueListener</a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2954">litestar-org/litestar#2954</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3185">litestar-org/litestar#3185</a></span></p>
</div>
</dd>
<dt>extend openapi meta collected from domain models<a class="headerlink reference internal" href="#2.7.1-extend openapi meta collected from domain models" id="2.7.1-extend openapi meta collected from domain models">#</a></dt><dd><div class="changelog-change docutils container">
<p><a class="reference internal" href="../reference/typing.html#litestar.typing.FieldDefinition" title="litestar.typing.FieldDefinition"><code class="xref py py-class docutils literal notranslate"><span class="pre">FieldDefinition</span></code></a> s pack any OpenAPI metadata onto a <code class="docutils literal notranslate"><span class="pre">KwargDefinition</span></code> instance when
types are parsed from domain models.</p>
<p>When we produce a DTO type, we transfer this meta from the <cite>KwargDefinition</cite> to a <cite>msgspec.Meta</cite> instance,
however so far this has only included constraints, not attributes such as descriptions, examples and title.</p>
<p>This change ensures that we transfer the openapi meta for the complete intersection of fields that exist on b
oth <cite>KwargDefinition</cite> and <cite>Meta</cite>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3232">litestar-org/litestar#3232</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3237">litestar-org/litestar#3237</a></span></p>
</div>
</dd>
<dt>kwarg ambiguity exc msg for path params<a class="headerlink reference internal" href="#2.7.1-kwarg ambiguity exc msg for path params" id="2.7.1-kwarg ambiguity exc msg for path params">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes the way we construct the exception message when there is a kwarg ambiguity detected for path parameters.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3261">litestar-org/litestar#3261</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.7.0">
<h2>2.7.0<a class="headerlink" href="#2.7.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-03-10<section id="2.7.0-feature">
<h3>Features<a class="headerlink" href="#2.7.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Support <code class="docutils literal notranslate"><span class="pre">ResponseSpec(...,</span> <span class="pre">examples=[...])</span></code><a class="headerlink reference internal" href="#2.7.0-support" id="2.7.0-support">#</a></dt><dd><div class="changelog-change docutils container">
<p>Allow defining custom examples for the responses via <code class="docutils literal notranslate"><span class="pre">ResponseSpec</span></code>.
The examples set this way are always generated locally, for each response:
Examples that go within the schema definition cannot be set by this.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;paths&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;/&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;get&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;responses&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;200&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;application/json&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">                </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">}}</span>
<span class="w">            </span><span class="p">}}</span>
<span class="w">        </span><span class="p">}}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3068">litestar-org/litestar#3068</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3100">litestar-org/litestar#3100</a></span></p>
</div>
</dd>
<dt>support +json-suffixed response media types<a class="headerlink reference internal" href="#2.7.0-support &quot;+json&quot;-suffixed response media types" id="2.7.0-support &quot;+json&quot;-suffixed response media types">#</a></dt><dd><div class="changelog-change docutils container">
<p>Automatically encode responses with media type of the form <code class="docutils literal notranslate"><span class="pre">application/&lt;something&gt;+json</span></code> as json.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3088">litestar-org/litestar#3088</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3096">litestar-org/litestar#3096</a></span></p>
</div>
</dd>
<dt>Allow reusable <code class="docutils literal notranslate"><span class="pre">Router</span></code> instances<a class="headerlink reference internal" href="#2.7.0-allow reusable" id="2.7.0-allow reusable">#</a></dt><dd><div class="changelog-change docutils container">
<p>It was not possible to re-attach a router instance once it was attached. This
makes that possible.</p>
<p>The router instance now gets deepcopied when its registered to another router.</p>
<p>The application startup performance gets a hit here, but the same approach is
already used for controllers and handlers, so this only harmonizes the
implementation.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3012">litestar-org/litestar#3012</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3103">litestar-org/litestar#3103</a></span></p>
</div>
</dd>
<dt>only display path in <code class="docutils literal notranslate"><span class="pre">ValidationException</span></code>s<a class="headerlink reference internal" href="#2.7.0-only display path in" id="2.7.0-only display path in">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue where <code class="docutils literal notranslate"><span class="pre">ValidationException</span></code> exposes the full URL in the error response, leaking internal IP(s) or other similar infra related information.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3061">litestar-org/litestar#3061</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3064">litestar-org/litestar#3064</a></span></p>
</div>
</dd>
<dt>expose <code class="docutils literal notranslate"><span class="pre">request_class</span></code> to other layers<a class="headerlink reference internal" href="#2.7.0-expose" id="2.7.0-expose">#</a></dt><dd><div class="changelog-change docutils container">
<p>Expose <code class="docutils literal notranslate"><span class="pre">request_class</span></code> to other layers</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3125">litestar-org/litestar#3125</a></span></p>
</div>
</dd>
<dt>expose <code class="docutils literal notranslate"><span class="pre">websocket_class</span></code><a class="headerlink reference internal" href="#2.7.0-expose" id="2.7.0-expose">#</a></dt><dd><div class="changelog-change docutils container">
<p>Expose <code class="docutils literal notranslate"><span class="pre">websocket_class</span></code> to other layers</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3152">litestar-org/litestar#3152</a></span></p>
</div>
</dd>
<dt>Add <code class="docutils literal notranslate"><span class="pre">type_decoders</span></code> to Router and route handlers<a class="headerlink reference internal" href="#2.7.0-add" id="2.7.0-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add <code class="docutils literal notranslate"><span class="pre">type_decoders</span></code> to <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method for handler, routers and decorators to keep consistency with <code class="docutils literal notranslate"><span class="pre">type_encoders</span></code> parameter</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3153">litestar-org/litestar#3153</a></span></p>
</div>
</dd>
<dt>Pass <code class="docutils literal notranslate"><span class="pre">type_decoders</span></code> in <code class="docutils literal notranslate"><span class="pre">WebsocketListenerRouteHandler</span></code><a class="headerlink reference internal" href="#2.7.0-pass" id="2.7.0-pass">#</a></dt><dd><div class="changelog-change docutils container">
<p>Pass <code class="docutils literal notranslate"><span class="pre">type_decoders</span></code> to parents <code class="docutils literal notranslate"><span class="pre">__init__</span></code> in <code class="docutils literal notranslate"><span class="pre">WebsocketListenerRouteHandler</span></code> init, otherwise <code class="docutils literal notranslate"><span class="pre">type_decoders</span></code> will be <code class="docutils literal notranslate"><span class="pre">None</span></code>
replace params order in docs, <code class="docutils literal notranslate"><span class="pre">__init__</span></code> (<cite>decoders</cite> before <cite>encoders</cite>)</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3162">litestar-org/litestar#3162</a></span></p>
</div>
</dd>
<dt>3116 enhancement session middleware<a class="headerlink reference internal" href="#2.7.0-3116 enhancement session middleware" id="2.7.0-3116 enhancement session middleware">#</a></dt><dd><div class="changelog-change docutils container">
<p>For server side sessions, the session id is now generated before the route handler. Thus, on first visit, a session id will be available inside the route handlers scope instead of afterwards
A new abstract method <code class="docutils literal notranslate"><span class="pre">get_session_id</span></code> was added to <code class="docutils literal notranslate"><span class="pre">BaseSessionBackend</span></code> since this method will be called for both ClientSideSessions and ServerSideSessions. Only for ServerSideSessions it will return an actual id.
Using <code class="docutils literal notranslate"><span class="pre">request.set_session(...)</span></code> will return the session id for ServerSideSessions and None for ClientSideSessions
The session auth MiddlewareWrapper now refers to the Session Middleware via the configured backend, instead of it being hardcoded</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3116">litestar-org/litestar#3116</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3127">litestar-org/litestar#3127</a></span></p>
</div>
</dd>
<dt>make random seed for openapi example generation configurable<a class="headerlink reference internal" href="#2.7.0-make random seed for openapi example generation configurable" id="2.7.0-make random seed for openapi example generation configurable">#</a></dt><dd><div class="changelog-change docutils container">
<p>Allow random seed used for generating the examples in the OpenAPI schema (when <code class="docutils literal notranslate"><span class="pre">create_examples</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>) to be configured by the user.
This is related to <a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3059">litestar-org/litestar#3059</a> however whether this change is enough to close that issue or not is not confirmed.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3166">litestar-org/litestar#3166</a></span></p>
</div>
</dd>
<dt>generate openapi components schemas in a deterministic order<a class="headerlink reference internal" href="#2.7.0-generate openapi components schemas in a deterministic order" id="2.7.0-generate openapi components schemas in a deterministic order">#</a></dt><dd><div class="changelog-change docutils container">
<p>Ensure that the insertion into the <code class="docutils literal notranslate"><span class="pre">Components.schemas</span></code> dictionary of the OpenAPI spec will be in alphabetical order (based on the normalized name of the <code class="docutils literal notranslate"><span class="pre">Schema</span></code>).</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3172">litestar-org/litestar#3172</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.7.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.7.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>missing cors headers in response<a class="headerlink reference internal" href="#2.7.0-missing cors headers in response" id="2.7.0-missing cors headers in response">#</a></dt><dd><div class="changelog-change docutils container">
<p>Set CORS Middleware headers as per spec.
Addresses issues outlined on <a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3178">litestar-org/litestar#3178</a></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3178">litestar-org/litestar#3178</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3179">litestar-org/litestar#3179</a></span></p>
</div>
</dd>
<dt>sending empty data in sse in js client<a class="headerlink reference internal" href="#2.7.0-sending empty data in sse in js client" id="2.7.0-sending empty data in sse in js client">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue with SSE where JavaScript clients fail to receive an event without data.
The <a class="reference external" href="https://html.spec.whatwg.org/multipage/server-sent-events.html#parsing-an-event-stream">spec</a> is
not clear in whether or not an event without data is ok.
Considering the EventSource client is not ok with it, and that its so easy DX-wise to make the mistake not
explicitly sending it, this change fixes it by defaulting to the empty-string</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3176">litestar-org/litestar#3176</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.6.3">
<h2>2.6.3<a class="headerlink" href="#2.6.3" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024-03-04<section id="2.6.3-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.6.3-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Pydantic V1 schema generation for PrivateAttr in GenericModel<a class="headerlink reference internal" href="#2.6.3-pydantic v1 schema generation for privateattr in genericmodel" id="2.6.3-pydantic v1 schema generation for privateattr in genericmodel">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes a bug that caused a <code class="docutils literal notranslate"><span class="pre">NameError</span></code> when a Pydantic V1 <code class="docutils literal notranslate"><span class="pre">GenericModel</span></code> has a private attribute of which the type annotation cannot be resolved at the time of schema generation.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3150">litestar-org/litestar#3150</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3161">litestar-org/litestar#3161</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.6.2">
<h2>2.6.2<a class="headerlink" href="#2.6.2" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024/03/02<section id="2.6.2-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.6.2-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>DTO msgspec meta constraints not being included in transfer model<a class="headerlink reference internal" href="#2.6.2-dto msgspec meta constraints not being included in transfer model" id="2.6.2-dto msgspec meta constraints not being included in transfer model">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue where msgspec constraints set in <code class="docutils literal notranslate"><span class="pre">msgspec.Meta</span></code> would not be
honoured by the DTO.</p>
<p>In the given example, the <code class="docutils literal notranslate"><span class="pre">min_length=3</span></code> constraint would be ignored by the
model generated by <code class="docutils literal notranslate"><span class="pre">MsgspecDTO</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Annotated</span>

<span class="kn">import</span> <span class="nn">msgspec</span>
<span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">post</span>
<span class="kn">from</span> <span class="nn">litestar.dto</span> <span class="kn">import</span> <span class="n">MsgspecDTO</span>

<span class="k">class</span> <span class="nc">Request</span><span class="p">(</span><span class="n">msgspec</span><span class="o">.</span><span class="n">Struct</span><span class="p">):</span>
    <span class="n">foo</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">msgspec</span><span class="o">.</span><span class="n">Meta</span><span class="p">(</span><span class="n">min_length</span><span class="o">=</span><span class="mi">3</span><span class="p">)]</span>

<span class="nd">@post</span><span class="p">(</span><span class="s2">&quot;/example/&quot;</span><span class="p">,</span> <span class="n">dto</span><span class="o">=</span><span class="n">MsgspecDTO</span><span class="p">[</span><span class="n">Request</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">example</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Request</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Request</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">data</span>
</pre></div>
</div>
<p>Constraints like these are now transferred.</p>
<p>Two things to note are:</p>
<ul class="simple">
<li><p>For DTOs with <code class="docutils literal notranslate"><span class="pre">DTOConfig(partial=True)</span></code> we cannot transfer the length
constraints as they are only supported on fields that as subtypes of <code class="docutils literal notranslate"><span class="pre">str</span></code>,
<code class="docutils literal notranslate"><span class="pre">bytes</span></code> or a collection type, but <code class="docutils literal notranslate"><span class="pre">partial=True</span></code> sets all fields as
<code class="docutils literal notranslate"><span class="pre">T</span> <span class="pre">|</span> <span class="pre">UNSET</span></code></p></li>
<li><p>For the <code class="docutils literal notranslate"><span class="pre">PiccoloDTO</span></code>, fields which are not required will also drop the
length constraints. A warning about this will be raised here.</p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3026">litestar-org/litestar#3026</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3113">litestar-org/litestar#3113</a></span></p>
</div>
</dd>
<dt>Missing control header for static files<a class="headerlink reference internal" href="#2.6.2-missing control header for static files" id="2.6.2-missing control header for static files">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue where a <code class="docutils literal notranslate"><span class="pre">cache_control</span></code> that is set on a router created by
<code class="docutils literal notranslate"><span class="pre">create_static_files_router</span></code> wasnt passed to the generated handler</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3129">litestar-org/litestar#3129</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3131">litestar-org/litestar#3131</a></span></p>
</div>
</dd>
<dt>Fix OpenAPI schema generation for Pydantic v2 constrained <code class="docutils literal notranslate"><span class="pre">Secret</span></code> types<a class="headerlink reference internal" href="#2.6.2-fix openapi schema generation for pydantic v2 constrained" id="2.6.2-fix openapi schema generation for pydantic v2 constrained">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix schema generation for <code class="docutils literal notranslate"><span class="pre">pydantic.SecretStr</span></code> and <code class="docutils literal notranslate"><span class="pre">pydantic.SecretBytes</span></code>
which, when constrained, would not be recognised as such with Pydantic V2 since
theyre not subtypes of their respective bases anymore.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3148">litestar-org/litestar#3148</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3149">litestar-org/litestar#3149</a></span></p>
</div>
</dd>
<dt>Fix OpenAPI schema generation for Pydantic private attributes<a class="headerlink reference internal" href="#2.6.2-fix openapi schema generation for pydantic private attributes" id="2.6.2-fix openapi schema generation for pydantic private attributes">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug that caused a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NameError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NameError</span></code></a> when trying to resolve forward
references in Pydantic private fields.</p>
<p>Although private fields were respected excluded from the schema, it was still
attempted to extract their type annotation. This was fixed by not relying on
<code class="docutils literal notranslate"><span class="pre">typing.get_type_hints</span></code> to get the type information, but instead using
Pydantics own APIs, allowing us to only extract information about the types of
relevant fields.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3150">litestar-org/litestar#3150</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3151">litestar-org/litestar#3151</a></span></p>
</div>
</dd>
<dt>OpenAPI description not set for UUID based path parameters in OpenAPI<a class="headerlink reference internal" href="#2.6.2-openapi description not set for uuid based path parameters in openapi" id="2.6.2-openapi description not set for uuid based path parameters in openapi">#</a></dt><dd><div class="changelog-change docutils container">
<p>Resolved a bug where the description was not set for UUID-based path
parameters in OpenAPI due to the reason mentioned in the issue.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2967">litestar-org/litestar#2967</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3118">litestar-org/litestar#3118</a></span></p>
</div>
</dd>
<dt>Fix <code class="docutils literal notranslate"><span class="pre">RedisStore</span></code> client created with <code class="docutils literal notranslate"><span class="pre">with_client</span></code> unclosed<a class="headerlink reference internal" href="#2.6.2-fix" id="2.6.2-fix">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where, when a <a class="reference internal" href="../reference/stores/redis.html#litestar.stores.redis.RedisStore" title="litestar.stores.redis.RedisStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">RedisStore</span></code></a> was created
with the <a class="reference internal" href="../reference/stores/redis.html#litestar.stores.redis.RedisStore.with_client" title="litestar.stores.redis.RedisStore.with_client"><code class="xref py py-meth docutils literal notranslate"><span class="pre">with_client()</span></code></a> method, that
client wasnt closed explicitly</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3083">litestar-org/litestar#3083</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3111">litestar-org/litestar#3111</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.6.1">
<h2>2.6.1<a class="headerlink" href="#2.6.1" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024/02/14<section id="2.6.1-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.6.1-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>SQLAlchemy: Use <cite>IntegrityError</cite> instead of deprecated <cite>ConflictError</cite><a class="headerlink reference internal" href="#2.6.1-sqlalchemy: use" id="2.6.1-sqlalchemy: use">#</a></dt><dd><div class="changelog-change docutils container">
<p>Updated the repository to return <code class="docutils literal notranslate"><span class="pre">IntegrityError</span></code> instead of the now
deprecated <code class="docutils literal notranslate"><span class="pre">ConflictError</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3094">litestar-org/litestar#3094</a></span></p>
</div>
</dd>
<dt>Remove usage of deprecated <cite>static_files</cite> property<a class="headerlink reference internal" href="#2.6.1-remove usage of deprecated" id="2.6.1-remove usage of deprecated">#</a></dt><dd><div class="changelog-change docutils container">
<p>Remove the usage of the deprecated <code class="docutils literal notranslate"><span class="pre">Litestar.static_files_config</span></code> in
<code class="docutils literal notranslate"><span class="pre">Litestar.__init__</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3087">litestar-org/litestar#3087</a></span></p>
</div>
</dd>
<dt>Sessions: Fix cookie naming for short cookies<a class="headerlink reference internal" href="#2.6.1-sessions: fix cookie naming for short cookies" id="2.6.1-sessions: fix cookie naming for short cookies">#</a></dt><dd><div class="changelog-change docutils container">
<p>Previously, cookie names always had a suffix of the form <code class="docutils literal notranslate"><span class="pre">&quot;-{i}&quot;</span></code> appended to
them. With this change, the suffix is omitted if the cookie is short enough
(&lt; 4 KB) to not be split into multiple chunks.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3090">litestar-org/litestar#3090</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3095">litestar-org/litestar#3095</a></span></p>
</div>
</dd>
<dt>Static files: Fix path resolution for windows<a class="headerlink reference internal" href="#2.6.1-static files: fix path resolution for windows" id="2.6.1-static files: fix path resolution for windows">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue with the path resolution on Windows introduced in
<a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2960">litestar-org/litestar#2960</a> that would lead to 404s</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3102">litestar-org/litestar#3102</a></span></p>
</div>
</dd>
<dt>Fix logging middleware with structlog causes application to return a <code class="docutils literal notranslate"><span class="pre">500</span></code> when request body is malformed<a class="headerlink reference internal" href="#2.6.1-fix logging middleware with structlog causes application to return a" id="2.6.1-fix logging middleware with structlog causes application to return a">#</a></dt><dd><div class="changelog-change docutils container">
<p>Gracefully handle malformed request bodies during parsing when using structlog;
Instead of erroring out and returning a <code class="docutils literal notranslate"><span class="pre">500</span></code>, the raw body is now being used
when an error occurs during parsing</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3063">litestar-org/litestar#3063</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3109">litestar-org/litestar#3109</a></span></p>
</div>
</dd>
<dt>OpenAPI: Generate correct response schema for <code class="docutils literal notranslate"><span class="pre">ResponseSpec(None)</span></code><a class="headerlink reference internal" href="#2.6.1-openapi: generate correct response schema for" id="2.6.1-openapi: generate correct response schema for">#</a></dt><dd><div class="changelog-change docutils container">
<p>Explicitly declaring <code class="docutils literal notranslate"><span class="pre">responses={...:</span> <span class="pre">ResponseSpec(None)}</span></code> used to generate
OpenAPI a <code class="docutils literal notranslate"><span class="pre">content</span></code> property, when it should be omitted.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3069">litestar-org/litestar#3069</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3098">litestar-org/litestar#3098</a></span></p>
</div>
</dd>
<dt>Prevent exception handlers from extracting details from non-Litestar exceptions<a class="headerlink reference internal" href="#2.6.1-prevent exception handlers from extracting details from non-litestar exceptions" id="2.6.1-prevent exception handlers from extracting details from non-litestar exceptions">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where exception classes that had a <code class="docutils literal notranslate"><span class="pre">status_code</span></code> attribute would be
treated as Litestar exceptions and details from them would be extracted and
added to the exception response.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3082">litestar-org/litestar#3082</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3106">litestar-org/litestar#3106</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.6.0">
<h2>2.6.0<a class="headerlink" href="#2.6.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024/02/06<section id="2.6.0-feature">
<h3>Features<a class="headerlink" href="#2.6.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Enable disabling configuring <code class="docutils literal notranslate"><span class="pre">root</span></code> logger within <code class="docutils literal notranslate"><span class="pre">LoggingConfig</span></code><a class="headerlink reference internal" href="#2.6.0-enable disabling configuring" id="2.6.0-enable disabling configuring">#</a></dt><dd><div class="changelog-change docutils container">
<p>The option <a class="reference internal" href="../reference/logging/config.html#litestar.logging.config.LoggingConfig.configure_root_logger" title="litestar.logging.config.LoggingConfig.configure_root_logger"><code class="xref py py-attr docutils literal notranslate"><span class="pre">configure_root_logger</span></code></a> was
added to <a class="reference internal" href="../reference/logging/config.html#litestar.logging.config.LoggingConfig" title="litestar.logging.config.LoggingConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoggingConfig</span></code></a> attribute. It is enabled by
default to not implement a breaking change.</p>
<p>When set to <code class="docutils literal notranslate"><span class="pre">False</span></code> the <code class="docutils literal notranslate"><span class="pre">root</span></code> logger will not be modified for <code class="docutils literal notranslate"><span class="pre">logging</span></code>
or <code class="docutils literal notranslate"><span class="pre">picologging</span></code> loggers.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2969">litestar-org/litestar#2969</a></span></p>
</div>
</dd>
<dt>Simplified static file handling and enhancements<a class="headerlink reference internal" href="#2.6.0-simplified static file handling and enhancements" id="2.6.0-simplified static file handling and enhancements">#</a></dt><dd><div class="changelog-change docutils container">
<p>Static file serving has been implemented with regular route handlers instead of
a specialised ASGI app. At the moment, this is complementary to the usage of
<a class="reference internal" href="../reference/static_files.html#litestar.static_files.StaticFilesConfig" title="litestar.static_files.StaticFilesConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">StaticFilesConfig</span></code></a> to maintain backwards
compatibility.</p>
<p>This achieves a few things:</p>
<ul class="simple">
<li><p>Fixes <a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2629">litestar-org/litestar#2629</a></p></li>
<li><p>Circumvents special casing needed in the routing logic for the static files app</p></li>
<li><p>Removes the need for a <code class="docutils literal notranslate"><span class="pre">static_files_config</span></code> attribute on the app</p></li>
<li><p>Removes the need for a special <a class="reference internal" href="../reference/app.html#litestar.app.Litestar.url_for_static_asset" title="litestar.app.Litestar.url_for_static_asset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">url_for_static_asset()</span></code></a>
method on the app since <cite>route_reverse</cite> can be used instead</p></li>
</ul>
<p>Additionally:</p>
<ul class="simple">
<li><p>Most router options can now be passed to the
<a class="reference internal" href="../reference/static_files.html#litestar.static_files.create_static_files_router" title="litestar.static_files.create_static_files_router"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_static_files_router()</span></code></a>, allowing further
customisation</p></li>
<li><p>A new <code class="docutils literal notranslate"><span class="pre">resolve_symlinks</span></code> flag has been added, defaulting to <code class="docutils literal notranslate"><span class="pre">True</span></code> to keep
backwards compatibility</p></li>
</ul>
<p><strong>Usage</strong></p>
<p>Instead of</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">(</span>
    <span class="n">static_files_config</span><span class="o">=</span><span class="p">[</span><span class="n">StaticFilesConfig</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;/static&quot;</span><span class="p">,</span> <span class="n">directories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;some_dir&quot;</span><span class="p">])]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You can now simply use</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">(</span>
    <span class="n">route_handlers</span><span class="o">=</span><span class="p">[</span>
        <span class="n">create_static_files_router</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;/static&quot;</span><span class="p">,</span> <span class="n">directories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;some_dir&quot;</span><span class="p">])</span>
    <span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/static-files.html"><span class="doc">Static files</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2629">litestar-org/litestar#2629</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2960">litestar-org/litestar#2960</a></span></p>
</div>
</dd>
<dt>Exclude Piccolo ORM columns with <code class="docutils literal notranslate"><span class="pre">secret=True</span></code> from <code class="docutils literal notranslate"><span class="pre">PydanticDTO</span></code> output<a class="headerlink reference internal" href="#2.6.0-exclude piccolo orm columns with" id="2.6.0-exclude piccolo orm columns with">#</a></dt><dd><div class="changelog-change docutils container">
<p>For Piccolo columns with <code class="docutils literal notranslate"><span class="pre">secret=True</span></code> set, corresponding <code class="docutils literal notranslate"><span class="pre">PydanticDTO</span></code>
attributes will be marked as <code class="docutils literal notranslate"><span class="pre">WRITE_ONLY</span></code> to prevent the column being included
in <code class="docutils literal notranslate"><span class="pre">return_dto</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3030">litestar-org/litestar#3030</a></span></p>
</div>
</dd>
<dt>Allow discovering registered plugins by their fully qualified name<a class="headerlink reference internal" href="#2.6.0-allow discovering registered plugins by their fully qualified name" id="2.6.0-allow discovering registered plugins by their fully qualified name">#</a></dt><dd><div class="changelog-change docutils container">
<p><cite>PluginRegistryPluginRegistry`</cite> now supports retrieving a plugin by its fully
qualified name.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3027">litestar-org/litestar#3027</a></span></p>
</div>
</dd>
<dt>Support externally typed classes as dependency providers<a class="headerlink reference internal" href="#2.6.0-support externally typed classes as dependency providers" id="2.6.0-support externally typed classes as dependency providers">#</a></dt><dd><div class="changelog-change docutils container">
<ul class="simple">
<li><p>Implement a new <a class="reference internal" href="../reference/plugins/index.html#litestar.plugins.DIPlugin" title="litestar.plugins.DIPlugin"><code class="xref py py-class docutils literal notranslate"><span class="pre">DIPlugin</span></code></a> class that allows the
generation of signatures for arbitrary types where their signature cannot be
extracted from the types <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">DIPlugin</span></code>s for Pydantic and Msgspec to allow using their
respective modelled types as dependency providers. These plugins will be
registered by default</p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2979">litestar-org/litestar#2979</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3066">litestar-org/litestar#3066</a></span></p>
</div>
</dd>
<dt>Add structlog plugin<a class="headerlink reference internal" href="#2.6.0-add structlog plugin" id="2.6.0-add structlog plugin">#</a></dt><dd><div class="changelog-change docutils container">
<p>A Structlog plugin to make it easier to configure structlog in a single place.</p>
<p>The plugin:</p>
<ul class="simple">
<li><p>Detects if a logger has <code class="docutils literal notranslate"><span class="pre">setLevel</span></code> before calling</p></li>
<li><p>Set even message name to be init-cap</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">set_level</span></code> interface to config</p></li>
<li><p>Allows structlog printer to detect if console is TTY enabled. If so, a
Struglog color formatter with Rich traceback printer is used</p></li>
<li><p>Auto-configures stdlib logger to use the structlog logger</p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2943">litestar-org/litestar#2943</a></span></p>
</div>
</dd>
<dt>Add reload-include and reload-exclude to CLI run command<a class="headerlink reference internal" href="#2.6.0-add reload-include and reload-exclude to cli run command" id="2.6.0-add reload-include and reload-exclude to cli run command">#</a></dt><dd><div class="changelog-change docutils container">
<p>The options <code class="docutils literal notranslate"><span class="pre">reload-exclude</span></code> and <code class="docutils literal notranslate"><span class="pre">reload-include</span></code> were added to the CLI
<code class="docutils literal notranslate"><span class="pre">run</span></code> command to explicitly in-/exclude specific paths from the reloading
watcher.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2875">litestar-org/litestar#2875</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2973">litestar-org/litestar#2973</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.5.5">
<h2>2.5.5<a class="headerlink" href="#2.5.5" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024/02/04<section id="2.5.5-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.5.5-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix scope <code class="docutils literal notranslate"><span class="pre">state</span></code> key handling<a class="headerlink reference internal" href="#2.5.5-fix scope" id="2.5.5-fix scope">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a regression introduced in #2751 that would wrongfully assume the <code class="docutils literal notranslate"><span class="pre">state</span></code>
key is always present within the ASGI Scope. This is <em>only</em> the case when the
Litestar root application is invoked first, since we enforce such a key there,
but the presence of that key is not actually guaranteed by the ASGI spec and
some servers, such as hypercorn, do not provide it.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3070">litestar-org/litestar#3070</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.5.4">
<h2>2.5.4<a class="headerlink" href="#2.5.4" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024/01/31<section id="2.5.4-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.5.4-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Handle <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> when <cite>root_path</cite> is not present in ASGI scope<a class="headerlink reference internal" href="#2.5.4-handle" id="2.5.4-handle">#</a></dt><dd><div class="changelog-change docutils container">
<p>Nginx Unit ASGI server does not set root_path in the ASGI scope, which is
expected as part of the changes done in #3039. This PR fixes the assumption that
the key is always present and instead tries to optionally retrieve it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">KeyError</span> <span class="n">on</span> <span class="n">GET</span> <span class="o">/</span>
<span class="s1">&#39;root_path&#39;</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3051">litestar-org/litestar#3051</a></span></p>
</div>
</dd>
<dt>ServerSentEvent typing error<a class="headerlink reference internal" href="#2.5.4-serversentevent typing error" id="2.5.4-serversentevent typing error">#</a></dt><dd><div class="changelog-change docutils container">
<p>fixes small typing error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">error</span><span class="p">:</span> <span class="n">Argument</span> <span class="mi">1</span> <span class="n">to</span> <span class="s2">&quot;ServerSentEvent&quot;</span> <span class="n">has</span> <span class="n">incompatible</span> <span class="nb">type</span> <span class="s2">&quot;AsyncIterable[ServerSentEventMessage]&quot;</span><span class="p">;</span> <span class="n">expected</span> <span class="s2">&quot;str | bytes | Iterable[str | bytes] | Iterator[str | bytes] | AsyncIterable[str | bytes] | AsyncIterator[str | bytes]&quot;</span>  <span class="p">[</span><span class="n">arg</span><span class="o">-</span><span class="nb">type</span><span class="p">]</span>
</pre></div>
</div>
<p>inside <code class="docutils literal notranslate"><span class="pre">test_sse</span></code> there was a <code class="docutils literal notranslate"><span class="pre">Any</span></code> I changed to trigger the test then solved it.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3048">litestar-org/litestar#3048</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.5.3">
<h2>2.5.3<a class="headerlink" href="#2.5.3" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024/01/29<section id="2.5.3-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.5.3-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Handle diverging ASGI <code class="docutils literal notranslate"><span class="pre">root_path</span></code> behaviour<a class="headerlink reference internal" href="#2.5.3-handle diverging asgi" id="2.5.3-handle diverging asgi">#</a></dt><dd><div class="changelog-change docutils container">
<p>Uvicorn <a class="reference external" href="https://github.com/encode/uvicorn/releases/tag/0.26.0">0.26.0</a>
introduced a breaking change in its handling of the ASGI <code class="docutils literal notranslate"><span class="pre">root_path</span></code> behaviour,
which, while adhering to the spec, diverges from the interpretation of other
ASGI servers of this aspect of the spec (e.g. hypercorn and daphne do not follow
uvicorns interpretation as of today). A fix was introduced that ensures
consistent behaviour of applications in any case.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3041">litestar-org/litestar#3041</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3039">litestar-org/litestar#3039</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.5.2">
<h2>2.5.2<a class="headerlink" href="#2.5.2" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024/01/27<section id="2.5.2-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.5.2-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Ensure <code class="docutils literal notranslate"><span class="pre">MultiDict</span></code> and <code class="docutils literal notranslate"><span class="pre">ImmutableMultiDict</span></code> copy methods return the instances type<a class="headerlink reference internal" href="#2.5.2-ensure" id="2.5.2-ensure">#</a></dt><dd><div class="changelog-change docutils container">
<p>Ensure <a class="reference internal" href="../reference/datastructures/index.html#litestar.datastructures.MultiDict" title="litestar.datastructures.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a> and
<a class="reference internal" href="../reference/datastructures/index.html#litestar.datastructures.ImmutableMultiDict" title="litestar.datastructures.ImmutableMultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImmutableMultiDict</span></code></a> copy methods return a new
instance of <code class="docutils literal notranslate"><span class="pre">MultiDict</span></code> and <code class="docutils literal notranslate"><span class="pre">ImmutableMultiDict</span></code>. Previously, these would
return a <a class="reference external" href="https://multidict.aio-libs.org/en/stable/multidict/#multidict.MultiDict" title="(in multidict v6.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">multidict.MultiDict</span></code></a> instance.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2549">litestar-org/litestar#2549</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3009">litestar-org/litestar#3009</a></span></p>
</div>
</dd>
<dt>Ensure <code class="docutils literal notranslate"><span class="pre">exceptiongroup</span></code> is installed on Python 3.11<a class="headerlink reference internal" href="#2.5.2-ensure" id="2.5.2-ensure">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add the <a class="reference external" href="https://github.com/agronholm/exceptiongroup">exceptiongroup</a> package
as a required dependency on Python <code class="docutils literal notranslate"><span class="pre">&lt;3.11</span></code> (previously <code class="docutils literal notranslate"><span class="pre">&lt;3.10</span></code>) as a
backport of <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#exception-groups">Exception Groups</a></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/3029">litestar-org/litestar#3029</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/3035">litestar-org/litestar#3035</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.5.1">
<h2>2.5.1<a class="headerlink" href="#2.5.1" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024/01/18<section id="2.5.1-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.5.1-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix OpenAPI schema generation for Union of multiple <code class="docutils literal notranslate"><span class="pre">msgspec.Struct</span></code>s and <code class="docutils literal notranslate"><span class="pre">None</span></code><a class="headerlink reference internal" href="#2.5.1-fix openapi schema generation for union of multiple" id="2.5.1-fix openapi schema generation for union of multiple">#</a></dt><dd><div class="changelog-change docutils container">
<p>The following code would raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">msgspec</span>

<span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">get</span>


<span class="k">class</span> <span class="nc">StructA</span><span class="p">(</span><span class="n">msgspec</span><span class="o">.</span><span class="n">Struct</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">StructB</span><span class="p">(</span><span class="n">msgspec</span><span class="o">.</span><span class="n">Struct</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">handler</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">StructA</span> <span class="o">|</span> <span class="n">StructB</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">StructA</span><span class="p">()</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2971">litestar-org/litestar#2971</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2982">litestar-org/litestar#2982</a></span></p>
</div>
</dd>
<dt>Fix misleading error message for missing dependencies provide by a package extra<a class="headerlink reference internal" href="#2.5.1-fix misleading error message for missing dependencies provide by a package extra" id="2.5.1-fix misleading error message for missing dependencies provide by a package extra">#</a></dt><dd><div class="changelog-change docutils container">
<p>Ensure that <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.MissingDependencyException" title="litestar.exceptions.MissingDependencyException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">MissingDependencyException</span></code></a> includes the correct name of the
package to install if the package name differs from the Litestar package extra.
(e.g. <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">litestar[jinja]</span></code> vs <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">jinja2</span></code>). Previously the
exception assumed the same name for both the package and package-extra name.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2921">litestar-org/litestar#2921</a></span></p>
</div>
</dd>
<dt>Fix OpenAPI schema file upload schema types for swagger<a class="headerlink reference internal" href="#2.5.1-fix openapi schema file upload schema types for swagger" id="2.5.1-fix openapi schema file upload schema types for swagger">#</a></dt><dd><div class="changelog-change docutils container">
<ul class="simple">
<li><p>Always set <code class="docutils literal notranslate"><span class="pre">format</span></code> as <code class="docutils literal notranslate"><span class="pre">binary</span></code></p></li>
<li><p>Fix schema for swagger with multiple files, which requires the type of the
request body schema to be <code class="docutils literal notranslate"><span class="pre">object</span></code> with <code class="docutils literal notranslate"><span class="pre">properties</span></code> instead of a schema
of type <code class="docutils literal notranslate"><span class="pre">array</span></code> and <code class="docutils literal notranslate"><span class="pre">items</span></code>.</p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2628">litestar-org/litestar#2628</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2745">litestar-org/litestar#2745</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.5.0">
<h2>2.5.0<a class="headerlink" href="#2.5.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2024/01/06<section id="2.5.0-feature">
<h3>Features<a class="headerlink" href="#2.5.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Postgres channels backends<a class="headerlink reference internal" href="#2.5.0-postgres channels backends" id="2.5.0-postgres channels backends">#</a></dt><dd><div class="changelog-change docutils container">
<p>Two new channel backends were added to bring Postgres support:</p>
<p><a class="reference internal" href="../reference/channels/backends/asyncpg.html#litestar.channels.backends.asyncpg.AsyncPgChannelsBackend" title="litestar.channels.backends.asyncpg.AsyncPgChannelsBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncPgChannelsBackend</span></code></a>, using the
<a class="reference external" href="https://magicstack.github.io/asyncpg/current/">asyncpg</a> driver and
<a class="reference internal" href="../reference/channels/backends/psycopg.html#litestar.channels.backends.psycopg.PsycoPgChannelsBackend" title="litestar.channels.backends.psycopg.PsycoPgChannelsBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">PsycoPgChannelsBackend</span></code></a> using the
<a class="reference external" href="https://www.psycopg.org/psycopg3/docs/">psycopg3</a> async driver.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/channels.html"><span class="doc">Channels</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2803">litestar-org/litestar#2803</a></span></p>
</div>
</dd>
<dt>Add <code class="docutils literal notranslate"><span class="pre">--schema</span></code> and <code class="docutils literal notranslate"><span class="pre">--exclude</span></code> option to <code class="docutils literal notranslate"><span class="pre">litestar</span> <span class="pre">route</span></code> CLI command<a class="headerlink reference internal" href="#2.5.0-add" id="2.5.0-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Two new options were added to the <code class="docutils literal notranslate"><span class="pre">litestar</span> <span class="pre">route</span></code> CLI command:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--schema</span></code>, to include the routes serving OpenAPI schema and docs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--exclude</span></code> to exclude routes matching a specified pattern</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Read more in the CLI <a class="reference internal" href="../reference/cli.html"><span class="doc">cli</span></a> section.</p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2886">litestar-org/litestar#2886</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.5.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.5.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix serialization of custom types in exception responses<a class="headerlink reference internal" href="#2.5.0-fix serialization of custom types in exception responses" id="2.5.0-fix serialization of custom types in exception responses">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug that would lead to a <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.SerializationException" title="litestar.exceptions.SerializationException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SerializationException</span></code></a> when custom types
were present in an exception response handled by the built-in exception
handlers.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="nd">@get</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">handler</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="n">ValidationException</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="n">Foo</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">)})</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">(</span><span class="n">route_handlers</span><span class="o">=</span><span class="p">[</span><span class="n">handler</span><span class="p">],</span> <span class="n">type_encoders</span><span class="o">=</span><span class="p">{</span><span class="n">Foo</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">foo</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">})</span>
</pre></div>
</div>
<p>The cause was that, in examples like the one shown above, <code class="docutils literal notranslate"><span class="pre">type_encoders</span></code>
were not resolved properly from all layers by the exception handling middleware,
causing the serializer to throw an exception for an unknown type.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2867">litestar-org/litestar#2867</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2941">litestar-org/litestar#2941</a></span></p>
</div>
</dd>
<dt>Fix SSE reverting to default <code class="docutils literal notranslate"><span class="pre">event_type</span></code> after 1st message<a class="headerlink reference internal" href="#2.5.0-fix sse reverting to default" id="2.5.0-fix sse reverting to default">#</a></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">event_type</span></code> set within an SSE returned from a handler would revert back
to a default after the first message sent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/stream&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">stream</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServerSentEvent</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">gen</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;&lt;div&gt;</span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s2">&lt;/div&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">c</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">ServerSentEvent</span><span class="p">(</span><span class="n">gen</span><span class="p">(),</span> <span class="n">event_type</span><span class="o">=</span><span class="s2">&quot;my_event&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, the event type would only be <code class="docutils literal notranslate"><span class="pre">my_event</span></code> for the first
message, and fall back to a default afterwards. The implementation has been
fixed and will now continue sending the set event type for all messages.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2877">litestar-org/litestar#2877</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2888">litestar-org/litestar#2888</a></span></p>
</div>
</dd>
<dt>Correctly handle single file upload validation when multiple files are specified<a class="headerlink reference internal" href="#2.5.0-correctly handle single file upload validation when multiple files are specified" id="2.5.0-correctly handle single file upload validation when multiple files are specified">#</a></dt><dd><div class="changelog-change docutils container">
<p>Uploading a single file when the validation target allowed multiple would cause
a <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.ValidationException" title="litestar.exceptions.ValidationException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValidationException</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FileUpload</span><span class="p">(</span><span class="n">Struct</span><span class="p">):</span>
    <span class="n">files</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">UploadFile</span><span class="p">]</span>


<span class="nd">@post</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">upload_files_object</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">FileUpload</span><span class="p">,</span> <span class="n">Body</span><span class="p">(</span><span class="n">media_type</span><span class="o">=</span><span class="n">RequestEncodingType</span><span class="o">.</span><span class="n">MULTI_PART</span><span class="p">)]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>This could would only allow for 2 or more files to be sent, and otherwise throw
an exception.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2939">litestar-org/litestar#2939</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2950">litestar-org/litestar#2950</a></span></p>
</div>
</dd>
<dt>Fix trailing messages after unsubscribe in channels<a class="headerlink reference internal" href="#2.5.0-fix trailing messages after unsubscribe in channels" id="2.5.0-fix trailing messages after unsubscribe in channels">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug that would allow some channels backend to receive messages from a
channel it just unsubscribed from, for a short period of time, due to how the
different brokers handle unsubscribes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">await</span> <span class="n">backend</span><span class="o">.</span><span class="n">subscribe</span><span class="p">([</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">])</span>  <span class="c1"># subscribe to two channels</span>
<span class="k">await</span> <span class="n">backend</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span>
    <span class="sa">b</span><span class="s2">&quot;something&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">]</span>
<span class="p">)</span>  <span class="c1"># publish a message to a channel we&#39;re subscribed to</span>

<span class="c1"># start the stream after publishing. Depending on the backend</span>
<span class="c1"># the previously published message might be in the stream</span>
<span class="n">event_generator</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">stream_events</span><span class="p">()</span>

<span class="c1"># unsubscribe from the channel we previously published to</span>
<span class="k">await</span> <span class="n">backend</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">([</span><span class="s2">&quot;foo&quot;</span><span class="p">])</span>

<span class="c1"># this should block, as we expect messages from channels</span>
<span class="c1"># we unsubscribed from to not appear in the stream anymore</span>
<span class="nb">print</span><span class="p">(</span><span class="n">anext</span><span class="p">(</span><span class="n">event_generator</span><span class="p">))</span>
</pre></div>
</div>
<p>Backends affected by this were in-memory, Redis PubSub and asyncpg. The Redis
stream and psycopg backends were not affected.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2894">litestar-org/litestar#2894</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.5.0-misc">
<h3>Other changes<a class="headerlink" href="#2.5.0-misc" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Improve performance of threaded synchronous execution<a class="headerlink reference internal" href="#2.5.0-improve performance of threaded synchronous execution" id="2.5.0-improve performance of threaded synchronous execution">#</a></dt><dd><div class="changelog-change docutils container">
<p>Performance of threaded synchronous code was improved by using the async
librarys native threading helpers instead of anyio. On asyncio,
<a class="reference external" href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.loop.run_in_executor" title="(in Python v3.13)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">asyncio.loop.run_in_executor()</span></code></a> is now used and on trio
<a class="reference external" href="https://trio.readthedocs.io/en/stable/reference-core.html#trio.to_thread.run_sync" title="(in Trio v0.29.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">trio.to_thread.run_sync()</span></code></a>.</p>
<p>Beneficiaries of these performance improvements are:</p>
<ul class="simple">
<li><p>Synchronous route handlers making use of <code class="docutils literal notranslate"><span class="pre">sync_to_thread=True</span></code></p></li>
<li><p>Synchronous dependency providers making use of <code class="docutils literal notranslate"><span class="pre">sync_to_thread=True</span></code></p></li>
<li><p>Synchronous SSE generators</p></li>
<li><p><a class="reference internal" href="../reference/stores/file.html#litestar.stores.file.FileStore" title="litestar.stores.file.FileStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileStore</span></code></a></p></li>
<li><p>Large file uploads where the <code class="docutils literal notranslate"><span class="pre">max_spool_size</span></code> is exceeded and the spooled
temporary file has been rolled to disk</p></li>
<li><p><a class="reference internal" href="../reference/response/file.html#litestar.response.file.File" title="litestar.response.file.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a> and
<a class="reference internal" href="../reference/response/file.html#litestar.response.file.ASGIFileResponse" title="litestar.response.file.ASGIFileResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ASGIFileResponse</span></code></a></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2937">litestar-org/litestar#2937</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.4.5">
<h2>2.4.5<a class="headerlink" href="#2.4.5" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/12/23<section id="2.4.5-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.4.5-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix validation of  empty payload data with default values<a class="headerlink reference internal" href="#2.4.5-fix validation of empty payload data with default values" id="2.4.5-fix validation of empty payload data with default values">#</a></dt><dd><div class="changelog-change docutils container">
<p>Prior to this fix, a handler like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@post</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">sync_to_thread</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">curl</span> <span class="pre">localhost:8000</span> <span class="pre">-X</span> <span class="pre">POST</span></code></p>
<p>would return a client error like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span><span class="s2">&quot;status_code&quot;</span>:400,<span class="s2">&quot;detail&quot;</span>:<span class="s2">&quot;Validation failed for POST http://localhost:8000/&quot;</span>,<span class="s2">&quot;extra&quot;</span>:<span class="o">[{</span><span class="s2">&quot;message&quot;</span>:<span class="s2">&quot;Expected `str`, got `null`&quot;</span>,<span class="s2">&quot;key&quot;</span>:<span class="s2">&quot;data&quot;</span>,<span class="s2">&quot;source&quot;</span>:<span class="s2">&quot;body&quot;</span><span class="o">}]}</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2902">litestar-org/litestar#2902</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2903">litestar-org/litestar#2903</a></span></p>
</div>
</dd>
<dt>Support for returning <code class="docutils literal notranslate"><span class="pre">Response[None]</span></code> with a <code class="docutils literal notranslate"><span class="pre">204</span></code> status code from a handler<a class="headerlink reference internal" href="#2.4.5-support for returning" id="2.4.5-support for returning">#</a></dt><dd><div class="changelog-change docutils container">
<p>Returning a <code class="docutils literal notranslate"><span class="pre">Response[None]</span></code> from a route handler for a response with a
<code class="docutils literal notranslate"><span class="pre">204</span></code> now works as expected without resulting in an
<a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.ImproperlyConfiguredException" title="litestar.exceptions.ImproperlyConfiguredException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImproperlyConfiguredException</span></code></a></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2914">litestar-org/litestar#2914</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2915">litestar-org/litestar#2915</a></span></p>
</div>
</dd>
<dt>Fix error message of <code class="docutils literal notranslate"><span class="pre">get_logger_placeholder()</span></code><a class="headerlink reference internal" href="#2.4.5-fix error message of" id="2.4.5-fix error message of">#</a></dt><dd><div class="changelog-change docutils container">
<p>Using a method on
<a class="reference internal" href="../reference/connection.html#litestar.connection.ASGIConnection.logger" title="litestar.connection.ASGIConnection.logger"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Request.logger</span></code></a> when not
setting a <code class="docutils literal notranslate"><span class="pre">logging_config</span></code> on the application would result in a non-descriptive
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>. An <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.ImproperlyConfiguredException" title="litestar.exceptions.ImproperlyConfiguredException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImproperlyConfiguredException</span></code></a> with an explanation is
now raised instead.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2919">litestar-org/litestar#2919</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.4.4">
<h2>2.4.4<a class="headerlink" href="#2.4.4" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/12/13<section id="2.4.4-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.4.4-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Support non-valid identifier as serialization target name<a class="headerlink reference internal" href="#2.4.4-support non-valid identifier as serialization target name" id="2.4.4-support non-valid identifier as serialization target name">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where DTOs would raise a <code class="docutils literal notranslate"><span class="pre">TypeError:</span> <span class="pre">__slots__</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">identifiers</span></code>
during serialization, if a non-valid identifier (such as <code class="docutils literal notranslate"><span class="pre">field-name</span></code>)was used
for field renaming.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2845">litestar-org/litestar#2845</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2850">litestar-org/litestar#2850</a></span></p>
</div>
</dd>
<dt>Fix regression signature validation for DTO validated types<a class="headerlink reference internal" href="#2.4.4-fix regression signature validation for dto validated types" id="2.4.4-fix regression signature validation for dto validated types">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a regression introduced in <code class="docutils literal notranslate"><span class="pre">2.0.0rc1</span></code> that would cause data validated by
the DTO to be validated again by the signature model.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2149">litestar-org/litestar#2149</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2854">litestar-org/litestar#2854</a></span></p>
</div>
</dd>
<dt>Fix regression in OpenAPI schema key names<a class="headerlink reference internal" href="#2.4.4-fix regression in openapi schema key names" id="2.4.4-fix regression in openapi schema key names">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a regression introduced in <code class="docutils literal notranslate"><span class="pre">2.4.0</span></code> regarding the naming of OpenAPI schema
keys, in which a change was introduced to the way that keys for the OpenAPI
components/schemas objects were calculated to address the possibility of name
collisions.</p>
<p>This behaviour was reverted for the case where a name has no collision, and now
only introduces extended keys for the case where there are multiple objects with
the same name, a case which would previously result in an exception.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2804">litestar-org/litestar#2804</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2841">litestar-org/litestar#2841</a></span></p>
</div>
</dd>
<dt>Fix regression in OpenAPI handling of routes with multiple handlers<a class="headerlink reference internal" href="#2.4.4-fix regression in openapi handling of routes with multiple handlers" id="2.4.4-fix regression in openapi handling of routes with multiple handlers">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a regression introduced in <code class="docutils literal notranslate"><span class="pre">2.4.3</span></code> causing two routes registered with the
same path, but different methods to break OpenAPI schema generation due to both
of them having the same value for operation ID.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2863">litestar-org/litestar#2863</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2864">litestar-org/litestar#2864</a></span></p>
</div>
</dd>
<dt>Fix OpenAPI schema generation for recursive models<a class="headerlink reference internal" href="#2.4.4-fix openapi schema generation for recursive models" id="2.4.4-fix openapi schema generation for recursive models">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue that would lead to a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RecursionError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RecursionError</span></code></a> when including nested
models in the OpenAPI schema.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2429">litestar-org/litestar#2429</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2869">litestar-org/litestar#2869</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.4.3">
<h2>2.4.3<a class="headerlink" href="#2.4.3" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/12/07<section id="2.4.3-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.4.3-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix OpenAPI schema for <code class="docutils literal notranslate"><span class="pre">Literal</span> <span class="pre">|</span> <span class="pre">None</span></code> unions<a class="headerlink reference internal" href="#2.4.3-fix openapi schema for" id="2.4.3-fix openapi schema for">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where an incorrect OpenAPI schema was generated generated when any
<code class="docutils literal notranslate"><span class="pre">Literal</span> <span class="pre">|</span> <span class="pre">None</span></code>-union was present in an annotation.</p>
<p>For example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;sink&quot;</span><span class="p">,</span> <span class="s2">&quot;source&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
</pre></div>
</div>
<p>would generate</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;type&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;in&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;enum&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;sink&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;source&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2812">litestar-org/litestar#2812</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2818">litestar-org/litestar#2818</a></span></p>
</div>
</dd>
<dt>Fix advanced-alchemy 0.6.0 compatibility issue with <code class="docutils literal notranslate"><span class="pre">touch_updated_timestamp</span></code><a class="headerlink reference internal" href="#2.4.3-fix advanced-alchemy 0.6.0 compatibility issue with" id="2.4.3-fix advanced-alchemy 0.6.0 compatibility issue with">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an incorrect import for <code class="docutils literal notranslate"><span class="pre">touch_updated_timestamp</span></code> of Advanced Alchemy,
introduced in Advanced-Alchemy version 0.6.0.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2843">litestar-org/litestar#2843</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.4.2">
<h2>2.4.2<a class="headerlink" href="#2.4.2" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/12/02<section id="2.4.2-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.4.2-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix OpenAPI handling of parameters with duplicated names<a class="headerlink reference internal" href="#2.4.2-fix openapi handling of parameters with duplicated names" id="2.4.2-fix openapi handling of parameters with duplicated names">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where schema generation would consider two parameters with the same
name but declared in different places (eg., header, cookie) as an error.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2662">litestar-org/litestar#2662</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2788">litestar-org/litestar#2788</a></span></p>
</div>
</dd>
<dt>Fix late failure where <code class="docutils literal notranslate"><span class="pre">DTOData</span></code> is used without a DTO<a class="headerlink reference internal" href="#2.4.2-fix late failure where" id="2.4.2-fix late failure where">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue where a handler would be allowed to be registered with a
<code class="docutils literal notranslate"><span class="pre">DTOData</span></code> annotation without having a DTO defined, which would result in a
runtime exception. In cases like these, a configuration error is now raised
during startup.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2779">litestar-org/litestar#2779</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2789">litestar-org/litestar#2789</a></span></p>
</div>
</dd>
<dt>Correctly propagate camelCase names on OpenAPI schema<a class="headerlink reference internal" href="#2.4.2-correctly propagate camelcase names on openapi schema" id="2.4.2-correctly propagate camelcase names on openapi schema">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where OpenAPI schema fields would be inappropriately propagated as
camelCase where they should have been snake_case</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2800">litestar-org/litestar#2800</a></span></p>
</div>
</dd>
<dt>Fix error handling in event handler stream<a class="headerlink reference internal" href="#2.4.2-fix error handling in event handler stream" id="2.4.2-fix error handling in event handler stream">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a class of errors that could result in the event listener stream being
terminated when an exception occurred within an event listener. Errors in
event listeners are now not propagated anymore but handled by the backend and
logged instead.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2810,">litestar-org/litestar#2810,</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2814">litestar-org/litestar#2814</a></span></p>
</div>
</dd>
<dt>Fix OpenAPI schema for Pydantic computed fields<a class="headerlink reference internal" href="#2.4.2-fix openapi schema for pydantic computed fields" id="2.4.2-fix openapi schema for pydantic computed fields">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add support for including computed fields in schemas generated from Pydantic
models.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2792">litestar-org/litestar#2792</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2797">litestar-org/litestar#2797</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.4.1">
<h2>2.4.1<a class="headerlink" href="#2.4.1" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/11/28<section id="2.4.1-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.4.1-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix circular import when importing from <code class="docutils literal notranslate"><span class="pre">litestar.security.jwt</span></code><a class="headerlink reference internal" href="#2.4.1-fix circular import when importing from" id="2.4.1-fix circular import when importing from">#</a></dt><dd><div class="changelog-change docutils container">
<p>An <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ImportError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportError</span></code></a> was raised when trying to import from <code class="docutils literal notranslate"><span class="pre">litestar.security.jwt</span></code>. This was fixed
by removing the imports from the deprecated <code class="docutils literal notranslate"><span class="pre">litestar.contrib.jwt</span></code> within <code class="docutils literal notranslate"><span class="pre">litesetar.security.jwt</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2782">litestar-org/litestar#2782</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2784">litestar-org/litestar#2784</a></span></p>
</div>
</dd>
<dt>Raise config error when generator dependencies are cached<a class="headerlink reference internal" href="#2.4.1-raise config error when generator dependencies are cached" id="2.4.1-raise config error when generator dependencies are cached">#</a></dt><dd><div class="changelog-change docutils container">
<p>Previously, an <code class="xref py py-exc docutils literal notranslate"><span class="pre">InternalServerError</span></code> was raised when attempting to use
<cite>use_cache=True</cite> with generator dependencies. This will now raise a configuration
error during application startup.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2771">litestar-org/litestar#2771</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2780">litestar-org/litestar#2780</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.4.0">
<h2>2.4.0<a class="headerlink" href="#2.4.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/11/27<section id="2.4.0-feature">
<h3>Features<a class="headerlink" href="#2.4.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Add <code class="docutils literal notranslate"><span class="pre">server_lifespan</span></code> hook<a class="headerlink reference internal" href="#2.4.0-add" id="2.4.0-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>A new <code class="docutils literal notranslate"><span class="pre">server_lifespan</span></code> hook is now available on <a class="reference internal" href="../reference/app.html#litestar.app.Litestar" title="litestar.app.Litestar"><code class="xref py py-class docutils literal notranslate"><span class="pre">Litestar</span></code></a>.
This hook works similar to the regular <code class="docutils literal notranslate"><span class="pre">lifespan</span></code> context manager, with the
difference being is that it is only called once for the entire server lifespan,
not for each application startup phase. Note that these only differ when running
with an ASGI server thats using multiple worker processes.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2658">litestar-org/litestar#2658</a></span></p>
</div>
</dd>
<dt>Allow rendering templates directly from strings<a class="headerlink reference internal" href="#2.4.0-allow rendering templates directly from strings" id="2.4.0-allow rendering templates directly from strings">#</a></dt><dd><div class="changelog-change docutils container">
<p>A new <code class="docutils literal notranslate"><span class="pre">template_string</span></code> parameter was added to <code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code>,
allowing to render templates directly from strings.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/templating.html#template-files-vs-strings"><span class="std std-ref">Template Files vs. Strings</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2687">litestar-org/litestar#2687</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2689">litestar-org/litestar#2689</a></span></p>
</div>
</dd>
<dt>Support nested DTO field renaming<a class="headerlink reference internal" href="#2.4.0-support nested dto field renaming" id="2.4.0-support nested dto field renaming">#</a></dt><dd><div class="changelog-change docutils container">
<p>Using similar semantics as for exclusion/inclusion, nested DTO fields can now
also be renamed:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Bar</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">bars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Bar</span><span class="p">]</span>


<span class="n">FooDTO</span> <span class="o">=</span> <span class="n">DataclassDTO</span><span class="p">[</span><span class="n">Annotated</span><span class="p">[</span><span class="n">Foo</span><span class="p">,</span> <span class="n">DTOConfig</span><span class="p">(</span><span class="n">rename_fields</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;bars.0.id&quot;</span><span class="p">:</span> <span class="s2">&quot;bar_id&quot;</span><span class="p">})]]</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2721">litestar-org/litestar#2721</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2764">litestar-org/litestar#2764</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.4.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.4.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix <code class="docutils literal notranslate"><span class="pre">HTTPException</span></code> handling during concurrent dependency resolving<a class="headerlink reference internal" href="#2.4.0-fix" id="2.4.0-fix">#</a></dt><dd><div class="changelog-change docutils container">
<p>An issue was fixed that would lead to <code class="xref py py-exc docutils literal notranslate"><span class="pre">HTTPExceptions</span></code> not being re-raised
properly when they occurred within the resolution of nested dependencies during
the request lifecycle.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2594">litestar-org/litestar#2594</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2596">litestar-org/litestar#2596</a></span></p>
</div>
</dd>
<dt>Fix OpenAPI examples format<a class="headerlink reference internal" href="#2.4.0-fix openapi examples format" id="2.4.0-fix openapi examples format">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix the OpenAPI examples format by removing the wrapping object.</p>
<p>Before the change, for a given model</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="n">foo</span><span class="p">:</span> <span class="nb">int</span>
</pre></div>
</div>
<p>The following example would be generated:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Example value&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7906</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>After the fix, this is now:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7906</span>
<span class="p">}</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2272">litestar-org/litestar#2272</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2660">litestar-org/litestar#2660</a></span></p>
</div>
</dd>
<dt>Fix CLI plugin commands not showing up in command list<a class="headerlink reference internal" href="#2.4.0-fix cli plugin commands not showing up in command list" id="2.4.0-fix cli plugin commands not showing up in command list">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where commands registered by CLI plugins were available, but would not
show up in the commands list</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2441">litestar-org/litestar#2441</a></span></p>
</div>
</dd>
<dt>Fix missing <code class="docutils literal notranslate"><span class="pre">write-only</span></code> mark in <code class="docutils literal notranslate"><span class="pre">dto_field()</span></code> signature<a class="headerlink reference internal" href="#2.4.0-fix missing" id="2.4.0-fix missing">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix the missing <code class="docutils literal notranslate"><span class="pre">write-only</span></code> string literal in the <code class="docutils literal notranslate"><span class="pre">mark</span></code> parameter of
<a class="reference internal" href="../reference/dto/field.html#litestar.dto.field.dto_field" title="litestar.dto.field.dto_field"><code class="xref py py-func docutils literal notranslate"><span class="pre">dto_field()</span></code></a></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2684">litestar-org/litestar#2684</a></span></p>
</div>
</dd>
<dt>Fix OpenAPI schemas incorrectly flagged as duplicates<a class="headerlink reference internal" href="#2.4.0-fix openapi schemas incorrectly flagged as duplicates" id="2.4.0-fix openapi schemas incorrectly flagged as duplicates">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue that would lead to OpenAPI schemas being incorrectly considered
duplicates, resulting in an <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.ImproperlyConfiguredException" title="litestar.exceptions.ImproperlyConfiguredException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImproperlyConfiguredException</span></code></a> being raised.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2471">litestar-org/litestar#2471</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2475">litestar-org/litestar#2475</a></span></p>
</div>
</dd>
<dt>Fix Pydantic URL type support in OpenAPI and serialization<a class="headerlink reference internal" href="#2.4.0-fix pydantic url type support in openapi and serialization" id="2.4.0-fix pydantic url type support in openapi and serialization">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add missing support for Pydantics URL types (<code class="docutils literal notranslate"><span class="pre">AnyUrl</span></code> and its descendants)
for both serialization and OpenAPI schema generation. These types were only
partially supported previously; Serialization support was lacking for v1 and v2,
and OpenAPI support was missing for v2.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2664">litestar-org/litestar#2664</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2701">litestar-org/litestar#2701</a></span></p>
</div>
</dd>
<dt>Fix incorrect <code class="docutils literal notranslate"><span class="pre">ValidationException</span></code> message when multiple errors were encountered<a class="headerlink reference internal" href="#2.4.0-fix incorrect" id="2.4.0-fix incorrect">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.ValidationException" title="litestar.exceptions.ValidationException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValidationException</span></code></a> could contain duplicated messages in
<code class="docutils literal notranslate"><span class="pre">extra</span></code> field, when multiple errors were encountered during validation</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2714">litestar-org/litestar#2714</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2716">litestar-org/litestar#2716</a></span></p>
</div>
</dd>
<dt>Fix DTO renaming renames all fields of the same name in nested DTOs<a class="headerlink reference internal" href="#2.4.0-fix dto renaming renames all fields of the same name in nested dtos" id="2.4.0-fix dto renaming renames all fields of the same name in nested dtos">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue with nested field renaming in DTOs that would lead to all fields
with a given name to be renamed in a nested structure.</p>
<p>In the below example, both <code class="docutils literal notranslate"><span class="pre">Foo.id</span></code> and <code class="docutils literal notranslate"><span class="pre">Bar.id</span></code> would have been renamed to
<code class="docutils literal notranslate"><span class="pre">foo_id</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Bar</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">bar</span><span class="p">:</span> <span class="n">Bar</span>


<span class="n">FooDTO</span> <span class="o">=</span> <span class="n">DataclassDTO</span><span class="p">[</span><span class="n">Annotated</span><span class="p">[</span><span class="n">Foo</span><span class="p">,</span> <span class="n">DTOConfig</span><span class="p">(</span><span class="n">rename_fields</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;foo_id&quot;</span><span class="p">})]]</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2721">litestar-org/litestar#2721</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2764">litestar-org/litestar#2764</a></span></p>
</div>
</dd>
<dt>Fix handling of DTO objects nested in mappings<a class="headerlink reference internal" href="#2.4.0-fix handling of dto objects nested in mappings" id="2.4.0-fix handling of dto objects nested in mappings">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where DTOs nested in a <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mapping</span></code></a> type would fail to
serialize correctly.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2737">litestar-org/litestar#2737</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2775">litestar-org/litestar#2775</a></span></p>
</div>
</dd>
<dt>Fix inconsistent sequence union parameter errors<a class="headerlink reference internal" href="#2.4.0-fix inconsistent sequence union parameter errors" id="2.4.0-fix inconsistent sequence union parameter errors">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where unions of collection types would result in different errors
depending on whether the union included <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> or not.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2600">litestar-org/litestar#2600</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2776">litestar-org/litestar#2776</a></span></p>
</div>
</dd>
<dt>Fix graceful handling of WebSocket disconnect in channels WebSockets handlers<a class="headerlink reference internal" href="#2.4.0-fix graceful handling of websocket disconnect in channels websockets handlers" id="2.4.0-fix graceful handling of websocket disconnect in channels websockets handlers">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix the behaviour of WebSocket disconnect handling within the WebSocket handlers
provided by <a class="reference internal" href="../usage/channels.html"><span class="doc">channels</span></a>, that would sometimes lead to
a <code class="docutils literal notranslate"><span class="pre">RuntimeError:</span> <span class="pre">Unexpected</span> <span class="pre">ASGI</span> <span class="pre">message</span> <span class="pre">'websocket.close',</span> <span class="pre">after</span> <span class="pre">sending</span> <span class="pre">'websocket.close'.</span></code>
exception being raised upon the closing of a WebSocket connection.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2691">litestar-org/litestar#2691</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.3.2">
<h2>2.3.2<a class="headerlink" href="#2.3.2" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/11/06<section id="2.3.2-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.3.2-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix recursion error when re-using the path of a route handler for static files<a class="headerlink reference internal" href="#2.3.2-fix recursion error when re-using the path of a route handler for static files" id="2.3.2-fix recursion error when re-using the path of a route handler for static files">#</a></dt><dd><div class="changelog-change docutils container">
<p>A regression was fixed that would cause a recursion error when the path of a
static files host was reused for a route handler with a different HTTP method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">Litestar</span>
<span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">post</span>
<span class="kn">from</span> <span class="nn">litestar.static_files</span> <span class="kn">import</span> <span class="n">StaticFilesConfig</span>


<span class="nd">@post</span><span class="p">(</span><span class="s2">&quot;/uploads&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">handler</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">(</span>
    <span class="p">[</span><span class="n">handler</span><span class="p">],</span>
    <span class="n">static_files_config</span><span class="o">=</span><span class="p">[</span>
        <span class="n">StaticFilesConfig</span><span class="p">(</span><span class="n">directories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;uploads&quot;</span><span class="p">],</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/uploads&quot;</span><span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2629">litestar-org/litestar#2629</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2630">litestar-org/litestar#2630</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.3.1">
<h2>2.3.1<a class="headerlink" href="#2.3.1" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/11/04<section id="2.3.1-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.3.1-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>CLI: Fix not providing SSL certfiles breaks uvicorn command when using reload or multiple workers<a class="headerlink reference internal" href="#2.3.1-cli: fix not providing ssl certfiles breaks uvicorn command when using reload or multiple workers" id="2.3.1-cli: fix not providing ssl certfiles breaks uvicorn command when using reload or multiple workers">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an issue where not providing the <code class="docutils literal notranslate"><span class="pre">--ssl-certfile</span></code> and <code class="docutils literal notranslate"><span class="pre">--ssl-keyfile</span></code>
options to the <code class="docutils literal notranslate"><span class="pre">litestar</span> <span class="pre">run</span></code> command would cause a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">FileNotFoundError</span></code></a>
in uvicorn, when used together with the <code class="docutils literal notranslate"><span class="pre">--reload</span></code>, <code class="docutils literal notranslate"><span class="pre">--web-concurrency</span></code>
options.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2613">litestar-org/litestar#2613</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2616">litestar-org/litestar#2616</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.3.0">
<h2>2.3.0<a class="headerlink" href="#2.3.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/11/02<section id="2.3.0-feature">
<h3>Features<a class="headerlink" href="#2.3.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Python 3.12 support<a class="headerlink reference internal" href="#2.3.0-python 3.12 support" id="2.3.0-python 3.12 support">#</a></dt><dd><div class="changelog-change docutils container">
<p>Python 3.12 is now fully supported and tested.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1862">litestar-org/litestar#1862</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2396">litestar-org/litestar#2396</a></span></p>
</div>
</dd>
<dt>New layered parameter <code class="docutils literal notranslate"><span class="pre">signature_types</span></code><a class="headerlink reference internal" href="#2.3.0-new layered parameter" id="2.3.0-new layered parameter">#</a></dt><dd><div class="changelog-change docutils container">
<p>Types in this collection are added to <code class="docutils literal notranslate"><span class="pre">signature_namespace</span></code> using the types
<code class="docutils literal notranslate"><span class="pre">__name__</span></code> attribute.
This provides a nicer interface when adding names to the signature namespace
w ithout modifying the type name, e.g.: <code class="docutils literal notranslate"><span class="pre">signature_namespace={&quot;Model&quot;:</span> <span class="pre">Model}</span></code>
is equivalent to <code class="docutils literal notranslate"><span class="pre">signature_types=[Model]</span></code>.</p>
<p>The implementation makes it an error to supply a type in <code class="docutils literal notranslate"><span class="pre">signature_types</span></code>
that has a value for <code class="docutils literal notranslate"><span class="pre">__name__</span></code> already in the signature namespace.</p>
<p>It will also throw an error if an item in <code class="docutils literal notranslate"><span class="pre">signature_types</span></code> has no
<code class="docutils literal notranslate"><span class="pre">__name__</span></code> attribute.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2422">litestar-org/litestar#2422</a></span></p>
</div>
</dd>
<dt>Added RapiDoc for OpenAPI schema visualisation<a class="headerlink reference internal" href="#2.3.0-added rapidoc for openapi schema visualisation" id="2.3.0-added rapidoc for openapi schema visualisation">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add support for using <a class="reference external" href="https://github.com/rapi-doc/RapiDoc">RapiDoc</a> for
OpenAPI schema visualisation.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2522">litestar-org/litestar#2522</a></span></p>
</div>
</dd>
<dt>Support Pydantic 1 &amp; 2 within the same application<a class="headerlink reference internal" href="#2.3.0-support pydantic 1 &amp; 2 within the same application" id="2.3.0-support pydantic 1 &amp; 2 within the same application">#</a></dt><dd><div class="changelog-change docutils container">
<p>Added support for Pydantic 1 &amp; 2 within the same application by integrating with
Pydantics backwards compatibility layer:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">get</span>
<span class="kn">from</span> <span class="nn">pydantic.v1</span> <span class="kn">import</span> <span class="n">BaseModel</span> <span class="k">as</span> <span class="n">BaseModelV1</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">V1Foo</span><span class="p">(</span><span class="n">BaseModelV1</span><span class="p">):</span>
    <span class="n">bar</span><span class="p">:</span> <span class="nb">str</span>


<span class="k">class</span> <span class="nc">V2Foo</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">bar</span><span class="p">:</span> <span class="nb">str</span>


<span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/1&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">foo_v1</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">V1Foo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">V1Foo</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">data</span>


<span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/2&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">foo_v2</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">V2Foo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">V2Foo</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">data</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2487">litestar-org/litestar#2487</a></span></p>
</div>
</dd>
<dt>Add <code class="docutils literal notranslate"><span class="pre">ResponseCacheConfig.cache_response_filter</span></code> to allow filtering responses eligible for caching<a class="headerlink reference internal" href="#2.3.0-add" id="2.3.0-add">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">ResponseCacheConfig.cache_response_filter</span></code> is predicate called by the
response cache middleware that discriminates whether a response should be
cached, or not.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2501">litestar-org/litestar#2501</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2537">litestar-org/litestar#2537</a></span></p>
</div>
</dd>
<dt>SSL support and self-signed certificates for CLI<a class="headerlink reference internal" href="#2.3.0-ssl support and self-signed certificates for cli" id="2.3.0-ssl support and self-signed certificates for cli">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add support for SSL and generating self-signed certificates to the CLI.</p>
<p>For this, three new arguments were added to the CLIs <code class="docutils literal notranslate"><span class="pre">run</span></code> command:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--ssl-certfile</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--ssl-keyfile</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--create-self-signed-cert</span></code></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">--ssl-certfile</span></code> and <cite>ssl-keyfile</cite> flags are passed to uvicorn when
using <code class="docutils literal notranslate"><span class="pre">litestar</span> <span class="pre">run</span></code>. Uvicorn requires both to be passed (or neither) but
additional validation was added to generate a more user friendly CLI errors.</p>
<p>The other SSL-related flags (like password or CA) were not added (yet). See
<a class="reference external" href="https://www.uvicorn.org/#command-line-options">uvicorn CLI docs</a></p>
<p><strong>Generating of a self-signed certificate</strong></p>
<p>One more CLI flag was added (<code class="docutils literal notranslate"><span class="pre">--create-devcert</span></code>) that uses the
<code class="docutils literal notranslate"><span class="pre">cryptography</span></code> module to generate a self-signed development certificate. Both
of the previous flags must be passed when using this flag. Then the following
logic is used:</p>
<ul class="simple">
<li><p>If both files already exists, they are used and nothing is generated</p></li>
<li><p>If neither file exists, the dev cert and key are generated</p></li>
<li><p>If only one file exists, it is ambiguous what to do so an exception is raised</p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2335">litestar-org/litestar#2335</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2554">litestar-org/litestar#2554</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.3.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.3.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Use custom request class when given during exception handling<a class="headerlink reference internal" href="#2.3.0-use custom request class when given during exception handling" id="2.3.0-use custom request class when given during exception handling">#</a></dt><dd><div class="changelog-change docutils container">
<p>When a custom <code class="docutils literal notranslate"><span class="pre">request_class</span></code> is provided, it will now be used while returning
an error response</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2399">litestar-org/litestar#2399</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2444">litestar-org/litestar#2444</a></span></p>
</div>
</dd>
<dt>Fix missing OpenAPI schema for generic response type annotations<a class="headerlink reference internal" href="#2.3.0-fix missing openapi schema for generic response type annotations" id="2.3.0-fix missing openapi schema for generic response type annotations">#</a></dt><dd><div class="changelog-change docutils container">
<p>OpenAPI schemas are now correctly generated when a response type annotation
contains a generic type such as</p>
<div class="sd-tab-set docutils">
<input id="sd-tab-item-4" name="sd-tab-set-2" type="radio">
</input><label class="sd-tab-label" data-sync-id="3.8" for="sd-tab-item-4">
Python 3.8+</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">msgspec</span> <span class="kn">import</span> <span class="n">Struct</span>
<span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">get</span><span class="p">,</span> <span class="n">Response</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">Optional</span>

<span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">ResponseStruct</span><span class="p">(</span><span class="n">Struct</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
    <span class="n">code</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T</span><span class="p">]</span>


<span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_handler</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">[</span><span class="n">ResponseStruct</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
        <span class="n">ResponseStruct</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="s2">&quot;Hello World&quot;</span><span class="p">),</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<input checked="checked" id="sd-tab-item-5" name="sd-tab-set-2" type="radio">
</input><label class="sd-tab-label" data-sync-id="3.10" for="sd-tab-item-5">
Python 3.10+</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">msgspec</span> <span class="kn">import</span> <span class="n">Struct</span>
<span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">get</span><span class="p">,</span> <span class="n">Response</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Generic</span>

<span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">ResponseStruct</span><span class="p">(</span><span class="n">Struct</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
    <span class="n">code</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">T</span> <span class="o">|</span> <span class="kc">None</span>


<span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_handler</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">[</span><span class="n">ResponseStruct</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span>
        <span class="n">ResponseStruct</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="s2">&quot;Hello World&quot;</span><span class="p">),</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2383">litestar-org/litestar#2383</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2463">litestar-org/litestar#2463</a></span></p>
</div>
</dd>
<dt>Fix rendering of OpenAPI examples<a class="headerlink reference internal" href="#2.3.0-fix rendering of openapi examples" id="2.3.0-fix rendering of openapi examples">#</a></dt><dd><div class="changelog-change docutils container">
<p>An issue was fixed where OpenAPI examples would be rendered as</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;example summary&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;example value&quot;</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>instead of</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;example1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="nt">&quot;example summary&quot;</span>
<span class="w">          </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;example value&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2494">litestar-org/litestar#2494</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2509">litestar-org/litestar#2509</a></span></p>
</div>
</dd>
<dt>Fix non UTF-8 handling when logging requests<a class="headerlink reference internal" href="#2.3.0-fix non utf-8 handling when logging requests" id="2.3.0-fix non utf-8 handling when logging requests">#</a></dt><dd><div class="changelog-change docutils container">
<p>When structlog is not installed, the request body would not get parsed and shown
as a byte sequence. Instead, it was serialized into a string with the assumption
that it is valid UTF-8. This was fixed by decoding the bytes with
<code class="docutils literal notranslate"><span class="pre">backslashreplace</span></code> before displaying them.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2529">litestar-org/litestar#2529</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2530">litestar-org/litestar#2530</a></span></p>
</div>
</dd>
<dt>Fix <code class="docutils literal notranslate"><span class="pre">ExceptionHandler</span></code> typing to properly support <code class="docutils literal notranslate"><span class="pre">Exception</span></code> subclasses<a class="headerlink reference internal" href="#2.3.0-fix" id="2.3.0-fix">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix the typing for <code class="docutils literal notranslate"><span class="pre">ExceptionHandler</span></code> to support subclasses of <code class="docutils literal notranslate"><span class="pre">Exception</span></code>,
such that code like this will type check properly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">Response</span>


<span class="k">class</span> <span class="nc">CustomException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span> <span class="o">...</span>


<span class="k">def</span> <span class="nf">handle_exc</span><span class="p">(</span><span class="n">req</span><span class="p">:</span> <span class="n">Request</span><span class="p">,</span> <span class="n">exc</span><span class="p">:</span> <span class="n">CustomException</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">:</span> <span class="o">...</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2520">litestar-org/litestar#2520</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2533">litestar-org/litestar#2533</a></span></p>
</div>
</dd>
<dt>Fix OpenAPI schema generation for variable length tuples<a class="headerlink reference internal" href="#2.3.0-fix openapi schema generation for variable length tuples" id="2.3.0-fix openapi schema generation for variable length tuples">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where an annotation such as <code class="docutils literal notranslate"><span class="pre">tuple[str,</span> <span class="pre">...]</span></code> would cause a
<code class="docutils literal notranslate"><span class="pre">TypeError:</span> <span class="pre">'&lt;'</span> <span class="pre">not</span> <span class="pre">supported</span> <span class="pre">between</span> <span class="pre">instances</span> <span class="pre">of</span> <span class="pre">'NoneType'</span> <span class="pre">and</span> <span class="pre">'OpenAPIType')</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2460">litestar-org/litestar#2460</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2552">litestar-org/litestar#2552</a></span></p>
</div>
</dd>
<dt>Fix channels performance issue when polling with no subscribers in <code class="docutils literal notranslate"><span class="pre">arbitrary_channels_allowed</span></code> mode<a class="headerlink reference internal" href="#2.3.0-fix channels performance issue when polling with no subscribers in" id="2.3.0-fix channels performance issue when polling with no subscribers in">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug that would cause high CPU loads while idling when using a
<code class="docutils literal notranslate"><span class="pre">ChannelsPlugin</span></code> with the <code class="docutils literal notranslate"><span class="pre">arbitrary_channels_allowed</span></code> enabled and while no
subscriptions for any channel were active.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2547">litestar-org/litestar#2547</a></span></p>
</div>
</dd>
<dt>Fix CLI schema export for non-serializable types when using <code class="docutils literal notranslate"><span class="pre">create_examples=True</span></code><a class="headerlink reference internal" href="#2.3.0-fix cli schema export for non-serializable types when using" id="2.3.0-fix cli schema export for non-serializable types when using">#</a></dt><dd><div class="changelog-change docutils container">
<p>When trying to export a schema via the
<code class="docutils literal notranslate"><span class="pre">litestar</span> <span class="pre">schema</span> <span class="pre">openapi</span> <span class="pre">--output</span> <span class="pre">schema.json</span></code> making use of a non-JSON
serializable type, would result in an encoding error because the standard
library JSON serializer was used. This has been fixed by using Litestars own
JSON encoder, enabling the serialization of all types supplied by the schema.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2575">litestar-org/litestar#2575</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2581">litestar-org/litestar#2581</a></span></p>
</div>
</dd>
<dt>Fix OpenAPI schema generation for <code class="docutils literal notranslate"><span class="pre">Literal</span></code> and <code class="docutils literal notranslate"><span class="pre">Enum</span></code> unions with <code class="docutils literal notranslate"><span class="pre">None</span></code><a class="headerlink reference internal" href="#2.3.0-fix openapi schema generation for" id="2.3.0-fix openapi schema generation for">#</a></dt><dd><div class="changelog-change docutils container">
<p>Existing behavior was to make the schema for every type that is a union with
<code class="docutils literal notranslate"><span class="pre">None</span></code> a <code class="docutils literal notranslate"><span class="pre">&quot;one_of&quot;</span></code> schema, that includes <code class="docutils literal notranslate"><span class="pre">OpenAPIType.NULL</span></code> in the
<code class="docutils literal notranslate"><span class="pre">&quot;one_of&quot;</span></code> types.</p>
<p>When a <code class="docutils literal notranslate"><span class="pre">Literal</span></code> or <code class="docutils literal notranslate"><span class="pre">Enum</span></code> type is in a union with <code class="docutils literal notranslate"><span class="pre">None</span></code>, this behavior
is not desirable, as we want to have <code class="docutils literal notranslate"><span class="pre">null</span></code> available in the list of available
options on the types schema.</p>
<p>This was fixed by modifying <code class="docutils literal notranslate"><span class="pre">Literal</span></code> and <code class="docutils literal notranslate"><span class="pre">Enum</span></code> schema generation so that i
t can be identified that the types are in a union with <code class="docutils literal notranslate"><span class="pre">None</span></code>, allowing
<code class="docutils literal notranslate"><span class="pre">null</span></code> to be included in <code class="docutils literal notranslate"><span class="pre">Schema.enum</span></code> values.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2546">litestar-org/litestar#2546</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2550">litestar-org/litestar#2550</a></span></p>
</div>
</dd>
<dt>Fix cache overrides when using same route with different handlers<a class="headerlink reference internal" href="#2.3.0-fix cache overrides when using same route with different handlers" id="2.3.0-fix cache overrides when using same route with different handlers">#</a></dt><dd><div class="changelog-change docutils container">
<p>A bug was fixed that would cause the cache for routes being overwritten by a
route handler on that same route with a different HTTP method.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2573,">litestar-org/litestar#2573,</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2588">litestar-org/litestar#2588</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2592">litestar-org/litestar#2592</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.2.0">
<h2>2.2.0<a class="headerlink" href="#2.2.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/10/12<section id="2.2.0-feature">
<h3>Features<a class="headerlink" href="#2.2.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>CLI enabled by default<a class="headerlink reference internal" href="#2.2.0-cli enabled by default" id="2.2.0-cli enabled by default">#</a></dt><dd><div class="changelog-change docutils container">
<p>The CLI and all its dependencies are now included by default, to enable a better
and more consistent developer experience out of the box.</p>
<p>The previous <code class="docutils literal notranslate"><span class="pre">litestar[cli]</span></code> extra is still available for backwards
compatibility, but as of <code class="docutils literal notranslate"><span class="pre">2.2.0</span></code> it is without effect.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2318">litestar-org/litestar#2318</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2346">litestar-org/litestar#2346</a></span></p>
</div>
</dd>
<dt>Customization of Pydantic integration via <code class="docutils literal notranslate"><span class="pre">PydanticPlugin</span></code><a class="headerlink reference internal" href="#2.2.0-customization of pydantic integration via" id="2.2.0-customization of pydantic integration via">#</a></dt><dd><div class="changelog-change docutils container">
<p>A new <code class="xref py py-class docutils literal notranslate"><span class="pre">PydanticPlugin</span></code> has been added, which
can be used to configure Pydantic behaviour. Currently it supports setting a
<code class="docutils literal notranslate"><span class="pre">prefer_alias</span></code> option, which will pass the <code class="docutils literal notranslate"><span class="pre">by_alias=True</span></code> flag to Pydantic
when exporting models, as well as generate schemas accordingly.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2373">litestar-org/litestar#2373</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2404">litestar-org/litestar#2404</a></span></p>
</div>
</dd>
<dt>Add <code class="docutils literal notranslate"><span class="pre">/schema/openapi.yml</span></code> to the available schema paths<a class="headerlink reference internal" href="#2.2.0-add" id="2.2.0-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>The YAML version of the OpenAPI schema is now available under
<code class="docutils literal notranslate"><span class="pre">/schema/openapi.yml</span></code> in addition to <code class="docutils literal notranslate"><span class="pre">/schema/openapi.yaml</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2411">litestar-org/litestar#2411</a></span></p>
</div>
</dd>
<dt>Add experimental DTO codegen backend<a class="headerlink reference internal" href="#2.2.0-add experimental dto codegen backend" id="2.2.0-add experimental dto codegen backend">#</a></dt><dd><div class="changelog-change docutils container">
<p>A new DTO backend was introduced which speeds up the transfer process by
generating optimized Python code ahead of time. Testing shows that the new
backend is between 2.5 and 5 times faster depending on the operation and data
provided.</p>
<p>The new backend can be enabled globally for all DTOs by passing the appropriate
feature flag to the Litestar application:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">Litestar</span>
<span class="kn">from</span> <span class="nn">litestar.config.app</span> <span class="kn">import</span> <span class="n">ExperimentalFeatures</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">(</span><span class="n">experimental_features</span><span class="o">=</span><span class="p">[</span><span class="n">ExperimentalFeatures</span><span class="o">.</span><span class="n">DTO_CODEGEN</span><span class="p">])</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more information see
<a class="reference internal" href="../usage/dto/0-basic-use.html#improving-performance-with-the-codegen-backend"><span class="std std-ref">Improving performance with the codegen backend</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2388">litestar-org/litestar#2388</a></span></p>
</div>
</dd>
<dt>Improved error messages for missing required parameters<a class="headerlink reference internal" href="#2.2.0-improved error messages for missing required parameters" id="2.2.0-improved error messages for missing required parameters">#</a></dt><dd><div class="changelog-change docutils container">
<p>Error messages for missing required parameters will now also contain the source
of the expected parameter:</p>
<p>Before:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Missing required parameter foo for url http://testerver.local&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>After:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Missing required header parameter &#39;foo&#39; for url http://testerver.local&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2418">litestar-org/litestar#2418</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.2.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.2.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix implicit conversion of objects to <code class="docutils literal notranslate"><span class="pre">bool</span></code> in debug response<a class="headerlink reference internal" href="#2.2.0-fix implicit conversion of objects to" id="2.2.0-fix implicit conversion of objects to">#</a></dt><dd><div class="changelog-change docutils container">
<p>The exception handler middleware would, when in debug mode, implicitly call an
objects <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#object.__bool__" title="(in Python v3.13)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__bool__</span></code></a>, which would lead to errors if that
object overloaded the operator, for example if the object in question was a
SQLAlchemy element.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2381">litestar-org/litestar#2381</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2384">litestar-org/litestar#2384</a></span></p>
</div>
</dd>
<dt>Correctly re-export filters and exceptions from <code class="docutils literal notranslate"><span class="pre">advanced-alchemy</span></code><a class="headerlink reference internal" href="#2.2.0-correctly re-export filters and exceptions from" id="2.2.0-correctly re-export filters and exceptions from">#</a></dt><dd><div class="changelog-change docutils container">
<p>Some re-exports of filter and exception types from <code class="docutils literal notranslate"><span class="pre">advanced-alchemy</span></code> were
missing, causing various issues when <code class="docutils literal notranslate"><span class="pre">advanced-alchemy</span></code> was installed, but
Litestar would still use its own version of these classes.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2358">litestar-org/litestar#2358</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2360">litestar-org/litestar#2360</a></span></p>
</div>
</dd>
<dt>Re-add <code class="docutils literal notranslate"><span class="pre">create_engine</span></code> method to SQLAlchemy configs<a class="headerlink reference internal" href="#2.2.0-re-add" id="2.2.0-re-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">create_engine</span></code> method was removed in an <code class="docutils literal notranslate"><span class="pre">advanced-alchemy</span></code> releases.
This was addresses by re-adding it to the versions provided by Litestar.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2382">litestar-org/litestar#2382</a></span></p>
</div>
</dd>
<dt>Fix <code class="docutils literal notranslate"><span class="pre">before_request</span></code> modifies route handler signature<a class="headerlink reference internal" href="#2.2.0-fix" id="2.2.0-fix">#</a></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">before_request</span></code> would modify the return annotation of associated
route handlers to conform with its own return type annotation, which would cause
issues and unexpected behaviour when that annotation was not compatible with the
original one.</p>
<p>This was fixed by not having the <code class="docutils literal notranslate"><span class="pre">before_request</span></code> handler modify the
route handlers signature. Users are now expected to ensure that values returned
from a <code class="docutils literal notranslate"><span class="pre">before_request</span></code> handler conform to the return type annotation of the
route handler.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2368">litestar-org/litestar#2368</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2391">litestar-org/litestar#2391</a></span></p>
</div>
</dd>
<dt>Ensure compression is applied before caching when using compression middleware<a class="headerlink reference internal" href="#2.2.0-ensure compression is applied before caching when using compression middleware" id="2.2.0-ensure compression is applied before caching when using compression middleware">#</a></dt><dd><div class="changelog-change docutils container">
<p>A previous limitation was removed that would apply compression from the
<a class="reference internal" href="../reference/middleware/compression.html#litestar.middleware.compression.CompressionMiddleware" title="litestar.middleware.compression.CompressionMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompressionMiddleware</span></code></a> only <em>after</em> a
response was restored from the cache, resulting in unnecessary repeated
computation and increased size of the stored response.</p>
<p>This was due to caching being handled on the response layer, where a response
object would be pickled, restored upon a cache hit and then re-sent, including
all middlewares.</p>
<p>The new implementation now instead applies caching on the ASGI level; Individual
messages sent to the <code class="docutils literal notranslate"><span class="pre">send</span></code> callable are cached, and later re-sent. This
process ensures that the compression middleware has been applied before, and
will be skipped when re-sending a cached response.</p>
<p>In addition, this increases performance and reduces storage size even in cases
where no compression is applied because the slow and inefficient pickle format
can be avoided.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1301">litestar-org/litestar#1301</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2393">litestar-org/litestar#2393</a></span></p>
</div>
</dd>
<dt>Fix implicit JSON parsing of URL encoded data<a class="headerlink reference internal" href="#2.2.0-fix implicit json parsing of url encoded data" id="2.2.0-fix implicit json parsing of url encoded data">#</a></dt><dd><div class="changelog-change docutils container">
<p>A process was removed where Litestar would implicitly attempt to parse parts of
URL encoded data as JSON. This was originally added to provide some performance
boosts when that data was in fact meant to be JSON, but turned out to be too
fragile.</p>
<p>Regular data conversion / validation is unaffected by this.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2394">litestar-org/litestar#2394</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.1.1">
<h2>2.1.1<a class="headerlink" href="#2.1.1" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/09/24<section id="2.1.1-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.1.1-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> raised by <code class="docutils literal notranslate"><span class="pre">Response.to_asgi_response</span></code><a class="headerlink reference internal" href="#2.1.1-fix" id="2.1.1-fix">#</a></dt><dd><div class="changelog-change docutils container">
<p><a class="reference internal" href="../reference/response/index.html#litestar.response.Response.to_asgi_response" title="litestar.response.Response.to_asgi_response"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_asgi_response()</span></code></a> was passing a
non-<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> default value (<code class="docutils literal notranslate"><span class="pre">[]</span></code>) to <code class="docutils literal notranslate"><span class="pre">ASGIResponse</span></code> for
<code class="docutils literal notranslate"><span class="pre">encoded_headers</span></code>, resulting in a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#DeprecationWarning" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a> being raised.
This was fixed by leaving the default value as <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2364">litestar-org/litestar#2364</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.1.0">
<h2>2.1.0<a class="headerlink" href="#2.1.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/09/23<p><a class="reference external" href="https://github.com/litestar-org/litestar/compare/v2.0.0...v2.1.0x">View the full changelog</a></p>
<section id="2.1.0-feature">
<h3>Features<a class="headerlink" href="#2.1.0-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Make <code class="docutils literal notranslate"><span class="pre">302</span></code> the default <code class="docutils literal notranslate"><span class="pre">status_code</span></code> for redirect responses<a class="headerlink reference internal" href="#2.1.0-make" id="2.1.0-make">#</a></dt><dd><div class="changelog-change docutils container">
<p>Make <code class="docutils literal notranslate"><span class="pre">302</span></code> the default <code class="docutils literal notranslate"><span class="pre">status_code</span></code> for redirect responses</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2138">litestar-org/litestar#2138</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2189">litestar-org/litestar#2189</a></span></p>
</div>
</dd>
<dt>Add <a class="reference internal" href="../reference/controller.html#litestar.controller.Controller.include_in_schema" title="litestar.controller.Controller.include_in_schema"><code class="xref py py-meth docutils literal notranslate"><span class="pre">include_in_schema()</span></code></a> option for all layers<a class="headerlink reference internal" href="#2.1.0-add" id="2.1.0-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adds the <a class="reference internal" href="../reference/controller.html#litestar.controller.Controller.include_in_schema" title="litestar.controller.Controller.include_in_schema"><code class="xref py py-meth docutils literal notranslate"><span class="pre">include_in_schema()</span></code></a> option to all layers, allowing to include/exclude
specific routes from the generated OpenAPI schema.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2267">litestar-org/litestar#2267</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2295">litestar-org/litestar#2295</a></span></p>
</div>
</dd>
<dt>Deprecate parameter <code class="docutils literal notranslate"><span class="pre">app</span></code> of <code class="docutils literal notranslate"><span class="pre">Response.to_asgi_response</span></code><a class="headerlink reference internal" href="#2.1.0-deprecate parameter" id="2.1.0-deprecate parameter">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adds deprecation warning for unused <code class="docutils literal notranslate"><span class="pre">app</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">to_asgi_response</span></code> as
it is unused and redundant due to <code class="docutils literal notranslate"><span class="pre">request.app</span></code> being available.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2217">litestar-org/litestar#2217</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2268">litestar-org/litestar#2268</a></span></p>
</div>
</dd>
<dt>Authentication: Add parameters to set the JWT <code class="docutils literal notranslate"><span class="pre">extras</span></code> field<a class="headerlink reference internal" href="#2.1.0-authentication: add parameters to set the jwt" id="2.1.0-authentication: add parameters to set the jwt">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adds <code class="docutils literal notranslate"><span class="pre">token_extras</span></code> to both <a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.BaseJWTAuth.login" title="litestar.security.jwt.BaseJWTAuth.login"><code class="xref py py-func docutils literal notranslate"><span class="pre">BaseJWTAuth.login()</span></code></a> and <a class="reference internal" href="../reference/security/jwt.html#litestar.security.jwt.BaseJWTAuth.create_token" title="litestar.security.jwt.BaseJWTAuth.create_token"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BaseJWTAuth.create_token()</span></code></a> methods,
to allow the definition of the <code class="docutils literal notranslate"><span class="pre">extras</span></code> JWT field.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2313">litestar-org/litestar#2313</a></span></p>
</div>
</dd>
<dt>Templating: Add possibility to customize Jinja environment<a class="headerlink reference internal" href="#2.1.0-templating: add possibility to customize jinja environment" id="2.1.0-templating: add possibility to customize jinja environment">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adds the ability to pass a custom Jinja2 <code class="docutils literal notranslate"><span class="pre">Environment</span></code> or Mako <code class="docutils literal notranslate"><span class="pre">TemplateLookup</span></code> by providing a
dedicated class method.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/965">litestar-org/litestar#965</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2195">litestar-org/litestar#2195</a></span></p>
</div>
</dd>
<dt>Add support for <a class="reference external" href="https://github.com/mitsuhiko/minijinja">minjinja</a><a class="headerlink reference internal" href="#2.1.0-add support for" id="2.1.0-add support for">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adds support for MiniJinja, a minimal Jinja2 implementation.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/templating.html"><span class="doc">Templating</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2250">litestar-org/litestar#2250</a></span></p>
</div>
</dd>
<dt>SQLAlchemy: Exclude implicit fields for SQLAlchemy DTO<a class="headerlink reference internal" href="#2.1.0-sqlalchemy: exclude implicit fields for sqlalchemy dto" id="2.1.0-sqlalchemy: exclude implicit fields for sqlalchemy dto">#</a></dt><dd><div class="changelog-change docutils container">
<p><a class="reference external" href="https://docs.advanced-alchemy.litestar.dev/latest/reference/extensions/litestar/dto.html#advanced_alchemy.extensions.litestar.dto.SQLAlchemyDTO" title="(in advanced_alchemy)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SQLAlchemyDTO</span> <span class="pre">(Advanced</span> <span class="pre">Alchemy)</span></code></a> can now be
configured using a separate config object. This can be set using both
class inheritance and <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Annotated">Annotated</a>:</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://docs.advanced-alchemy.litestar.dev/latest/reference/extensions/litestar/dto.html#advanced_alchemy.extensions.litestar.dto.SQLAlchemyDTO" title="(in advanced_alchemy)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SQLAlchemyDTO</span> <span class="pre">(Advanced</span> <span class="pre">Alchemy)</span></code></a> can now be configured using a separate config object using <code class="docutils literal notranslate"><span class="pre">config</span></code> object.</span><a class="headerlink" href="#id11" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyModelDTO</span><span class="p">(</span><span class="n">SQLAlchemyDTO</span><span class="p">[</span><span class="n">MyModel</span><span class="p">]):</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">SQLAlchemyDTOConfig</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>or</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://docs.advanced-alchemy.litestar.dev/latest/reference/extensions/litestar/dto.html#advanced_alchemy.extensions.litestar.dto.SQLAlchemyDTO" title="(in advanced_alchemy)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SQLAlchemyDTO</span> <span class="pre">(Advanced</span> <span class="pre">Alchemy)</span></code></a> can now be configured using a separate config object using <code class="docutils literal notranslate"><span class="pre">Annotated</span></code>.</span><a class="headerlink" href="#id12" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="n">MyModelDTO</span> <span class="o">=</span> <span class="n">SQLAlchemyDTO</span><span class="p">[</span><span class="n">Annotated</span><span class="p">[</span><span class="n">MyModel</span><span class="p">,</span> <span class="n">SQLAlchemyDTOConfig</span><span class="p">()]]</span>
</pre></div>
</div>
</div>
<p>The new configuration currently accepts a single attribute which is <code class="docutils literal notranslate"><span class="pre">include_implicit_fields</span></code> that has
a default value of <code class="docutils literal notranslate"><span class="pre">True</span></code>. If set to to <code class="docutils literal notranslate"><span class="pre">False</span></code>, all implicitly mapped columns will be hidden
from the <code class="docutils literal notranslate"><span class="pre">DTO</span></code>. If set to <code class="docutils literal notranslate"><span class="pre">hybrid-only</span></code>, then hybrid properties will be shown but not other
implicit columns.</p>
<p>Finally, implicit columns that are marked with <code class="docutils literal notranslate"><span class="pre">Mark.READ_ONLY</span></code> or <code class="docutils literal notranslate"><span class="pre">Mark.WRITE_ONLY</span></code>
will always be shown regardless of the value of <code class="docutils literal notranslate"><span class="pre">include_implicit_fields</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2170">litestar-org/litestar#2170</a></span></p>
</div>
</dd>
<dt>SQLAlchemy: Allow repository functions to be filtered by expressions<a class="headerlink reference internal" href="#2.1.0-sqlalchemy: allow repository functions to be filtered by expressions" id="2.1.0-sqlalchemy: allow repository functions to be filtered by expressions">#</a></dt><dd><div class="changelog-change docutils container">
<p>Enhances the SQLALchemy repository so that you can more easily pass in complex <code class="docutils literal notranslate"><span class="pre">where</span></code> expressions into the repository functions.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Without this, you have to override the <code class="docutils literal notranslate"><span class="pre">statement</span></code> parameter and it separates the where conditions from the filters and the <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>.</p>
</div>
<p>Allows usage of this syntax:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">locations</span><span class="p">,</span> <span class="n">total_count</span> <span class="o">=</span> <span class="k">await</span> <span class="n">model_service</span><span class="o">.</span><span class="n">list_and_count</span><span class="p">(</span>
    <span class="n">ST_DWithin</span><span class="p">(</span><span class="n">UniqueLocation</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">geog</span><span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">account_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>instead of the previous method of overriding the <code class="docutils literal notranslate"><span class="pre">statement</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">locations</span><span class="p">,</span> <span class="n">total_count</span> <span class="o">=</span> <span class="k">await</span> <span class="n">model_service</span><span class="o">.</span><span class="n">list_and_count</span><span class="p">(</span>
    <span class="n">statement</span><span class="o">=</span><span class="n">select</span><span class="p">(</span><span class="n">Model</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ST_DWithin</span><span class="p">(</span><span class="n">UniqueLocation</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">geog</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)),</span>
    <span class="n">account_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">account_id</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2265">litestar-org/litestar#2265</a></span></p>
</div>
</dd>
<dt>SQLAlchemy: Use <a class="reference external" href="https://docs.sqlalchemy.org/en/20/core/sqlelement.html#sqlalchemy.sql.expression.lambda_stmt" title="(in SQLAlchemy v2.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">lambda_stmt</span></code></a> in the repository<a class="headerlink reference internal" href="#2.1.0-sqlalchemy: use" id="2.1.0-sqlalchemy: use">#</a></dt><dd><div class="changelog-change docutils container">
<p>Converts the repository to use <a class="reference external" href="https://docs.sqlalchemy.org/en/20/core/sqlelement.html#sqlalchemy.sql.expression.lambda_stmt" title="(in SQLAlchemy v2.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">lambda_stmt</span></code></a>
instead of the normal <code class="docutils literal notranslate"><span class="pre">select</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2179">litestar-org/litestar#2179</a></span></p>
</div>
</dd>
<dt>SQLAlchemy: Swap to the <a class="reference external" href="https://docs.advanced-alchemy.jolt.rs">advanced_alchemy</a> implementations<a class="headerlink reference internal" href="#2.1.0-sqlalchemy: swap to the" id="2.1.0-sqlalchemy: swap to the">#</a></dt><dd><div class="changelog-change docutils container">
<p>Swaps the internal SQLAlchemy repository to use the external
<a class="reference external" href="https://docs.advanced-alchemy.jolt.rs">advanced_alchemy</a> library implementations</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2312">litestar-org/litestar#2312</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.1.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.1.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Remove usages of deprecated <code class="docutils literal notranslate"><span class="pre">ExceptionHandlerMiddleware</span></code> <code class="docutils literal notranslate"><span class="pre">debug</span></code> parameter<a class="headerlink reference internal" href="#2.1.0-remove usages of deprecated" id="2.1.0-remove usages of deprecated">#</a></dt><dd><div class="changelog-change docutils container">
<p>Removes leftover usages of deprecated <code class="docutils literal notranslate"><span class="pre">ExceptionHandlerMiddleware</span></code> debug parameter.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2192">litestar-org/litestar#2192</a></span></p>
</div>
</dd>
<dt>DTOs: Raise <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.ValidationException" title="litestar.exceptions.ValidationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValidationException</span></code></a> when Pydantic validation fails<a class="headerlink reference internal" href="#2.1.0-dtos: raise" id="2.1.0-dtos: raise">#</a></dt><dd><div class="changelog-change docutils container">
<blockquote>
<div><p>Ensures that when the Pydantic validation fails in the Pydantic DTO,
a <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.ValidationException" title="litestar.exceptions.ValidationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ValidationException</span></code></a> is raised with the extras set to the errors given by Pydantic.</p>
</div></blockquote>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2190">litestar-org/litestar#2190</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2204">litestar-org/litestar#2204</a></span></p>
</div>
</dd>
<dt>Set the max width of the console to 80<a class="headerlink reference internal" href="#2.1.0-set the max width of the console to 80" id="2.1.0-set the max width of the console to 80">#</a></dt><dd><div class="changelog-change docutils container">
<p>Sets the max width of the console to 80, to prevent the output from being
wrapped.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2244">litestar-org/litestar#2244</a></span></p>
</div>
</dd>
<dt>Handling of optional path parameters<a class="headerlink reference internal" href="#2.1.0-handling of optional path parameters" id="2.1.0-handling of optional path parameters">#</a></dt><dd><div class="changelog-change docutils container">
<p>Resolves an issue where optional path parameters caused a 500 error to be raised.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2222">litestar-org/litestar#2222</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2224">litestar-org/litestar#2224</a></span></p>
</div>
</dd>
<dt>Use os.replace instead of shutil.move for renaming files<a class="headerlink reference internal" href="#2.1.0-use os.replace instead of shutil.move for renaming files" id="2.1.0-use os.replace instead of shutil.move for renaming files">#</a></dt><dd><div class="changelog-change docutils container">
<p>Change to using <a class="reference external" href="https://docs.python.org/3/library/os.html#os.replace" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.replace()</span></code></a> instead of <a class="reference external" href="https://docs.python.org/3/library/shutil.html#shutil.move" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">shutil.move()</span></code></a> for renaming files, to
ensure atomicity.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2223">litestar-org/litestar#2223</a></span></p>
</div>
</dd>
<dt>Exception detail attribute<a class="headerlink reference internal" href="#2.1.0-exception detail attribute" id="2.1.0-exception detail attribute">#</a></dt><dd><div class="changelog-change docutils container">
<p>Set correctly the detail attribute on <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.LitestarException" title="litestar.exceptions.LitestarException"><code class="xref py py-class docutils literal notranslate"><span class="pre">LitestarException</span></code></a> and <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.HTTPException" title="litestar.exceptions.HTTPException"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPException</span></code></a>
regardless of whether its passed positionally or by name.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2231">litestar-org/litestar#2231</a></span></p>
</div>
</dd>
<dt>Filters not available in <code class="docutils literal notranslate"><span class="pre">exists()</span></code><a class="headerlink reference internal" href="#2.1.0-filters not available in" id="2.1.0-filters not available in">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes <a class="reference internal" href="../reference/repository/abc.html#litestar.repository.abc.AbstractAsyncRepository.exists" title="litestar.repository.abc.AbstractAsyncRepository.exists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exists()</span></code></a> method for SQLAlchemy sync and async.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2221">litestar-org/litestar#2221</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2228">litestar-org/litestar#2228</a></span></p>
</div>
</dd>
<dt>Add Pydantic types to SQLAlchemy registry only if Pydantic is installed<a class="headerlink reference internal" href="#2.1.0-add pydantic types to sqlalchemy registry only if pydantic is installed" id="2.1.0-add pydantic types to sqlalchemy registry only if pydantic is installed">#</a></dt><dd><div class="changelog-change docutils container">
<p>Allows importing from <code class="docutils literal notranslate"><span class="pre">litestar.contrib.sqlalchemy.base</span></code> even if Pydantic is not installed.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2252">litestar-org/litestar#2252</a></span></p>
</div>
</dd>
<dt>Dont add content type for responses that dont have a body<a class="headerlink reference internal" href="#2.1.0-don't add content type for responses that don't have a body" id="2.1.0-don't add content type for responses that don't have a body">#</a></dt><dd><div class="changelog-change docutils container">
<p>Ensures that the <code class="docutils literal notranslate"><span class="pre">content-type</span></code> header is not added for responses that do not have a
body such as responses with status code <code class="docutils literal notranslate"><span class="pre">204</span> <span class="pre">(No</span> <span class="pre">Content)</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2106">litestar-org/litestar#2106</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2263">litestar-org/litestar#2263</a></span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SQLAlchemyPlugin</span></code> refactored<a class="headerlink reference internal" href="#2.1.0-sqlalchemyplugin" id="2.1.0-sqlalchemyplugin">#</a></dt><dd><div class="changelog-change docutils container">
<p>Changes the way the <code class="docutils literal notranslate"><span class="pre">SQLAlchemyPlugin</span></code> to now append the other plugins instead of the
inheritance that was previously used. This makes using the <code class="docutils literal notranslate"><span class="pre">plugins.get</span></code> function work as expected.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2269">litestar-org/litestar#2269</a></span></p>
</div>
</dd>
<dt>Ensure <code class="docutils literal notranslate"><span class="pre">app-dir</span></code> is appended to path during autodiscovery<a class="headerlink reference internal" href="#2.1.0-ensure" id="2.1.0-ensure">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes a bug which caused the <code class="docutils literal notranslate"><span class="pre">--app-dir</span></code> option to the Litestar CLI to not be propagated during autodiscovery.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2266">litestar-org/litestar#2266</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2277">litestar-org/litestar#2277</a></span></p>
</div>
</dd>
<dt>Set content length header by default<a class="headerlink reference internal" href="#2.1.0-set content length header by default" id="2.1.0-set content length header by default">#</a></dt><dd><div class="changelog-change docutils container">
<p>Sets the <code class="docutils literal notranslate"><span class="pre">content-length</span></code> header by default even if the length of the body is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2271">litestar-org/litestar#2271</a></span></p>
</div>
</dd>
<dt>Incorrect handling of mutable headers in <a class="reference internal" href="../reference/response/base.html#litestar.response.base.ASGIResponse" title="litestar.response.base.ASGIResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ASGIResponse</span></code></a><a class="headerlink reference internal" href="#2.1.0-incorrect handling of mutable headers in" id="2.1.0-incorrect handling of mutable headers in">#</a></dt><dd><div class="changelog-change docutils container">
<p>Update <a class="reference internal" href="../reference/response/base.html#litestar.response.base.ASGIResponse" title="litestar.response.base.ASGIResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ASGIResponse</span></code></a>, <a class="reference internal" href="../reference/response/base.html#litestar.response.base.Response" title="litestar.response.base.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></a> and friends to address a few issues related to headers:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">encoded_headers</span></code> were passed in at any point, they were mutated within responses, leading to a growing list of headers with every response</p></li>
<li><p>While mutating <code class="docutils literal notranslate"><span class="pre">encoded_headers</span></code>, the checks performed to assert a value was (not) already present, headers were not treated case-insensitive</p></li>
<li><p>Unnecessary work was performed while converting cookies / headers into an encoded headers list</p></li>
</ul>
<p>This was fixed by:</p>
<ul class="simple">
<li><p>Removing the use of and deprecate <code class="docutils literal notranslate"><span class="pre">encoded_headers</span></code></p></li>
<li><p>Handling headers on <a class="reference internal" href="../reference/response/base.html#litestar.response.base.ASGIResponse" title="litestar.response.base.ASGIResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ASGIResponse</span></code></a> with <a class="reference internal" href="../reference/datastructures/index.html#litestar.datastructures.MutableScopeHeaders" title="litestar.datastructures.MutableScopeHeaders"><code class="xref py py-class docutils literal notranslate"><span class="pre">MutableScopeHeaders</span></code></a>, which allows for case-insensitive membership tests, <code class="docutils literal notranslate"><span class="pre">.setdefault</span></code> operations, etc.</p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2196">litestar-org/litestar#2196</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2308">litestar-org/litestar#2308</a></span></p>
</div>
</dd>
<dt>Adds missing ORM registry export<a class="headerlink reference internal" href="#2.1.0-adds missing orm registry export" id="2.1.0-adds missing orm registry export">#</a></dt><dd><div class="changelog-change docutils container">
<p>Adds an export that was overlooked for the base repo</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2316">litestar-org/litestar#2316</a></span></p>
</div>
</dd>
<dt>Discrepancy in <code class="docutils literal notranslate"><span class="pre">attrs</span></code>, <code class="docutils literal notranslate"><span class="pre">msgspec</span></code> and <code class="docutils literal notranslate"><span class="pre">Pydantic</span></code> for multi-part forms<a class="headerlink reference internal" href="#2.1.0-discrepancy in" id="2.1.0-discrepancy in">#</a></dt><dd><div class="changelog-change docutils container">
<p>Resolves issue in <code class="docutils literal notranslate"><span class="pre">attrs</span></code>, <code class="docutils literal notranslate"><span class="pre">msgspec</span></code> and Pydantic for multi-part forms</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2278">litestar-org/litestar#2278</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2280">litestar-org/litestar#2280</a></span></p>
</div>
</dd>
<dt>Set proper default for <code class="docutils literal notranslate"><span class="pre">exclude_http_methods</span></code> in auth middleware<a class="headerlink reference internal" href="#2.1.0-set proper default for" id="2.1.0-set proper default for">#</a></dt><dd><div class="changelog-change docutils container">
<p>Sets <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> as the default value for <code class="docutils literal notranslate"><span class="pre">exclude_http_methods</span></code> in the base authentication middleware class.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2205">litestar-org/litestar#2205</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2325">litestar-org/litestar#2325</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0">
<h2>2.0.0<a class="headerlink" href="#2.0.0" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/08/19<section id="2.0.0-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Regression | Missing <code class="docutils literal notranslate"><span class="pre">media_type</span></code> information to error responses<a class="headerlink reference internal" href="#2.0.0-regression | missing" id="2.0.0-regression | missing">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixed a regression that caused error responses to be sent using a mismatched
media type, e.g. an error response from a <code class="docutils literal notranslate"><span class="pre">text/html</span></code> endpoint would be sent
as JSON.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2024">litestar-org/litestar#2024</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2131">litestar-org/litestar#2131</a></span></p>
</div>
</dd>
<dt>Regression | <code class="docutils literal notranslate"><span class="pre">Litestar.debug</span></code> does not propagate to exception handling middleware<a class="headerlink reference internal" href="#2.0.0-regression |" id="2.0.0-regression |">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixed a regression where setting <code class="docutils literal notranslate"><span class="pre">Litestar.debug</span></code> would not propagate to the
exception handler middleware, resulting in exception responses always being sent
using the initial debug value.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2147">litestar-org/litestar#2147</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2153">litestar-org/litestar#2153</a></span></p>
</div>
</dd>
<dt>Static files not being served if a route handler with the same base path was registered<a class="headerlink reference internal" href="#2.0.0-static files not being served if a route handler with the same base path was registered" id="2.0.0-static files not being served if a route handler with the same base path was registered">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixed a bug that would result in a <code class="docutils literal notranslate"><span class="pre">404</span> <span class="pre">-</span> <span class="pre">Not</span> <span class="pre">Found</span></code> when requesting a static
file where the <a class="reference internal" href="../reference/static_files.html#litestar.static_files.StaticFilesConfig.path" title="litestar.static_files.StaticFilesConfig.path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">path</span></code></a> was also
used by a route handler.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2154">litestar-org/litestar#2154</a></span></p>
</div>
</dd>
<dt>HTMX: Missing default values for <code class="docutils literal notranslate"><span class="pre">receive</span></code> and <code class="docutils literal notranslate"><span class="pre">send</span></code> parameters of <code class="docutils literal notranslate"><span class="pre">HTMXRequest</span></code><a class="headerlink reference internal" href="#2.0.0-htmx: missing default values for" id="2.0.0-htmx: missing default values for">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add missing default values for the <code class="docutils literal notranslate"><span class="pre">receive</span></code> and <code class="docutils literal notranslate"><span class="pre">send</span></code> parameters of
<code class="xref py py-class docutils literal notranslate"><span class="pre">HTMXRequest</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2145">litestar-org/litestar#2145</a></span></p>
</div>
</dd>
<dt>DTO: Excluded attributes accessed during transfer<a class="headerlink reference internal" href="#2.0.0-dto: excluded attributes accessed during transfer" id="2.0.0-dto: excluded attributes accessed during transfer">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix the behaviour of DTOs such that they will no longer access fields that have
been included. This behaviour would previously cause issues when these
attributes were either costly or impossible to access (e.g. lazy loaded
relationships of a SQLAlchemy model).</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2125">litestar-org/litestar#2125</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2127">litestar-org/litestar#2127</a></span></p>
</div>
</dd>
<dt>DTO | Regression: <code class="docutils literal notranslate"><span class="pre">DTOData.create_instance</span></code> ignores renaming<a class="headerlink reference internal" href="#2.0.0-dto | regression:" id="2.0.0-dto | regression:">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a regression where calling
<a class="reference internal" href="../reference/dto/data_structures.html#litestar.dto.data_structures.DTOData.create_instance" title="litestar.dto.data_structures.DTOData.create_instance"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_instance()</span></code></a> would ignore the
renaming settings of fields.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2144">litestar-org/litestar#2144</a></span></p>
</div>
</dd>
<dt>OpenAPI | Regression: Response schema for files and streams set <code class="docutils literal notranslate"><span class="pre">application/octet-stream</span></code> as <code class="docutils literal notranslate"><span class="pre">contentEncoding</span></code> instead of <code class="docutils literal notranslate"><span class="pre">contentMediaType</span></code><a class="headerlink reference internal" href="#2.0.0-openapi | regression: response schema for files and streams set" id="2.0.0-openapi | regression: response schema for files and streams set">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a regression that would set <code class="docutils literal notranslate"><span class="pre">application/octet-stream</span></code> as the <code class="docutils literal notranslate"><span class="pre">contentEncoding</span></code>
instead of <code class="docutils literal notranslate"><span class="pre">contentMediaType</span></code> in the response schema of
<a class="reference internal" href="../reference/response/index.html#litestar.response.File" title="litestar.response.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a> <a class="reference internal" href="../reference/response/index.html#litestar.response.Stream" title="litestar.response.Stream"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stream</span></code></a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2130">litestar-org/litestar#2130</a></span></p>
</div>
</dd>
<dt>OpenAPI | Regression: Response schema diverges from <code class="docutils literal notranslate"><span class="pre">prefer_alias</span></code> setting for Pydantic models<a class="headerlink reference internal" href="#2.0.0-openapi | regression: response schema diverges from" id="2.0.0-openapi | regression: response schema diverges from">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a regression that made the response schema use <code class="docutils literal notranslate"><span class="pre">prefer_alias=True</span></code>,
diverging from how Pydantic models are exported by default.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2150">litestar-org/litestar#2150</a></span></p>
</div>
</dd>
<dt>OpenAPI | Regression: Examples not being generated deterministically<a class="headerlink reference internal" href="#2.0.0-openapi | regression: examples not being generated deterministically" id="2.0.0-openapi | regression: examples not being generated deterministically">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a regression that made generated examples non-deterministic, caused by a
misconfiguration of the random seeding.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2161">litestar-org/litestar#2161</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Handling of dialects not supporting JSON<a class="headerlink reference internal" href="#2.0.0-sqlalchemy repository: handling of dialects not supporting json" id="2.0.0-sqlalchemy repository: handling of dialects not supporting json">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where SQLAlchemy would raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> when using a dialect
that does not support JSON with the SQLAlchemy repositories.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/2137">litestar-org/litestar#2137</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2139">litestar-org/litestar#2139</a></span></p>
</div>
</dd>
<dt>JWT | Regression: <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> and <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> being authenticated by default<a class="headerlink reference internal" href="#2.0.0-jwt | regression:" id="2.0.0-jwt | regression:">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a regression that would make
<code class="docutils literal notranslate"><span class="pre">litestar.contrib.jwt.JWTAuthenticationMiddleware</span></code> authenticate
<code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> and <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> requests by default.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2160">litestar-org/litestar#2160</a></span></p>
</div>
</dd>
<dt>SessionAuth | Regression: <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> and <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> being authenticated by default<a class="headerlink reference internal" href="#2.0.0-sessionauth | regression:" id="2.0.0-sessionauth | regression:">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a regression that would make
<a class="reference internal" href="../reference/security/session_auth.html#litestar.security.session_auth.middleware.SessionAuthMiddleware" title="litestar.security.session_auth.middleware.SessionAuthMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">SessionAuthMiddleware</span></code></a> authenticate
<code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> and <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> requests by default.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2182">litestar-org/litestar#2182</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0rc1">
<h2>2.0.0rc1<a class="headerlink" href="#2.0.0rc1" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/08/05<section id="2.0.0rc1-feature">
<h3>Features<a class="headerlink" href="#2.0.0rc1-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Support for server-sent-events<a class="headerlink reference internal" href="#2.0.0rc1-support for server-sent-events" id="2.0.0rc1-support for server-sent-events">#</a></dt><dd><div class="changelog-change docutils container">
<p>Support for <cite>Server-sent events &lt;https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events&gt;</cite> has been
added with the <a class="reference internal" href="../reference/response/index.html#litestar.response.ServerSentEvent" title="litestar.response.ServerSentEvent"><code class="xref py py-class docutils literal notranslate"><span class="pre">ServerSentEvent</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">my_generator</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">yield</span> <span class="nb">str</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>


<span class="nd">@get</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;/count&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">sse_handler</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ServerSentEvent</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">ServerSentEvent</span><span class="p">(</span><span class="n">my_generator</span><span class="p">())</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/responses.html#server-sent-event-responses"><span class="std std-ref">Server Sent Events</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1185">litestar-org/litestar#1185</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2035">litestar-org/litestar#2035</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: allow specifying <code class="docutils literal notranslate"><span class="pre">id_attribute</span></code> per method<a class="headerlink reference internal" href="#2.0.0rc1-sqlalchemy repository: allow specifying" id="2.0.0rc1-sqlalchemy repository: allow specifying">#</a></dt><dd><div class="changelog-change docutils container">
<p>The following methods now accept an <code class="docutils literal notranslate"><span class="pre">id_attribute</span></code> argument, allowing to
specify an alternative value to the models primary key:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemyAsyncRepository.delete</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemyAsyncRepository.delete_many</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemyAsyncRepository.get</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemyAsyncRepository.update</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemySyncRepository.delete</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemySyncRepository.delete_many</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemySyncRepository.get</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemySyncRepository.update</span></code></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2052">litestar-org/litestar#2052</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: New <code class="docutils literal notranslate"><span class="pre">upsert_many</span></code> method<a class="headerlink reference internal" href="#2.0.0rc1-sqlalchemy repository: new" id="2.0.0rc1-sqlalchemy repository: new">#</a></dt><dd><div class="changelog-change docutils container">
<p>A new method <code class="docutils literal notranslate"><span class="pre">upsert_many</span></code> has been added to the SQLAlchemy repositories,
providing equivalent functionality to the <code class="docutils literal notranslate"><span class="pre">upsert</span></code> method for multiple
model instances.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemyAsyncRepository.upsert_many</span></code>
<code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemySyncRepository.upsert_many</span></code></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2056">litestar-org/litestar#2056</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: New filters: <code class="docutils literal notranslate"><span class="pre">OnBeforeAfter</span></code>, <code class="docutils literal notranslate"><span class="pre">NotInCollectionFilter</span></code> and <code class="docutils literal notranslate"><span class="pre">NotInSearchFilter</span></code><a class="headerlink reference internal" href="#2.0.0rc1-sqlalchemy repository: new filters:" id="2.0.0rc1-sqlalchemy repository: new filters:">#</a></dt><dd><div class="changelog-change docutils container">
<p>The following filters have been added to the SQLAlchemy repositories:</p>
<p><code class="docutils literal notranslate"><span class="pre">litestar.contrib.repository.filters.OnBeforeAfter</span></code></p>
<blockquote>
<div><p>Allowing to filter <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> columns</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">litestar.contrib.repository.filters.NotInCollectionFilter</span></code></p>
<blockquote>
<div><p>Allowing to filter using a <code class="docutils literal notranslate"><span class="pre">WHERE</span> <span class="pre">...</span> <span class="pre">NOT</span> <span class="pre">IN</span> <span class="pre">(...)</span></code> clause</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">litestar.contrib.repository.filters.NotInSearchFilter</span></code></p>
<blockquote>
<div><p>Allowing to filter using a <cite>WHERE field_name NOT LIKE % || :value || %`</cite> clause</p>
</div></blockquote>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2057">litestar-org/litestar#2057</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Configurable chunk sizing for <code class="docutils literal notranslate"><span class="pre">delete_many</span></code><a class="headerlink reference internal" href="#2.0.0rc1-sqlalchemy repository: configurable chunk sizing for" id="2.0.0rc1-sqlalchemy repository: configurable chunk sizing for">#</a></dt><dd><div class="changelog-change docutils container">
<p>The repository now accepts a <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> parameter, determining the maximum
amount of parameters in an <code class="docutils literal notranslate"><span class="pre">IN</span></code> statement before it gets chunked.</p>
<p>This is currently only used in the <code class="docutils literal notranslate"><span class="pre">delete_many</span></code> method.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2061">litestar-org/litestar#2061</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Support InstrumentedAttribute for attribute columns<a class="headerlink reference internal" href="#2.0.0rc1-sqlalchemy repository: support instrumentedattribute for attribute columns" id="2.0.0rc1-sqlalchemy repository: support instrumentedattribute for attribute columns">#</a></dt><dd><div class="changelog-change docutils container">
<p>Support <a class="reference external" href="https://docs.sqlalchemy.org/en/20/orm/internals.html#sqlalchemy.orm.InstrumentedAttribute" title="(in SQLAlchemy v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstrumentedAttribute</span></code></a> for in the repositorys
<code class="docutils literal notranslate"><span class="pre">id_attribute</span></code>, and the following methods:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemyAsyncRepository.delete</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemyAsyncRepository.delete_many</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemyAsyncRepository.get</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemyAsyncRepository.update</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemySyncRepository.delete</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemySyncRepository.delete_many</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemySyncRepository.get</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.repository.SQLAlchemySyncRepository.update</span></code></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2054">litestar-org/litestar#2054</a></span></p>
</div>
</dd>
<dt>OpenAPI: Support callable <code class="docutils literal notranslate"><span class="pre">operation_id</span></code> on route handlers<a class="headerlink reference internal" href="#2.0.0rc1-openapi: support callable" id="2.0.0rc1-openapi: support callable">#</a></dt><dd><div class="changelog-change docutils container">
<p>Route handlers may be passed a callable to <code class="docutils literal notranslate"><span class="pre">operation_id</span></code> to create the
OpenAPI operation ID.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2078">litestar-org/litestar#2078</a></span></p>
</div>
</dd>
<dt>Run event listeners concurrently<a class="headerlink reference internal" href="#2.0.0rc1-run event listeners concurrently" id="2.0.0rc1-run event listeners concurrently">#</a></dt><dd><div class="changelog-change docutils container">
<p><a class="reference internal" href="../usage/events.html"><span class="doc">Events</span></a> now run concurrently inside a task group.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2096">litestar-org/litestar#2096</a></span></p>
</div>
</dd>
<dt>Support extending the CLI with plugins<a class="headerlink reference internal" href="#2.0.0rc1-support extending the cli with plugins" id="2.0.0rc1-support extending the cli with plugins">#</a></dt><dd><div class="changelog-change docutils container">
<p>A new plugin protocol <a class="reference internal" href="../reference/plugins/index.html#litestar.plugins.CLIPluginProtocol" title="litestar.plugins.CLIPluginProtocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">CLIPluginProtocol</span></code></a> has been
added that can be used to extend the Litestar CLI.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/cli.html#using-a-plugin"><span class="std std-ref">Using a plugin</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2066">litestar-org/litestar#2066</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0rc1-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0rc1-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>DTO: Support renamed fields in <code class="docutils literal notranslate"><span class="pre">DTOData</span></code> and <code class="docutils literal notranslate"><span class="pre">create_instance</span></code><a class="headerlink reference internal" href="#2.0.0rc1-dto: support renamed fields in" id="2.0.0rc1-dto: support renamed fields in">#</a></dt><dd><div class="changelog-change docutils container">
<p>A bug was fixed that would cause field renaming to be skipped within
<a class="reference internal" href="../reference/dto/data_structures.html#litestar.dto.data_structures.DTOData" title="litestar.dto.data_structures.DTOData"><code class="xref py py-class docutils literal notranslate"><span class="pre">DTOData</span></code></a> and
<a class="reference internal" href="../reference/dto/data_structures.html#litestar.dto.data_structures.DTOData.create_instance" title="litestar.dto.data_structures.DTOData.create_instance"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_instance()</span></code></a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2065">litestar-org/litestar#2065</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Fix <code class="docutils literal notranslate"><span class="pre">health_check</span></code> for oracle<a class="headerlink reference internal" href="#2.0.0rc1-sqlalchemy repository: fix" id="2.0.0rc1-sqlalchemy repository: fix">#</a></dt><dd><div class="changelog-change docutils container">
<p>The emitted statement for oracle has been changed to <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">1</span> <span class="pre">FROM</span> <span class="pre">DUAL</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2060">litestar-org/litestar#2060</a></span></p>
</div>
</dd>
<dt>Fix serialization of empty strings in multipart form<a class="headerlink reference internal" href="#2.0.0rc1-fix serialization of empty strings in multipart form" id="2.0.0rc1-fix serialization of empty strings in multipart form">#</a></dt><dd><div class="changelog-change docutils container">
<p>A bug was fixed that would cause a validation error to be raised for empty
strings during multipart form decoding.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2044">litestar-org/litestar#2044</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0rc1-misc">
<h3>Other changes<a class="headerlink" href="#2.0.0rc1-misc" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Use debug mode by default in test clients<a class="headerlink reference internal" href="#2.0.0rc1-use debug mode by default in test clients" id="2.0.0rc1-use debug mode by default in test clients">#</a></dt><dd><div class="changelog-change docutils container">
<p>The test clients will now default to <code class="docutils literal notranslate"><span class="pre">debug=True</span></code> instead of <code class="docutils literal notranslate"><span class="pre">debug=None</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2113">litestar-org/litestar#2113</a></span></p>
</div>
</dd>
<dt>Removal of deprecated <code class="docutils literal notranslate"><span class="pre">partial</span></code> module<a class="headerlink reference internal" href="#2.0.0rc1-removal of deprecated" id="2.0.0rc1-removal of deprecated">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The deprecated <code class="docutils literal notranslate"><span class="pre">litestar.partial</span></code> has been removed. It can be replaced with
DTOs, making use of the <a class="reference internal" href="../reference/dto/config.html#litestar.dto.config.DTOConfig" title="litestar.dto.config.DTOConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">DTOConfig</span></code></a> option
<code class="docutils literal notranslate"><span class="pre">partial=True</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2113">litestar-org/litestar#2113</a></span></p>
</div>
</dd>
<dt>Removal of deprecated <code class="docutils literal notranslate"><span class="pre">dto/factory</span></code> module<a class="headerlink reference internal" href="#2.0.0rc1-removal of deprecated" id="2.0.0rc1-removal of deprecated">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The deprecated module <code class="docutils literal notranslate"><span class="pre">litestar.dto.factory</span></code> has been removed.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2114">litestar-org/litestar#2114</a></span></p>
</div>
</dd>
<dt>Removal of deprecated <code class="docutils literal notranslate"><span class="pre">contrib/msgspec</span></code> module<a class="headerlink reference internal" href="#2.0.0rc1-removal of deprecated" id="2.0.0rc1-removal of deprecated">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The deprecated module <code class="docutils literal notranslate"><span class="pre">litestar.contrib.msgspec</span></code> has been removed.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2114">litestar-org/litestar#2114</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0beta4">
<h2>2.0.0beta4<a class="headerlink" href="#2.0.0beta4" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/07/21<section id="2.0.0beta4-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0beta4-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix extra package dependencies<a class="headerlink reference internal" href="#2.0.0beta4-fix extra package dependencies" id="2.0.0beta4-fix extra package dependencies">#</a></dt><dd><div class="changelog-change docutils container">
<p>A workaround for a
<a class="reference external" href="https://github.com/python-poetry/poetry/issues/4401">bug in poetry</a> that
caused development / extra dependencies to be installed alongside the package
has been added.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2029">litestar-org/litestar#2029</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0beta3">
<h2>2.0.0beta3<a class="headerlink" href="#2.0.0beta3" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/07/20<section id="2.0.0beta3-feature">
<h3>Features<a class="headerlink" href="#2.0.0beta3-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt><a class="reference external" href="https://docs.advanced-alchemy.litestar.dev/latest/reference/extensions/litestar/dto.html#advanced_alchemy.extensions.litestar.dto.SQLAlchemyDTO" title="(in advanced_alchemy)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SQLAlchemyDTO</span> <span class="pre">(Advanced</span> <span class="pre">Alchemy)</span></code></a>: column/relationship type inference<a class="headerlink reference internal" href="#2.0.0beta3-sqlalchemydto (advanced alchemy)" id="2.0.0beta3-sqlalchemydto (advanced alchemy)">#</a></dt><dd><div class="changelog-change docutils container">
<p>If type annotations arent available for a given column/relationship, they may
be inferred from the mapped object.</p>
<p>For columns, the <a class="reference external" href="https://docs.sqlalchemy.org/en/20/core/reflection.html#sqlalchemy.engine.interfaces.ReflectedColumn.type" title="(in SQLAlchemy v2.0)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">type</span></code></a>s
<a class="reference external" href="https://docs.sqlalchemy.org/en/20/core/type_api.html#sqlalchemy.types.TypeEngine.python_type" title="(in SQLAlchemy v2.0)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">python_type</span></code></a> will be used as the type of the
column, and the <a class="reference external" href="https://docs.sqlalchemy.org/en/20/core/reflection.html#sqlalchemy.engine.interfaces.ReflectedColumn.nullable" title="(in SQLAlchemy v2.0)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nullable</span></code></a>
property to determine if the field should have a <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> union.</p>
<p>For relationships, where the <code class="docutils literal notranslate"><span class="pre">RelationshipProperty.direction</span></code> is
<a class="reference external" href="https://docs.sqlalchemy.org/en/20/orm/internals.html#sqlalchemy.orm.RelationshipDirection.ONETOMANY" title="(in SQLAlchemy v2.0)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ONETOMANY</span></code></a> or
<a class="reference external" href="https://docs.sqlalchemy.org/en/20/orm/internals.html#sqlalchemy.orm.RelationshipDirection.MANYTOMANY" title="(in SQLAlchemy v2.0)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MANYTOMANY</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">RelationshipProperty.collection_class</span></code> and
<code class="docutils literal notranslate"><span class="pre">RelationshipProperty.mapper.class_</span></code> are used to construct an annotation for
the collection.</p>
<p>For one-to-one relationships, <code class="docutils literal notranslate"><span class="pre">RelationshipProperty.mapper.class_</span></code> is used to
get the type annotation, and will be made a union with <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if all of the
foreign key columns are nullable.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1853">litestar-org/litestar#1853</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1879">litestar-org/litestar#1879</a></span></p>
</div>
</dd>
<dt>DTO: Piccolo ORM<a class="headerlink reference internal" href="#2.0.0beta3-dto: piccolo orm" id="2.0.0beta3-dto: piccolo orm">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add support for piccolo ORM with the
<a class="reference internal" href="../reference/contrib/piccolo.html#litestar.contrib.piccolo.PiccoloDTO" title="litestar.contrib.piccolo.PiccoloDTO"><code class="xref py py-class docutils literal notranslate"><span class="pre">PiccoloDTO</span></code></a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1896">litestar-org/litestar#1896</a></span></p>
</div>
</dd>
<dt>OpenAPI: Allow setting <code class="docutils literal notranslate"><span class="pre">OpenAPIController.path</span></code> from <code class="docutils literal notranslate"><span class="pre">`OpenAPIConfig</span></code><a class="headerlink reference internal" href="#2.0.0beta3-openapi: allow setting" id="2.0.0beta3-openapi: allow setting">#</a></dt><dd><div class="changelog-change docutils container">
<p><a class="reference internal" href="../reference/openapi/openapi.html#litestar.openapi.OpenAPIConfig.path" title="litestar.openapi.OpenAPIConfig.path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">path</span></code></a> has been added, which can be used
to set the <code class="docutils literal notranslate"><span class="pre">path</span></code> for <a class="reference internal" href="../reference/openapi/openapi.html#litestar.openapi.OpenAPIController" title="litestar.openapi.OpenAPIController"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpenAPIController</span></code></a> directly,
without needing to create a custom instance of it.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">path</span></code> is set in both <a class="reference internal" href="../reference/openapi/openapi.html#litestar.openapi.OpenAPIConfig" title="litestar.openapi.OpenAPIConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpenAPIConfig</span></code></a> and
<a class="reference internal" href="../reference/openapi/openapi.html#litestar.openapi.OpenAPIController" title="litestar.openapi.OpenAPIController"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpenAPIController</span></code></a>, the path set on the controller
will take precedence.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1886">litestar-org/litestar#1886</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: <code class="docutils literal notranslate"><span class="pre">auto_commit</span></code>, <code class="docutils literal notranslate"><span class="pre">auto_expunge</span></code> and <code class="docutils literal notranslate"><span class="pre">auto_refresh</span></code> options<a class="headerlink reference internal" href="#2.0.0beta3-sqlalchemy repository:" id="2.0.0beta3-sqlalchemy repository:">#</a></dt><dd><div class="changelog-change docutils container">
<p>Three new parameters have been added to the repository and various methods:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">auto_commit</span></code></dt><dd><p>When this <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, the session will
<a class="reference external" href="https://docs.sqlalchemy.org/en/20/orm/session_api.html#sqlalchemy.orm.Session.commit" title="(in SQLAlchemy v2.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">commit()</span></code></a> instead of
<a class="reference external" href="https://docs.sqlalchemy.org/en/20/orm/session_api.html#sqlalchemy.orm.Session.flush" title="(in SQLAlchemy v2.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flush()</span></code></a> before returning.</p>
<p>Available in:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.add</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.add_many</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.delete</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.delete_many</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.get_or_create</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.update</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.update_many</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.upsert</span></code></p></li>
</ul>
<p>(and their sync equivalents)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">auto_refresh</span></code></dt><dd><p>When <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, the session will execute
<a class="reference external" href="https://docs.sqlalchemy.org/en/20/orm/session_api.html#sqlalchemy.orm.Session.refresh" title="(in SQLAlchemy v2.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">refresh()</span></code></a> objects before returning.</p>
<p>Available in:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.add</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.get_or_create</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.update</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.upsert</span></code></p></li>
</ul>
<p>(and their sync equivalents)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">auto_expunge</span></code></dt><dd><p>When this is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, the session will execute
<a class="reference external" href="https://docs.sqlalchemy.org/en/20/orm/session_api.html#sqlalchemy.orm.Session.expunge" title="(in SQLAlchemy v2.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">expunge()</span></code></a> all objects before returning.</p>
<p>Available in:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.add</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.add_many</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.delete</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.delete_many</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.get</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.get_one</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.get_one_or_none</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.get_or_create</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.update</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.update_many</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.list</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~SQLAlchemyAsyncRepository.upsert</span></code></p></li>
</ul>
<p>(and their sync equivalents)</p>
</dd>
</dl>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1900">litestar-org/litestar#1900</a></span></p>
</div>
</dd>
<dt>Include path name in <code class="docutils literal notranslate"><span class="pre">ImproperlyConfiguredException</span></code> message for missing param types<a class="headerlink reference internal" href="#2.0.0beta3-include path name in" id="2.0.0beta3-include path name in">#</a></dt><dd><div class="changelog-change docutils container">
<p>The message of a <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.ImproperlyConfiguredException" title="litestar.exceptions.ImproperlyConfiguredException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImproperlyConfiguredException</span></code></a> raised when a path
parameter is missing a type now contains the name of the path.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1935">litestar-org/litestar#1935</a></span></p>
</div>
</dd>
<dt>DTO: New <code class="docutils literal notranslate"><span class="pre">include</span></code> parameter added to <code class="docutils literal notranslate"><span class="pre">DTOConfig</span></code><a class="headerlink reference internal" href="#2.0.0beta3-dto: new" id="2.0.0beta3-dto: new">#</a></dt><dd><div class="changelog-change docutils container">
<p><a class="reference internal" href="../reference/dto/config.html#litestar.dto.config.DTOConfig.include" title="litestar.dto.config.DTOConfig.include"><code class="xref py py-attr docutils literal notranslate"><span class="pre">include</span></code></a> has been added to
<a class="reference internal" href="../reference/dto/config.html#litestar.dto.config.DTOConfig" title="litestar.dto.config.DTOConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">DTOConfig</span></code></a>, providing a counterpart to
<a class="reference internal" href="../reference/dto/config.html#litestar.dto.config.DTOConfig.exclude" title="litestar.dto.config.DTOConfig.exclude"><code class="xref py py-attr docutils literal notranslate"><span class="pre">exclude</span></code></a>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">include</span></code> is provided, only those fields specified within it will be
included.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1950">litestar-org/litestar#1950</a></span></p>
</div>
</dd>
<dt>Pydantic 2 support<a class="headerlink reference internal" href="#2.0.0beta3-pydantic 2 support" id="2.0.0beta3-pydantic 2 support">#</a></dt><dd><div class="changelog-change docutils container">
<p>Pydantic 2 is now supported alongside Pydantic 1.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1956">litestar-org/litestar#1956</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0beta3-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0beta3-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>SQLAlchemy repository: Fix audit columns defaulting to app startup time<a class="headerlink reference internal" href="#2.0.0beta3-sqlalchemy repository: fix audit columns defaulting to app startup time" id="2.0.0beta3-sqlalchemy repository: fix audit columns defaulting to app startup time">#</a></dt><dd><div class="changelog-change docutils container">
<p>A bug was fixed where
<code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.base.AuditColumns.created_at</span></code> and
<code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.base.AuditColumns.updated_at</span></code> would default
to the <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> at initialization time, instead of the time
of the update.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1894">litestar-org/litestar#1894</a></span></p>
</div>
</dd>
<dt><a class="reference external" href="https://docs.advanced-alchemy.litestar.dev/latest/reference/extensions/litestar/dto.html#advanced_alchemy.extensions.litestar.dto.SQLAlchemyDTO" title="(in advanced_alchemy)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SQLAlchemyDTO</span> <span class="pre">(Advanced</span> <span class="pre">Alchemy)</span></code></a>: Fix handling of <code class="docutils literal notranslate"><span class="pre">Sequence</span></code> with defaults<a class="headerlink reference internal" href="#2.0.0beta3-sqlalchemydto (advanced alchemy)" id="2.0.0beta3-sqlalchemydto (advanced alchemy)">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixes handling of columns defined with
<a class="reference external" href="https://docs.sqlalchemy.org/en/20/core/defaults.html#defining-sequences">Sequence</a>
default values.</p>
<p>The SQLAlchemy default value for a <a class="reference external" href="https://docs.sqlalchemy.org/en/20/core/metadata.html#sqlalchemy.schema.Column" title="(in SQLAlchemy v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> will be
ignored when it is a <a class="reference external" href="https://docs.sqlalchemy.org/en/20/core/defaults.html#sqlalchemy.schema.Sequence" title="(in SQLAlchemy v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a> object. This is
because the SQLAlchemy sequence types represent server generated values, and
there is no way for us to generate a reasonable default value for that field
from it without making a database query, which is not possible deserialization.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1851">litestar-org/litestar#1851</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1883">litestar-org/litestar#1883</a></span></p>
</div>
</dd>
<dt>Allow JSON as redirect response<a class="headerlink reference internal" href="#2.0.0beta3-allow json as redirect response" id="2.0.0beta3-allow json as redirect response">#</a></dt><dd><div class="changelog-change docutils container">
<p>Enables using redirect responses with a JSON media type.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1908">litestar-org/litestar#1908</a></span></p>
</div>
</dd>
<dt>DTO / OpenAPI: Fix detection of required fields for Pydantic and msgspec DTOs<a class="headerlink reference internal" href="#2.0.0beta3-dto / openapi: fix detection of required fields for pydantic and msgspec dtos" id="2.0.0beta3-dto / openapi: fix detection of required fields for pydantic and msgspec dtos">#</a></dt><dd><div class="changelog-change docutils container">
<p>A bug was fixed that would lead to fields of a Pydantic model or msgspec Structs
being marked as not required in the generated OpenAPI schema when used with
DTOs.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1946">litestar-org/litestar#1946</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0beta3-misc">
<h3>Other changes<a class="headerlink" href="#2.0.0beta3-misc" title="Permalink to this heading">#</a></h3>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">AbstractDTOFactory</span></code> moved to <code class="docutils literal notranslate"><span class="pre">dto.factory.base</span></code><a class="headerlink reference internal" href="#2.0.0beta3-abstractdtofactory" id="2.0.0beta3-abstractdtofactory">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractDTOFactory</span></code> has moved from
<code class="docutils literal notranslate"><span class="pre">litestar.dto.factory.abc</span></code> to <code class="docutils literal notranslate"><span class="pre">litestar.dto.factory.base</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1950">litestar-org/litestar#1950</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Rename <code class="docutils literal notranslate"><span class="pre">_sentinel</span></code> column to <code class="docutils literal notranslate"><span class="pre">sa_orm_sentinel</span></code><a class="headerlink reference internal" href="#2.0.0beta3-sqlalchemy repository: rename" id="2.0.0beta3-sqlalchemy repository: rename">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">_sentinel</span></code> column of
<code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.base.UUIDPrimaryKey</span></code> has been renamed to
<code class="docutils literal notranslate"><span class="pre">sa_orm_sentinel</span></code>, to support Spanner, which does not support tables starting
with <code class="docutils literal notranslate"><span class="pre">_</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1933">litestar-org/litestar#1933</a></span></p>
</div>
</dd>
<dt>Replace <code class="docutils literal notranslate"><span class="pre">Header</span></code>, <code class="docutils literal notranslate"><span class="pre">CacheControlHeader</span></code> and <code class="docutils literal notranslate"><span class="pre">ETag</span></code> Pydantic models with dataclasses<a class="headerlink reference internal" href="#2.0.0beta3-replace" id="2.0.0beta3-replace">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>As part of the removal of Pydantic as a hard dependency, the header models
<a class="reference internal" href="../reference/datastructures/index.html#litestar.datastructures.Header" title="litestar.datastructures.Header"><code class="xref py py-class docutils literal notranslate"><span class="pre">Header</span></code></a>,
<a class="reference internal" href="../reference/datastructures/index.html#litestar.datastructures.CacheControlHeader" title="litestar.datastructures.CacheControlHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">CacheControlHeader</span></code></a> and
<a class="reference internal" href="../reference/datastructures/index.html#litestar.datastructures.ETag" title="litestar.datastructures.ETag"><code class="xref py py-class docutils literal notranslate"><span class="pre">ETag</span></code></a> have been replaced with dataclasses.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although marked breaking, this change should not affect usage unless you
relied on these being Pydantic models in some way.</p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1917">litestar-org/litestar#1917</a></span></p>
</div>
</dd>
<dt>Pydantic as an optional dependency<a class="headerlink reference internal" href="#2.0.0beta3-pydantic as an optional dependency" id="2.0.0beta3-pydantic as an optional dependency">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>As of this release, Pydantic is no longer a required dependency of Litestar.
It is still supported in the same capacity as before, but Litestar itself does
not depend on it anymore in its internals.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1963">litestar-org/litestar#1963</a></span></p>
</div>
</dd>
<dt>Deprecation of  <code class="docutils literal notranslate"><span class="pre">partial</span></code> module<a class="headerlink reference internal" href="#2.0.0beta3-deprecation of" id="2.0.0beta3-deprecation of">#</a></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">litestar.partial</span></code> and <code class="docutils literal notranslate"><span class="pre">litestar.partial.Partial</span></code> have been
deprecated and will be removed in a future release. Users are advised to upgrade
to DTOs, making use of the <a class="reference internal" href="../reference/dto/config.html#litestar.dto.config.DTOConfig" title="litestar.dto.config.DTOConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">DTOConfig</span></code></a> option
<code class="docutils literal notranslate"><span class="pre">partial=True</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/2002">litestar-org/litestar#2002</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0beta2">
<h2>2.0.0beta2<a class="headerlink" href="#2.0.0beta2" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/06/24<section id="2.0.0beta2-feature">
<h3>Features<a class="headerlink" href="#2.0.0beta2-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Support <code class="docutils literal notranslate"><span class="pre">annotated-types</span></code><a class="headerlink reference internal" href="#2.0.0beta2-support" id="2.0.0beta2-support">#</a></dt><dd><div class="changelog-change docutils container">
<p>Extended support for the
<a class="reference external" href="https://pypi.org/project/annotated-types">annotated-types</a> library is now
available.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1847">litestar-org/litestar#1847</a></span></p>
</div>
</dd>
<dt>Increased verbosity of validation error response keys<a class="headerlink reference internal" href="#2.0.0beta2-increased verbosity of validation error response keys" id="2.0.0beta2-increased verbosity of validation error response keys">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The keys in validation error responses now include the full path to the field
where the originated.</p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">source</span></code> key has been added, signifying whether the value is from
the body, a cookie, a header, or a query param.</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">before</span><a class="headerlink" href="#id13" title="Permalink to this code">#</a></div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Validation failed for POST http://localhost:8000/some-route&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;int_param&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value is not a valid integer&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;int_header&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value is not a valid integer&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;int_cookie&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value is not a valid integer&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my_value&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value is not a valid integer&quot;</span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">after</span><a class="headerlink" href="#id14" title="Permalink to this code">#</a></div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Validation failed for POST http://localhost:8000/some-route&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;extra&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;child.my_value&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value is not a valid integer&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;body&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;int_param&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value is not a valid integer&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;query&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;int_header&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value is not a valid integer&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;header&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;int_cookie&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value is not a valid integer&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cookie&quot;</span><span class="p">},</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1774">litestar-org/litestar#1774</a></span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TestClient</span></code> default timeout<a class="headerlink reference internal" href="#2.0.0beta2-testclient" id="2.0.0beta2-testclient">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>A <code class="docutils literal notranslate"><span class="pre">timeout</span></code> parameter was added to</p>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/testing.html#litestar.testing.TestClient" title="litestar.testing.TestClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestClient</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/testing.html#litestar.testing.AsyncTestClient" title="litestar.testing.AsyncTestClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">AsyncTestClient</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/testing.html#litestar.testing.create_test_client" title="litestar.testing.create_test_client"><code class="xref py py-class docutils literal notranslate"><span class="pre">create_test_client</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/testing.html#litestar.testing.create_async_test_client" title="litestar.testing.create_async_test_client"><code class="xref py py-class docutils literal notranslate"><span class="pre">create_async_test_client</span></code></a></p></li>
</ul>
<p>The value is passed down to the underlying HTTPX client and serves as a default
timeout for all requests.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1840">litestar-org/litestar#1840</a></span></p>
</div>
</dd>
<dt>SQLAlchemy DTO: Explicit error messages when type annotations for a column are missing<a class="headerlink reference internal" href="#2.0.0beta2-sqlalchemy dto: explicit error messages when type annotations for a column are missing" id="2.0.0beta2-sqlalchemy dto: explicit error messages when type annotations for a column are missing">#</a></dt><dd><div class="changelog-change docutils container">
<p>Replace the nondescript <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a> raised when a SQLAlchemy DTO is
constructed from a model that is missing a type annotation for an included
column with an <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.ImproperlyConfiguredException" title="litestar.exceptions.ImproperlyConfiguredException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImproperlyConfiguredException</span></code></a>, including an explicit error
message, pointing at the potential cause.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1852">litestar-org/litestar#1852</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0beta2-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0beta2-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Remove exception details from Internal Server Error responses<a class="headerlink reference internal" href="#2.0.0beta2-remove exception details from internal server error responses" id="2.0.0beta2-remove exception details from internal server error responses">#</a></dt><dd><div class="changelog-change docutils container">
<p>Error responses with a <code class="docutils literal notranslate"><span class="pre">500</span></code> status code will now always use
<cite>Internal Server Error</cite> as default detail.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1856">litestar-org/litestar#1856</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1857">litestar-org/litestar#1857</a></span></p>
</div>
</dd>
<dt>Pydantic v1 regex validation<a class="headerlink reference internal" href="#2.0.0beta2-pydantic v1 regex validation" id="2.0.0beta2-pydantic v1 regex validation">#</a></dt><dd><div class="changelog-change docutils container">
<p>A regression has been fixed in the Pydantic signature model logic, which was
caused by the renaming of <code class="docutils literal notranslate"><span class="pre">regex</span></code> to <code class="docutils literal notranslate"><span class="pre">pattern</span></code>, which would lead to the
<a class="reference internal" href="../reference/params.html#litestar.params.KwargDefinition.pattern" title="litestar.params.KwargDefinition.pattern"><code class="xref py py-attr docutils literal notranslate"><span class="pre">pattern</span></code></a> not being validated.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1860">litestar-org/litestar#1860</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1865">litestar-org/litestar#1865</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0beta1">
<h2>2.0.0beta1<a class="headerlink" href="#2.0.0beta1" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/06/16<section id="2.0.0beta1-feature">
<h3>Features<a class="headerlink" href="#2.0.0beta1-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Expose <code class="docutils literal notranslate"><span class="pre">ParsedType</span></code> as public API<a class="headerlink reference internal" href="#2.0.0beta1-expose" id="2.0.0beta1-expose">#</a></dt><dd><div class="changelog-change docutils container">
<p>Expose the previously private <code class="xref py py-class docutils literal notranslate"><span class="pre">litestar.typing.ParsedType</span></code>. This is
mainly indented for usage with
<a class="reference internal" href="../reference/plugins/index.html#litestar.plugins.SerializationPluginProtocol.supports_type" title="litestar.plugins.SerializationPluginProtocol.supports_type"><code class="xref py py-meth docutils literal notranslate"><span class="pre">litestar.plugins.SerializationPluginProtocol.supports_type()</span></code></a></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1677">litestar-org/litestar#1677</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1567">litestar-org/litestar#1567</a></span></p>
</div>
</dd>
<dt>Improved debugging capabilities<a class="headerlink reference internal" href="#2.0.0beta1-improved debugging capabilities" id="2.0.0beta1-improved debugging capabilities">#</a></dt><dd><div class="changelog-change docutils container">
<ul class="simple">
<li><p>A new <code class="docutils literal notranslate"><span class="pre">pdb_on_exception</span></code> parameter was added to
<a class="reference internal" href="../reference/app.html#litestar.app.Litestar" title="litestar.app.Litestar"><code class="xref py py-class docutils literal notranslate"><span class="pre">Litestar</span></code></a>. When set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, Litestar will drop into
a the Python debugger when an exception occurs. It defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">pdb_on_exception</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, setting the environment variable
<code class="docutils literal notranslate"><span class="pre">LITESTAR_PDB=1</span></code> can be used to enable this behaviour</p></li>
<li><p>When using the CLI, passing the <code class="docutils literal notranslate"><span class="pre">--pdb</span></code> flag to the <code class="docutils literal notranslate"><span class="pre">run</span></code> command will
temporarily set the environment variable <code class="docutils literal notranslate"><span class="pre">LITESTAR_PDB=1</span></code></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1742">litestar-org/litestar#1742</a></span></p>
</div>
</dd>
<dt>OpenAPI: Add <cite>operation_class</cite> argument to HTTP route handlers<a class="headerlink reference internal" href="#2.0.0beta1-openapi: add" id="2.0.0beta1-openapi: add">#</a></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">operation_class</span></code> argument was added to
<a class="reference internal" href="../reference/handlers.html#litestar.handlers.HTTPRouteHandler" title="litestar.handlers.HTTPRouteHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPRouteHandler</span></code></a> and the corresponding decorators,
allowing to override the <a class="reference internal" href="../reference/openapi/spec.html#litestar.openapi.spec.Operation" title="litestar.openapi.spec.Operation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Operation</span></code></a> class, to
enable further customization of the generated OpenAPI schema.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1732">litestar-org/litestar#1732</a></span></p>
</div>
</dd>
<dt>OpenAPI: Support nested <code class="docutils literal notranslate"><span class="pre">Literal</span></code> annotations<a class="headerlink reference internal" href="#2.0.0beta1-openapi: support nested" id="2.0.0beta1-openapi: support nested">#</a></dt><dd><div class="changelog-change docutils container">
<p>Support nested <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Literal</span></code> annotations by flattening them into
a single <code class="docutils literal notranslate"><span class="pre">Literal</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1829">litestar-org/litestar#1829</a></span></p>
</div>
</dd>
<dt>CLI: Add <code class="docutils literal notranslate"><span class="pre">--reload-dir</span></code> option to <code class="docutils literal notranslate"><span class="pre">run</span></code> command<a class="headerlink reference internal" href="#2.0.0beta1-cli: add" id="2.0.0beta1-cli: add">#</a></dt><dd><div class="changelog-change docutils container">
<p>A new <code class="docutils literal notranslate"><span class="pre">--reload-dir</span></code> option was added to the <code class="docutils literal notranslate"><span class="pre">litestar</span> <span class="pre">run</span></code> command. When
used, <code class="docutils literal notranslate"><span class="pre">--reload</span></code> is implied, and the server will watch for changes in the
given directory.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1689">litestar-org/litestar#1689</a></span></p>
</div>
</dd>
<dt>Allow extra attributes on JWTs via <code class="docutils literal notranslate"><span class="pre">extras</span></code> attribute<a class="headerlink reference internal" href="#2.0.0beta1-allow extra attributes on jwts via" id="2.0.0beta1-allow extra attributes on jwts via">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add the <code class="docutils literal notranslate"><span class="pre">litestar.contrib.jwt.Token.extras</span></code> attribute, containing extra
attributes found on the JWT.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1695">litestar-org/litestar#1695</a></span></p>
</div>
</dd>
<dt>Add default modes for <code class="docutils literal notranslate"><span class="pre">Websocket.iter_json</span></code> and <code class="docutils literal notranslate"><span class="pre">WebSocket.iter_data</span></code><a class="headerlink reference internal" href="#2.0.0beta1-add default modes for" id="2.0.0beta1-add default modes for">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a default <code class="docutils literal notranslate"><span class="pre">mode</span></code> for <a class="reference internal" href="../reference/connection.html#litestar.connection.WebSocket.iter_json" title="litestar.connection.WebSocket.iter_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iter_json()</span></code></a> and
<a class="reference internal" href="../reference/connection.html#litestar.connection.WebSocket.iter_data" title="litestar.connection.WebSocket.iter_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iter_data()</span></code></a>, with a value of <code class="docutils literal notranslate"><span class="pre">text</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1733">litestar-org/litestar#1733</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Synchronous repositories<a class="headerlink reference internal" href="#2.0.0beta1-sqlalchemy repository: synchronous repositories" id="2.0.0beta1-sqlalchemy repository: synchronous repositories">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a new synchronous repository base class:
<code class="docutils literal notranslate"><span class="pre">litestar.contrib.sqlalchemy.repository.SQLAlchemySyncRepository</span></code>,
which offer the same functionality as its asynchronous counterpart while
operating on a synchronous <a class="reference external" href="https://docs.sqlalchemy.org/en/20/orm/session_api.html#sqlalchemy.orm.Session" title="(in SQLAlchemy v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.orm.Session</span></code></a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1683">litestar-org/litestar#1683</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Oracle Database support<a class="headerlink reference internal" href="#2.0.0beta1-sqlalchemy repository: oracle database support" id="2.0.0beta1-sqlalchemy repository: oracle database support">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add support for Oracle Database via
<a class="reference external" href="https://oracle.github.io/python-oracledb/">oracledb</a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1694">litestar-org/litestar#1694</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: DuckDB support<a class="headerlink reference internal" href="#2.0.0beta1-sqlalchemy repository: duckdb support" id="2.0.0beta1-sqlalchemy repository: duckdb support">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add support for <a class="reference external" href="https://duckdb.org/">DuckDB</a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1744">litestar-org/litestar#1744</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Google Spanner support<a class="headerlink reference internal" href="#2.0.0beta1-sqlalchemy repository: google spanner support" id="2.0.0beta1-sqlalchemy repository: google spanner support">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add support for <a class="reference external" href="https://cloud.google.com/spanner">Google Spanner</a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1744">litestar-org/litestar#1744</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: JSON check constraint for Oracle Database<a class="headerlink reference internal" href="#2.0.0beta1-sqlalchemy repository: json check constraint for oracle database" id="2.0.0beta1-sqlalchemy repository: json check constraint for oracle database">#</a></dt><dd><div class="changelog-change docutils container">
<p>When using the <code class="xref py py-class docutils literal notranslate"><span class="pre">litestar.contrib.sqlalchemy.types.JsonB</span></code> type with an
Oracle Database engine, a JSON check constraint will be created for that
column.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1780">litestar-org/litestar#1780</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Remove <code class="docutils literal notranslate"><span class="pre">created</span></code> and <code class="docutils literal notranslate"><span class="pre">updated</span></code> columns<a class="headerlink reference internal" href="#2.0.0beta1-sqlalchemy repository: remove" id="2.0.0beta1-sqlalchemy repository: remove">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">created</span></code> and <code class="docutils literal notranslate"><span class="pre">updated</span></code> columns have been superseded by
<code class="docutils literal notranslate"><span class="pre">created_at</span></code> and <code class="docutils literal notranslate"><span class="pre">updated_at</span></code> respectively, to prevent name clashes.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1816">litestar-org/litestar#1816</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Add timezone aware type<a class="headerlink reference internal" href="#2.0.0beta1-sqlalchemy repository: add timezone aware type" id="2.0.0beta1-sqlalchemy repository: add timezone aware type">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>A new timezone aware type <code class="docutils literal notranslate"><span class="pre">litestar.contrib.sqlalchemy.types.DateTimeUTC</span></code>
has been added, which enforces UTC timestamps stored in the database.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1816">litestar-org/litestar#1816</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Exclude unloaded columns in <code class="docutils literal notranslate"><span class="pre">to_dict</span></code><a class="headerlink reference internal" href="#2.0.0beta1-sqlalchemy repository: exclude unloaded columns in" id="2.0.0beta1-sqlalchemy repository: exclude unloaded columns in">#</a></dt><dd><div class="changelog-change docutils container">
<p>When exporting models using the
<code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.base.CommonTableAttributes.to_dict</span></code> method,
unloaded columns will now always be excluded. This prevents implicit I/O via
lazy loading, and errors when using an asynchronous session.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1802">litestar-org/litestar#1802</a></span></p>
</div>
</dd>
<dt>DTOs: Nested keyword arguments in <code class="docutils literal notranslate"><span class="pre">.create_instance()</span></code><a class="headerlink reference internal" href="#2.0.0beta1-dtos: nested keyword arguments in" id="2.0.0beta1-dtos: nested keyword arguments in">#</a></dt><dd><div class="changelog-change docutils container">
<p>The
<code class="xref py py-meth docutils literal notranslate"><span class="pre">DTOData.create_instance</span></code>
method now supports providing values for arbitrarily nested data via kwargs
using a double-underscore syntax, for example
<code class="docutils literal notranslate"><span class="pre">data.create_instance(foo__bar=&quot;baz&quot;)</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/dto/1-abstract-dto.html#providing-values-for-nested-data"><span class="std std-ref">Providing values for nested data</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1727">litestar-org/litestar#1727</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1741">litestar-org/litestar#1741</a></span></p>
</div>
</dd>
<dt>DTOs: Hybrid properties and association proxies in
<a class="reference external" href="https://docs.advanced-alchemy.litestar.dev/latest/reference/extensions/litestar/dto.html#advanced_alchemy.extensions.litestar.dto.SQLAlchemyDTO" title="(in advanced_alchemy)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SQLAlchemyDTO</span> <span class="pre">(Advanced</span> <span class="pre">Alchemy)</span></code></a><a class="headerlink reference internal" href="#2.0.0beta1-dtos: hybrid properties and association proxies in" id="2.0.0beta1-dtos: hybrid properties and association proxies in">#</a></dt><dd><div class="changelog-change docutils container">
<p>The <a class="reference external" href="https://docs.advanced-alchemy.litestar.dev/latest/reference/extensions/litestar/dto.html#advanced_alchemy.extensions.litestar.dto.SQLAlchemyDTO" title="(in advanced_alchemy)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SQLAlchemyDTO</span> <span class="pre">(Advanced</span> <span class="pre">Alchemy)</span></code></a>
now supports <a class="reference external" href="https://docs.sqlalchemy.org/en/20/orm/extensions/hybrid.html">hybrid attribute</a>
and <a class="reference external" href="https://docs.sqlalchemy.org/en/20/orm/extensions/associationproxy.html">associationproxy</a>.</p>
<p>The generated field will be marked read-only.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1754">litestar-org/litestar#1754</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1776">litestar-org/litestar#1776</a></span></p>
</div>
</dd>
<dt>DTOs: Transfer to generic collection types<a class="headerlink reference internal" href="#2.0.0beta1-dtos: transfer to generic collection types" id="2.0.0beta1-dtos: transfer to generic collection types">#</a></dt><dd><div class="changelog-change docutils container">
<p>DTOs can now be wrapped in generic collection types such as
<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Sequence</span></code></a>. These will be substituted with a concrete and
instantiable type at run time, e.g. in the case of <code class="docutils literal notranslate"><span class="pre">Sequence</span></code> a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1763">litestar-org/litestar#1763</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1764">litestar-org/litestar#1764</a></span></p>
</div>
</dd>
<dt>DTOs: Data transfer for non-generic builtin collection annotations<a class="headerlink reference internal" href="#2.0.0beta1-dtos: data transfer for non-generic builtin collection annotations" id="2.0.0beta1-dtos: data transfer for non-generic builtin collection annotations">#</a></dt><dd><div class="changelog-change docutils container">
<p>Non-parametrized generics in annotations (e.g. <code class="docutils literal notranslate"><span class="pre">a:</span> <span class="pre">dict</span></code>) will now be inferred
as being parametrized with <code class="docutils literal notranslate"><span class="pre">Any</span></code>. <code class="docutils literal notranslate"><span class="pre">a:</span> <span class="pre">dict</span></code> is then equivalent to
<code class="docutils literal notranslate"><span class="pre">a:</span> <span class="pre">dict[Any,</span> <span class="pre">Any]</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1799">litestar-org/litestar#1799</a></span></p>
</div>
</dd>
<dt>DTOs: Exclude leading underscore fields by default<a class="headerlink reference internal" href="#2.0.0beta1-dtos: exclude leading underscore fields by default" id="2.0.0beta1-dtos: exclude leading underscore fields by default">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>Leading underscore fields will not be excluded by default. This behaviour can be
configured with the newly introduced
<code class="xref py py-attr docutils literal notranslate"><span class="pre">underscore_fields_private</span></code> configuration
value, which defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1768">litestar-org/litestar#1768</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1777">litestar-org/litestar#1777</a></span></p>
</div>
</dd>
<dt>DTOs: Msgspec and Pydantic DTO factory implementation<a class="headerlink reference internal" href="#2.0.0beta1-dtos: msgspec and pydantic dto factory implementation" id="2.0.0beta1-dtos: msgspec and pydantic dto factory implementation">#</a></dt><dd><div class="changelog-change docutils container">
<p>DTO factories for <a class="reference external" href="https://jcristharif.com/msgspec/">msgspec</a> and
<a class="reference external" href="https://docs.pydantic.dev/latest/">Pydantic</a> have been added:</p>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">MsgspecDTO</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PydanticDTO</span></code></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1531,">litestar-org/litestar#1531,</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1532">litestar-org/litestar#1532</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1712">litestar-org/litestar#1712</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0beta1-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0beta1-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Store and reuse state <cite>deep_copy</cite> directive when copying state<a class="headerlink reference internal" href="#2.0.0beta1-store and reuse state" id="2.0.0beta1-store and reuse state">#</a></dt><dd><div class="changelog-change docutils container">
<p>App state can be created using <code class="docutils literal notranslate"><span class="pre">deep_copy=False</span></code>, however state would still be
deep copied for dependency injection.</p>
<p>This was fixed memoizing the value of <code class="docutils literal notranslate"><span class="pre">deep_copy</span></code> when state is created, and
reusing it on subsequent copies.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1674">litestar-org/litestar#1674</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1678">litestar-org/litestar#1678</a></span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ParsedType.is_subclass_of(X)</span></code> <code class="docutils literal notranslate"><span class="pre">True</span></code> for union if all union types are subtypes of <code class="docutils literal notranslate"><span class="pre">X</span></code><a class="headerlink reference internal" href="#2.0.0beta1-parsedtype.is_subclass_of(x)" id="2.0.0beta1-parsedtype.is_subclass_of(x)">#</a></dt><dd><div class="changelog-change docutils container">
<p>When <code class="xref py py-class docutils literal notranslate"><span class="pre">ParsedType</span></code> was introduced,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">is_subclass_of()</span></code> any union was deliberately
left to return <code class="docutils literal notranslate"><span class="pre">False</span></code> with the intention of waiting for some use-cases to
arrive.</p>
<p>This behaviour was changed to address an issue where a handler may be typed to
return a union of multiple response types; If all response types are
<a class="reference internal" href="../reference/response/index.html#litestar.response.Response" title="litestar.response.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></a> subtypes then the correct response handler
will now be applied.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1652">litestar-org/litestar#1652</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1690">litestar-org/litestar#1690</a></span></p>
</div>
</dd>
<dt>Inconsistent template autoescape behavior<a class="headerlink reference internal" href="#2.0.0beta1-inconsistent template autoescape behavior" id="2.0.0beta1-inconsistent template autoescape behavior">#</a></dt><dd><div class="changelog-change docutils container">
<p>The mako template engine now defaults to autoescaping expressions, making it
consistent with config of Jinja template engine.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1699">litestar-org/litestar#1699</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1718">litestar-org/litestar#1718</a></span></p>
</div>
</dd>
<dt>Missing <code class="docutils literal notranslate"><span class="pre">ChannelsPlugin</span></code> in signature namespace population<a class="headerlink reference internal" href="#2.0.0beta1-missing" id="2.0.0beta1-missing">#</a></dt><dd><div class="changelog-change docutils container">
<p>The <a class="reference internal" href="../reference/channels/plugin.html#litestar.channels.plugin.ChannelsPlugin" title="litestar.channels.plugin.ChannelsPlugin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelsPlugin</span></code></a> has been added to the
signature namespace, fixing an issue where using
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">annotations</span></code> or stringized annotations would lead to
a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NameError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NameError</span></code></a>, if the plugin was not added to the signatured namespace
manually.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1691">litestar-org/litestar#1691</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1719">litestar-org/litestar#1719</a></span></p>
</div>
</dd>
<dt>Gzip middleware not sending small streaming responses<a class="headerlink reference internal" href="#2.0.0beta1-gzip middleware not sending small streaming responses" id="2.0.0beta1-gzip middleware not sending small streaming responses">#</a></dt><dd><div class="changelog-change docutils container">
<p>A bug was fixed that would cause smaller streaming responses to not be sent at
all when the <a class="reference internal" href="../reference/middleware/compression.html#litestar.middleware.compression.CompressionMiddleware" title="litestar.middleware.compression.CompressionMiddleware"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompressionMiddleware</span></code></a> was
used with <code class="docutils literal notranslate"><span class="pre">gzip</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1681">litestar-org/litestar#1681</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1723">litestar-org/litestar#1723</a></span></p>
</div>
</dd>
<dt>Premature transfer to nested models with <cite>DTOData</cite><a class="headerlink reference internal" href="#2.0.0beta1-premature transfer to nested models with" id="2.0.0beta1-premature transfer to nested models with">#</a></dt><dd><div class="changelog-change docutils container">
<p>An issue was fixed where data that should be transferred to builtin types on
instantiation of <code class="xref py py-class docutils literal notranslate"><span class="pre">DTOData</span></code> was being instantiated
into a model type for nested models.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1726">litestar-org/litestar#1726</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1731">litestar-org/litestar#1731</a></span></p>
</div>
</dd>
<dt>Incorrect <code class="docutils literal notranslate"><span class="pre">sync_to_thread</span></code> usage warnings for generator dependencies<a class="headerlink reference internal" href="#2.0.0beta1-incorrect" id="2.0.0beta1-incorrect">#</a></dt><dd><div class="changelog-change docutils container">
<p>A bug was fixed that caused incorrect warnings about missing <code class="docutils literal notranslate"><span class="pre">sync_to_thread</span></code>
usage were issues when asynchronous generators were being used as dependencies.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1711">litestar-org/litestar#1711</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1716">litestar-org/litestar#1716</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1740">litestar-org/litestar#1740</a></span></p>
</div>
</dd>
<dt>Dependency injection custom dependencies in <code class="docutils literal notranslate"><span class="pre">WebSocketListener</span></code><a class="headerlink reference internal" href="#2.0.0beta1-dependency injection custom dependencies in" id="2.0.0beta1-dependency injection custom dependencies in">#</a></dt><dd><div class="changelog-change docutils container">
<p>An issue was resolved that would cause failures when dependency injection was
being used with custom dependencies (that is, injection of things other than
<code class="docutils literal notranslate"><span class="pre">state</span></code>, <code class="docutils literal notranslate"><span class="pre">query</span></code>, path parameters, etc.) within a
<a class="reference internal" href="../reference/handlers.html#litestar.handlers.WebsocketListener" title="litestar.handlers.WebsocketListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">WebsocketListener</span></code></a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1762">litestar-org/litestar#1762</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1807">litestar-org/litestar#1807</a></span></p>
</div>
</dd>
<dt>OpenAPI schema for <code class="docutils literal notranslate"><span class="pre">Dict[K,</span> <span class="pre">V]</span></code> ignores generic<a class="headerlink reference internal" href="#2.0.0beta1-openapi schema for" id="2.0.0beta1-openapi schema for">#</a></dt><dd><div class="changelog-change docutils container">
<p>An issue with the OpenAPI schema generation was fixed that would lead to generic
arguments to <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> being ignored.</p>
<p>An type like <code class="docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">int]</span></code> now correctly renders as
<code class="docutils literal notranslate"><span class="pre">{&quot;type&quot;:</span> <span class="pre">&quot;object&quot;,</span> <span class="pre">&quot;additionalProperties&quot;:</span> <span class="pre">{</span> <span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;integer&quot;</span> <span class="pre">}}</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1795">litestar-org/litestar#1795</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1828">litestar-org/litestar#1828</a></span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">WebSocketTestSession</span></code> not timing out without when connection is not accepted<a class="headerlink reference internal" href="#2.0.0beta1-websockettestsession" id="2.0.0beta1-websockettestsession">#</a></dt><dd><div class="changelog-change docutils container">
<p>A bug was fixed that caused <a class="reference internal" href="../reference/testing.html#litestar.testing.WebSocketTestSession" title="litestar.testing.WebSocketTestSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">WebSocketTestSession</span></code></a> to
block indefinitely when if <a class="reference internal" href="../reference/connection.html#litestar.connection.WebSocket.accept" title="litestar.connection.WebSocket.accept"><code class="xref py py-meth docutils literal notranslate"><span class="pre">accept()</span></code></a> was
never called, ignoring the <code class="docutils literal notranslate"><span class="pre">timeout</span></code> parameter.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1696">litestar-org/litestar#1696</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Fix alembic migrations generated for models using <code class="docutils literal notranslate"><span class="pre">GUID</span></code><a class="headerlink reference internal" href="#2.0.0beta1-sqlalchemy repository: fix alembic migrations generated for models using" id="2.0.0beta1-sqlalchemy repository: fix alembic migrations generated for models using">#</a></dt><dd><div class="changelog-change docutils container">
<p>Migrations generated for models with a
<code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.types.GUID</span></code> type would erroneously add a
<code class="docutils literal notranslate"><span class="pre">length=16</span></code> on the input.  Since this parameter is not defined in the types
the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method. This was fixed by adding the appropriate parameter to
the types signature.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1676">litestar-org/litestar#1676</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0beta1-misc">
<h3>Other changes<a class="headerlink" href="#2.0.0beta1-misc" title="Permalink to this heading">#</a></h3>
<dl>
<dt>DTOs: Arbitrary generic wrappers<a class="headerlink reference internal" href="#2.0.0beta1-dtos: arbitrary generic wrappers" id="2.0.0beta1-dtos: arbitrary generic wrappers">#</a></dt><dd><div class="changelog-change docutils container">
<p>When a handler returns a type that is not supported by the DTO, but:</p>
<ul class="simple">
<li><p>the return type is generic</p></li>
<li><p>it has a generic type argument that is supported by the dto</p></li>
<li><p>the type argument maps to an attribute on the return type</p></li>
</ul>
<p>the DTO operations will be performed on the data retrieved from that attribute
of the instance returned from the handler, and return the instance.</p>
<p>The constraints are:</p>
<ul class="simple">
<li><p>the type returned from the handler must be a type that litestar can
natively encode</p></li>
<li><p>the annotation of the attribute that holds the data must be a type that DTOs
can otherwise manage</p></li>
</ul>
<div class="sd-tab-set docutils">
<input id="sd-tab-item-6" name="sd-tab-set-3" type="radio">
</input><label class="sd-tab-label" data-sync-id="3.8" for="sd-tab-item-6">
Python 3.8+</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">TypeVar</span>

<span class="kn">from</span> <span class="nn">typing_extensions</span> <span class="kn">import</span> <span class="n">Annotated</span>

<span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">Litestar</span><span class="p">,</span> <span class="n">get</span>
<span class="kn">from</span> <span class="nn">litestar.dto</span> <span class="kn">import</span> <span class="n">DTOConfig</span>
<span class="kn">from</span> <span class="nn">litestar.dto.factory.dataclass_factory</span> <span class="kn">import</span> <span class="n">DataclassDTO</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">User</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">age</span><span class="p">:</span> <span class="nb">int</span>


<span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>
<span class="n">V</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Wrapped</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">V</span><span class="p">]):</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]</span>
    <span class="n">other</span><span class="p">:</span> <span class="n">V</span>


<span class="nd">@get</span><span class="p">(</span><span class="n">dto</span><span class="o">=</span><span class="n">DataclassDTO</span><span class="p">[</span><span class="n">Annotated</span><span class="p">[</span><span class="n">User</span><span class="p">,</span> <span class="n">DTOConfig</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;age&quot;</span><span class="p">})]])</span>
<span class="k">def</span> <span class="nf">handler</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Wrapped</span><span class="p">[</span><span class="n">User</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">Wrapped</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">User</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;John&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">42</span><span class="p">),</span> <span class="n">User</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Jane&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">43</span><span class="p">)],</span>
        <span class="n">other</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="p">)</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">(</span><span class="n">route_handlers</span><span class="o">=</span><span class="p">[</span><span class="n">handler</span><span class="p">])</span>

<span class="c1"># GET &quot;/&quot;: {&quot;data&quot;: [{&quot;name&quot;: &quot;John&quot;}, {&quot;name&quot;: &quot;Jane&quot;}], &quot;other&quot;: 2}</span>
</pre></div>
</div>
</div>
<input checked="checked" id="sd-tab-item-7" name="sd-tab-set-3" type="radio">
</input><label class="sd-tab-label" data-sync-id="3.9" for="sd-tab-item-7">
Python 3.9+</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">TypeVar</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Annotated</span>

<span class="kn">from</span> <span class="nn">litestar</span> <span class="kn">import</span> <span class="n">Litestar</span><span class="p">,</span> <span class="n">get</span>
<span class="kn">from</span> <span class="nn">litestar.dto</span> <span class="kn">import</span> <span class="n">DTOConfig</span>
<span class="kn">from</span> <span class="nn">litestar.dto.factory.dataclass_factory</span> <span class="kn">import</span> <span class="n">DataclassDTO</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">User</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">age</span><span class="p">:</span> <span class="nb">int</span>


<span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>
<span class="n">V</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;V&quot;</span><span class="p">)</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Wrapped</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">V</span><span class="p">]):</span>
    <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span>
    <span class="n">other</span><span class="p">:</span> <span class="n">V</span>


<span class="nd">@get</span><span class="p">(</span><span class="n">dto</span><span class="o">=</span><span class="n">DataclassDTO</span><span class="p">[</span><span class="n">Annotated</span><span class="p">[</span><span class="n">User</span><span class="p">,</span> <span class="n">DTOConfig</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;age&quot;</span><span class="p">})]])</span>
<span class="k">def</span> <span class="nf">handler</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Wrapped</span><span class="p">[</span><span class="n">User</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">Wrapped</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">User</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;John&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">42</span><span class="p">),</span> <span class="n">User</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Jane&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">43</span><span class="p">)],</span>
        <span class="n">other</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="p">)</span>


<span class="n">app</span> <span class="o">=</span> <span class="n">Litestar</span><span class="p">(</span><span class="n">route_handlers</span><span class="o">=</span><span class="p">[</span><span class="n">handler</span><span class="p">])</span>

<span class="c1"># GET &quot;/&quot;: {&quot;data&quot;: [{&quot;name&quot;: &quot;John&quot;}, {&quot;name&quot;: &quot;Jane&quot;}], &quot;other&quot;: 2}</span>
</pre></div>
</div>
</div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1631,">litestar-org/litestar#1631,</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1798">litestar-org/litestar#1798</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1801">litestar-org/litestar#1801</a></span></p>
</div>
</dd>
<dt>Remove <code class="docutils literal notranslate"><span class="pre">state</span></code> parameter from <code class="docutils literal notranslate"><span class="pre">AfterExceptionHookHandler</span></code> and <code class="docutils literal notranslate"><span class="pre">BeforeMessageSendHookHandler</span></code><a class="headerlink reference internal" href="#2.0.0beta1-remove" id="2.0.0beta1-remove">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>Remove the <code class="docutils literal notranslate"><span class="pre">state</span></code> parameter from <code class="docutils literal notranslate"><span class="pre">AfterExceptionHookHandler</span></code> and
<code class="docutils literal notranslate"><span class="pre">BeforeMessageSendHookHandler</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">AfterExceptionHookHandler</span></code>s will have to be updated from</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">after_exception_handler</span><span class="p">(</span>
    <span class="n">exc</span><span class="p">:</span> <span class="ne">Exception</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="n">Scope</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">State</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>
</pre></div>
</div>
<p>to</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">after_exception_handler</span><span class="p">(</span><span class="n">exc</span><span class="p">:</span> <span class="ne">Exception</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="n">Scope</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>
</pre></div>
</div>
<p>The state can still be accessed like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">after_exception_handler</span><span class="p">(</span><span class="n">exc</span><span class="p">:</span> <span class="ne">Exception</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="n">Scope</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">scope</span><span class="p">[</span><span class="s2">&quot;app&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">state</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">BeforeMessageSendHookHandler</span></code>s will have to be updated from</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">before_send_hook_handler</span><span class="p">(</span>
    <span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">State</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="n">Scope</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>
</pre></div>
</div>
<p>to</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">before_send_hook_handler</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="n">Scope</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>
</pre></div>
</div>
<p>where state can be accessed in the same manner:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">before_send_hook_handler</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">scope</span><span class="p">:</span> <span class="n">Scope</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">scope</span><span class="p">[</span><span class="s2">&quot;app&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">state</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1739">litestar-org/litestar#1739</a></span></p>
</div>
</dd>
<dt>Removal of <code class="docutils literal notranslate"><span class="pre">dto.exceptions</span></code> module<a class="headerlink reference internal" href="#2.0.0beta1-removal of" id="2.0.0beta1-removal of">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The module <code class="docutils literal notranslate"><span class="pre">dto.exceptions</span></code> has been removed, since it was not used anymore
internally by the DTO implementations, and superseded by standard exceptions.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1773">litestar-org/litestar#1773</a></span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">BaseRouteHandler</span></code> no longer generic<a class="headerlink reference internal" href="#2.0.0beta1-baseroutehandler" id="2.0.0beta1-baseroutehandler">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p><a class="reference internal" href="../reference/handlers.html#litestar.handlers.BaseRouteHandler" title="litestar.handlers.BaseRouteHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseRouteHandler</span></code></a> was originally made generic to
support proper typing of the <code class="docutils literal notranslate"><span class="pre">ownership_layers</span></code> property, but the same effect
can now be achieved using <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Self</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1819">litestar-org/litestar#1819</a></span></p>
</div>
</dd>
<dt>Deprecation of <code class="docutils literal notranslate"><span class="pre">Litestar</span></code> parameter <code class="docutils literal notranslate"><span class="pre">preferred_validation_backend</span></code><a class="headerlink reference internal" href="#2.0.0beta1-deprecation of" id="2.0.0beta1-deprecation of">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The following changes have been made regarding the
<code class="docutils literal notranslate"><span class="pre">preferred_validation_backend</span></code>:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">preferred_validation_backend</span></code> parameter of
<a class="reference internal" href="../reference/app.html#litestar.app.Litestar" title="litestar.app.Litestar"><code class="xref py py-class docutils literal notranslate"><span class="pre">Litestar</span></code></a> has been renamed to
<code class="docutils literal notranslate"><span class="pre">_preferred_validation_backend</span></code> and deprecated. It will be removed
completely in a future version.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Litestar.preferred_validation_backend</span></code> attribute has been made private</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">preferred_validation_backend</span></code> attribute has been removed from
<a class="reference internal" href="../reference/config.html#litestar.config.app.AppConfig" title="litestar.config.app.AppConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppConfig</span></code></a></p></li>
</ul>
<p>In addition, the logic for selecting a signature validation backend has been
simplified as follows: If the preferred backend is set to <code class="docutils literal notranslate"><span class="pre">attrs</span></code>, or the
signature contains attrs types, <code class="docutils literal notranslate"><span class="pre">attrs</span></code> is selected. In all other cases,
Pydantic will be used.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1810">litestar-org/litestar#1810</a></span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Response.get_serializer</span></code> moved to <code class="docutils literal notranslate"><span class="pre">serialization.get_serializer</span></code><a class="headerlink reference internal" href="#2.0.0beta1-response.get_serializer" id="2.0.0beta1-response.get_serializer">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">Response.get_serializer()</span></code> method has been removed in favor of the
<a class="reference internal" href="../reference/serialization.html#litestar.serialization.get_serializer" title="litestar.serialization.get_serializer"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_serializer()</span></code></a> function.</p>
<p>In the previous <a class="reference internal" href="../reference/response/index.html#litestar.response.Response" title="litestar.response.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></a> implementation,
<code class="docutils literal notranslate"><span class="pre">get_serializer()</span></code> was called on the response inside the responses
<code class="docutils literal notranslate"><span class="pre">__init__</span></code>, and the merging of class-level <code class="docutils literal notranslate"><span class="pre">type_encoders</span></code> with the
<code class="docutils literal notranslate"><span class="pre">Response</span></code>s <code class="docutils literal notranslate"><span class="pre">type_encoders</span></code> occurred inside its <code class="docutils literal notranslate"><span class="pre">get_serializer</span></code>
method.</p>
<p>In the current version of <code class="docutils literal notranslate"><span class="pre">Response</span></code>, the response body is not encoded until
after the response object has been returned from the handler, and it is
converted into a low-level <a class="reference internal" href="../reference/response/base.html#litestar.response.base.ASGIResponse" title="litestar.response.base.ASGIResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ASGIResponse</span></code></a> object.
Due to this, there is still opportunity for the handler layer resolved
<code class="docutils literal notranslate"><span class="pre">type_encoders</span></code> object to be merged with the <code class="docutils literal notranslate"><span class="pre">Response</span></code> defined
<code class="docutils literal notranslate"><span class="pre">type_encoders</span></code>, making the merge inside the <code class="docutils literal notranslate"><span class="pre">Response</span></code> no longer necessary.</p>
<p>In addition, the separate <code class="docutils literal notranslate"><span class="pre">get_serializer</span></code> function greatly simplifies the
interaction between middlewares and serializers, allowing to retrieve one
independently from a <code class="docutils literal notranslate"><span class="pre">Response</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1820">litestar-org/litestar#1820</a></span></p>
</div>
</dd>
<dt>Remove response containers and introduce <code class="docutils literal notranslate"><span class="pre">ASGIResponse</span></code><a class="headerlink reference internal" href="#2.0.0beta1-remove response containers and introduce" id="2.0.0beta1-remove response containers and introduce">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>Response Containers were wrapper classes used to indicate the type of response
returned by a handler, for example <code class="docutils literal notranslate"><span class="pre">File</span></code>, <code class="docutils literal notranslate"><span class="pre">Redirect</span></code>, <code class="docutils literal notranslate"><span class="pre">Template</span></code> and
<code class="docutils literal notranslate"><span class="pre">Stream</span></code> types. These types abstracted the interface of responses from the
underlying response itself.</p>
<p>Response containers have been removed and their functionality largely merged with
that of <a class="reference internal" href="../reference/response/index.html#litestar.response.Response" title="litestar.response.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></a>. The predefined response containers
still exist functionally, as subclasses of
<a class="reference internal" href="../reference/response/index.html#litestar.response.Response" title="litestar.response.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></a> and are now located within the
<a class="reference internal" href="../reference/response/index.html#module-litestar.response" title="litestar.response"><code class="xref py py-mod docutils literal notranslate"><span class="pre">litestar.response</span></code></a> module.
In addition to the functionality of Response containers, they now also feature
all of the responses functionality, such as methods to add headers and cookies.</p>
<p>The <a class="reference internal" href="../reference/response/index.html#litestar.response.Response" title="litestar.response.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></a> class now only serves as a wrapper and
context object, and does not handle the data sending part, which has been
delegated to a newly introduced
<a class="reference internal" href="../reference/response/base.html#litestar.response.base.ASGIResponse" title="litestar.response.base.ASGIResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ASGIResponse</span></code></a>. This type (and its
subclasses) represent the response as an immutable object and are used
internally by Litestar to perform the I/O operations of the response. These can
be created and returned from handlers like any other ASGI application, however
they are low-level, and lack the utility of the higher-level response types.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1790">litestar-org/litestar#1790</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0alpha7">
<h2>2.0.0alpha7<a class="headerlink" href="#2.0.0alpha7" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/05/14<section id="2.0.0alpha7-feature">
<h3>Features<a class="headerlink" href="#2.0.0alpha7-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Warn about sync callables in route handlers and dependencies without an explicit <code class="docutils literal notranslate"><span class="pre">sync_to_thread</span></code> value<a class="headerlink reference internal" href="#2.0.0alpha7-warn about sync callables in route handlers and dependencies without an explicit" id="2.0.0alpha7-warn about sync callables in route handlers and dependencies without an explicit">#</a></dt><dd><div class="changelog-change docutils container">
<p>A warning will now be raised when a synchronous callable is being used in an
<a class="reference internal" href="../reference/handlers.html#litestar.handlers.HTTPRouteHandler" title="litestar.handlers.HTTPRouteHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPRouteHandler</span></code></a> or <a class="reference internal" href="../reference/di.html#litestar.di.Provide" title="litestar.di.Provide"><code class="xref py py-class docutils literal notranslate"><span class="pre">Provide</span></code></a>, without setting
<code class="docutils literal notranslate"><span class="pre">sync_to_thread</span></code>. This is to ensure that synchronous callables are handled
properly, and to prevent accidentally using callables which might block the main
thread.</p>
<p>This warning can be turned off globally by setting the environment variable
<code class="docutils literal notranslate"><span class="pre">LITESTAR_WARN_IMPLICIT_SYNC_TO_THREAD=0</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../topics/sync-vs-async.html"><span class="doc">Sync vs. Async</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1648">litestar-org/litestar#1648</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1655">litestar-org/litestar#1655</a></span></p>
</div>
</dd>
<dt>Warn about <code class="docutils literal notranslate"><span class="pre">sync_to_thread</span></code> with async callables<a class="headerlink reference internal" href="#2.0.0alpha7-warn about" id="2.0.0alpha7-warn about">#</a></dt><dd><div class="changelog-change docutils container">
<p>A warning will be raised when <code class="docutils literal notranslate"><span class="pre">sync_to_thread</span></code> is being used in
<a class="reference internal" href="../reference/handlers.html#litestar.handlers.HTTPRouteHandler" title="litestar.handlers.HTTPRouteHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPRouteHandler</span></code></a> or <a class="reference internal" href="../reference/di.html#litestar.di.Provide" title="litestar.di.Provide"><code class="xref py py-class docutils literal notranslate"><span class="pre">Provide</span></code></a> with an
asynchronous callable, as this will have no effect.</p>
<p>This warning can be turned off globally by setting the environment variable
<code class="docutils literal notranslate"><span class="pre">LITESTAR_WARN_SYNC_TO_THREAD_WITH_ASYNC=0</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1664">litestar-org/litestar#1664</a></span></p>
</div>
</dd>
<dt>WebSockets: Dependencies in listener hooks<a class="headerlink reference internal" href="#2.0.0alpha7-websockets: dependencies in listener hooks" id="2.0.0alpha7-websockets: dependencies in listener hooks">#</a></dt><dd><div class="changelog-change docutils container">
<p>Dependencies can now be used in the
<a class="reference internal" href="../reference/handlers.html#litestar.handlers.websocket_listener" title="litestar.handlers.websocket_listener"><code class="xref py py-class docutils literal notranslate"><span class="pre">websocket_listener</span></code></a> hooks
<code class="docutils literal notranslate"><span class="pre">on_accept</span></code>, <code class="docutils literal notranslate"><span class="pre">on_disconnect</span></code> and the <code class="docutils literal notranslate"><span class="pre">connection_lifespan</span></code> context
manager. The <code class="docutils literal notranslate"><span class="pre">socket</span></code> parameter is therefore also not mandatory anymore in
those callables.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1647">litestar-org/litestar#1647</a></span></p>
</div>
</dd>
<dt>Declaring dependencies without <code class="docutils literal notranslate"><span class="pre">Provide</span></code><a class="headerlink reference internal" href="#2.0.0alpha7-declaring dependencies without" id="2.0.0alpha7-declaring dependencies without">#</a></dt><dd><div class="changelog-change docutils container">
<p>Dependencies can now be declared without using <a class="reference internal" href="../reference/di.html#litestar.di.Provide" title="litestar.di.Provide"><code class="xref py py-class docutils literal notranslate"><span class="pre">Provide</span></code></a>.
The callables can be passed directly to the <code class="docutils literal notranslate"><span class="pre">dependencies</span></code> dictionary.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1647">litestar-org/litestar#1647</a></span></p>
</div>
</dd>
<dt>Add <code class="docutils literal notranslate"><span class="pre">DTOData</span></code> to receive unstructured but validated DTO data<a class="headerlink reference internal" href="#2.0.0alpha7-add" id="2.0.0alpha7-add">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">DTOData</span></code> is a datastructure for interacting with
DTO validated data in its unstructured form.</p>
<p>This utility is to support the case where the amount of data that is available
from the client request is not complete enough to instantiate an instance of the
model that would otherwise be injected.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1650">litestar-org/litestar#1650</a></span></p>
</div>
</dd>
<dt>Partial DTOs<a class="headerlink reference internal" href="#2.0.0alpha7-partial dtos" id="2.0.0alpha7-partial dtos">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a <code class="docutils literal notranslate"><span class="pre">partial</span></code> flag to <code class="xref py py-class docutils literal notranslate"><span class="pre">DTOConfig</span></code>, making all
DTO fields options. Subsequently, any unset values will be filtered when
extracting data from transfer models.</p>
<p>This allows for example to use a to handle PATCH requests more easily.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1651">litestar-org/litestar#1651</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: <code class="docutils literal notranslate"><span class="pre">psycopg</span></code> asyncio support<a class="headerlink reference internal" href="#2.0.0alpha7-sqlalchemy repository:" id="2.0.0alpha7-sqlalchemy repository:">#</a></dt><dd><div class="changelog-change docutils container">
<p>Async <a class="reference external" href="https://www.psycopg.org/">psycopg</a> is now officially supported and
tested for the SQLAlchemy repository.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1657">litestar-org/litestar#1657</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: <code class="docutils literal notranslate"><span class="pre">BigIntPrimaryKey</span></code> mixin<a class="headerlink reference internal" href="#2.0.0alpha7-sqlalchemy repository:" id="2.0.0alpha7-sqlalchemy repository:">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.base.BigIntPrimaryKey</span></code> mixin, providing a
<code class="docutils literal notranslate"><span class="pre">BigInt</span></code> primary key column, with a fallback to <code class="docutils literal notranslate"><span class="pre">Integer</span></code> for sqlite.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1657">litestar-org/litestar#1657</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Store GUIDs as binary on databases that dont have a native GUID type<a class="headerlink reference internal" href="#2.0.0alpha7-sqlalchemy repository: store guids as binary on databases that don't have a native guid type" id="2.0.0alpha7-sqlalchemy repository: store guids as binary on databases that don't have a native guid type">#</a></dt><dd><div class="changelog-change docutils container">
<p>On databases without native support for GUIDs,
<code class="docutils literal notranslate"><span class="pre">~litestar.contrib.sqlalchemy.types.GUID</span></code> will now fall back to
<code class="docutils literal notranslate"><span class="pre">BINARY(16)</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1657">litestar-org/litestar#1657</a></span></p>
</div>
</dd>
<dt>Application lifespan context managers<a class="headerlink reference internal" href="#2.0.0alpha7-application lifespan context managers" id="2.0.0alpha7-application lifespan context managers">#</a></dt><dd><div class="changelog-change docutils container">
<p>A new <code class="docutils literal notranslate"><span class="pre">lifespan</span></code> argument has been added to <a class="reference internal" href="../reference/app.html#litestar.app.Litestar" title="litestar.app.Litestar"><code class="xref py py-class docutils literal notranslate"><span class="pre">Litestar</span></code></a>,
accepting an asynchronous context manager, wrapping the lifespan of the
application. It will be entered with the startup phase and exited on shutdown,
providing functionality equal to the <code class="docutils literal notranslate"><span class="pre">on_startup</span></code> and <code class="docutils literal notranslate"><span class="pre">on_shutdown</span></code> hooks.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1635">litestar-org/litestar#1635</a></span></p>
</div>
</dd>
<dt>Unify application lifespan hooks: Remove <code class="docutils literal notranslate"><span class="pre">before_</span></code> and <code class="docutils literal notranslate"><span class="pre">after_</span></code><a class="headerlink reference internal" href="#2.0.0alpha7-unify application lifespan hooks: remove" id="2.0.0alpha7-unify application lifespan hooks: remove">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The following application lifespan hooks have been removed:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">before_startup</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">after_startup</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">before_shutdown</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">after_shutdown</span></code></p></li>
</ul>
<p>The remaining hooks <code class="docutils literal notranslate"><span class="pre">on_startup</span></code> and <code class="docutils literal notranslate"><span class="pre">on_shutdown</span></code> will now receive as their
optional first argument the <a class="reference internal" href="../reference/app.html#litestar.app.Litestar" title="litestar.app.Litestar"><code class="xref py py-class docutils literal notranslate"><span class="pre">Litestar</span></code></a> application instead
of the applications state.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1663">litestar-org/litestar#1663</a></span></p>
</div>
</dd>
<dt>Trio-compatible event emitter<a class="headerlink reference internal" href="#2.0.0alpha7-trio-compatible event emitter" id="2.0.0alpha7-trio-compatible event emitter">#</a></dt><dd><div class="changelog-change docutils container">
<p>The default <a class="reference internal" href="../reference/events.html#litestar.events.SimpleEventEmitter" title="litestar.events.emitter.SimpleEventEmitter"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleEventEmitter</span></code></a> is now
compatible with <a class="reference external" href="https://trio.readthedocs.io/en/stable/">trio</a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1666">litestar-org/litestar#1666</a></span></p>
</div>
</dd>
<dt>OpenAPI: Support <code class="docutils literal notranslate"><span class="pre">msgspec.Meta</span></code><a class="headerlink reference internal" href="#2.0.0alpha7-openapi: support" id="2.0.0alpha7-openapi: support">#</a></dt><dd><div class="changelog-change docutils container">
<p><a class="reference external" href="https://jcristharif.com/msgspec/api.html#msgspec.Meta" title="(in msgspec)"><code class="xref py py-class docutils literal notranslate"><span class="pre">msgspec.Meta</span></code></a> is now fully supported for OpenAPI schema generation.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1669">litestar-org/litestar#1669</a></span></p>
</div>
</dd>
<dt>OpenAPI: Support Pydantic <code class="docutils literal notranslate"><span class="pre">FieldInfo</span></code><a class="headerlink reference internal" href="#2.0.0alpha7-openapi: support pydantic" id="2.0.0alpha7-openapi: support pydantic">#</a></dt><dd><div class="changelog-change docutils container">
<p>Pydantics <code class="docutils literal notranslate"><span class="pre">FieldInfo</span></code> (<code class="docutils literal notranslate"><span class="pre">regex</span></code>, <code class="docutils literal notranslate"><span class="pre">gt</span></code>, <code class="docutils literal notranslate"><span class="pre">title</span></code>, etc.) now have full
support for OpenAPI schema generation.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1541">litestar-org/litestar#1541</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1670">litestar-org/litestar#1670</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0alpha7-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0alpha7-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>OpenAPI: Fix name collision in DTO models<a class="headerlink reference internal" href="#2.0.0alpha7-openapi: fix name collision in dto models" id="2.0.0alpha7-openapi: fix name collision in dto models">#</a></dt><dd><div class="changelog-change docutils container">
<p>A bug was fixed that would lead to name collisions in the OpenAPI schema when
using DTOs with the same class name. DTOs now include a short 8 byte random
string in their generated name to prevent this.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1643">litestar-org/litestar#1643</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1649">litestar-org/litestar#1649</a></span></p>
</div>
</dd>
<dt>Fix validated attrs model being injected as a dictionary<a class="headerlink reference internal" href="#2.0.0alpha7-fix validated attrs model being injected as a dictionary" id="2.0.0alpha7-fix validated attrs model being injected as a dictionary">#</a></dt><dd><div class="changelog-change docutils container">
<p>A bug was fixed that would lead to an attrs model used to validate a route
handlers <code class="docutils literal notranslate"><span class="pre">data</span></code> not being injected itself but as a dictionary representation.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1643">litestar-org/litestar#1643</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1668">litestar-org/litestar#1668</a></span></p>
</div>
</dd>
<dt>Validate unknown media types<a class="headerlink reference internal" href="#2.0.0alpha7-validate unknown media types" id="2.0.0alpha7-validate unknown media types">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>An unknown media type in places where Litestar cant infer the type from the
return annotation, an <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.ImproperlyConfiguredException" title="litestar.exceptions.ImproperlyConfiguredException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImproperlyConfiguredException</span></code></a> will now be raised.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1446">litestar-org/litestar#1446</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1671">litestar-org/litestar#1671</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0alpha6">
<h2>2.0.0alpha6<a class="headerlink" href="#2.0.0alpha6" title="Permalink to this heading">#</a></h2>
<strong>Released: </strong>2023/05/09<section id="2.0.0alpha6-feature">
<h3>Features<a class="headerlink" href="#2.0.0alpha6-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Add <code class="docutils literal notranslate"><span class="pre">connection_accept_handler</span></code> to <code class="docutils literal notranslate"><span class="pre">websocket_listener</span></code><a class="headerlink reference internal" href="#2.0.0alpha6-add" id="2.0.0alpha6-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a new <code class="docutils literal notranslate"><span class="pre">connection_accept_handler</span></code> parameter to
<a class="reference internal" href="../reference/handlers.html#litestar.handlers.websocket_listener" title="litestar.handlers.websocket_listener"><code class="xref py py-class docutils literal notranslate"><span class="pre">websocket_listener</span></code></a>,
which can be used to customize how a connection is accepted, for example to
add headers or subprotocols</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1571">litestar-org/litestar#1571</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1572">litestar-org/litestar#1572</a></span></p>
</div>
</dd>
<dt>Testing: Add <code class="docutils literal notranslate"><span class="pre">block</span></code> and <code class="docutils literal notranslate"><span class="pre">timeout</span></code> parameters to <code class="docutils literal notranslate"><span class="pre">WebSocketTestSession</span></code> receive methods<a class="headerlink reference internal" href="#2.0.0alpha6-testing: add" id="2.0.0alpha6-testing: add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Two parameters, <code class="docutils literal notranslate"><span class="pre">block</span></code> and <code class="docutils literal notranslate"><span class="pre">timeout</span></code> have been added to the following methods:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/testing.html#litestar.testing.WebSocketTestSession.receive" title="litestar.testing.WebSocketTestSession.receive"><code class="xref py py-meth docutils literal notranslate"><span class="pre">receive</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/testing.html#litestar.testing.WebSocketTestSession.receive_text" title="litestar.testing.WebSocketTestSession.receive_text"><code class="xref py py-meth docutils literal notranslate"><span class="pre">receive_text</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/testing.html#litestar.testing.WebSocketTestSession.receive_bytes" title="litestar.testing.WebSocketTestSession.receive_bytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">receive_bytes</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/testing.html#litestar.testing.WebSocketTestSession.receive_json" title="litestar.testing.WebSocketTestSession.receive_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">receive_json</span></code></a></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1593">litestar-org/litestar#1593</a></span></p>
</div>
</dd>
<dt>CLI: Add <code class="docutils literal notranslate"><span class="pre">--app-dir</span></code> option to root command<a class="headerlink reference internal" href="#2.0.0alpha6-cli: add" id="2.0.0alpha6-cli: add">#</a></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">--app-dir</span></code> option was added to the root CLI command, allowing to set the
run applications from a path thats not the current working directory.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1506">litestar-org/litestar#1506</a></span></p>
</div>
</dd>
<dt>WebSockets: Data iterators<a class="headerlink reference internal" href="#2.0.0alpha6-websockets: data iterators" id="2.0.0alpha6-websockets: data iterators">#</a></dt><dd><div class="changelog-change docutils container">
<p>Two new methods were added to the <a class="reference internal" href="../reference/connection.html#litestar.connection.WebSocket" title="litestar.connection.WebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">WebSocket</span></code></a>
connection, which allow to continuously receive data and iterate over it:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/connection.html#litestar.connection.WebSocket.iter_data" title="litestar.connection.WebSocket.iter_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iter_data</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/connection.html#litestar.connection.WebSocket.iter_json" title="litestar.connection.WebSocket.iter_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iter_json</span></code></a></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1626">litestar-org/litestar#1626</a></span></p>
</div>
</dd>
<dt>WebSockets: MessagePack support<a class="headerlink reference internal" href="#2.0.0alpha6-websockets: messagepack support" id="2.0.0alpha6-websockets: messagepack support">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add support for <a class="reference external" href="https://msgpack.org/index.html">MessagePack</a> to the
<a class="reference internal" href="../reference/connection.html#litestar.connection.WebSocket" title="litestar.connection.WebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">WebSocket</span></code></a> connection.</p>
<p>Three new methods have been added for handling MessagePack:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/connection.html#litestar.connection.WebSocket.send_msgpack" title="litestar.connection.WebSocket.send_msgpack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">send_msgpack</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/connection.html#litestar.connection.WebSocket.receive_msgpack" title="litestar.connection.WebSocket.receive_msgpack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">receive_msgpack</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/connection.html#litestar.connection.WebSocket.iter_msgpack" title="litestar.connection.WebSocket.iter_msgpack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iter_msgpack</span></code></a></p></li>
</ul>
<p>In addition, two MessagePack related methods were added to
<a class="reference internal" href="../reference/testing.html#litestar.testing.WebSocketTestSession" title="litestar.testing.WebSocketTestSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">WebSocketTestSession</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/testing.html#litestar.testing.WebSocketTestSession.send_msgpack" title="litestar.testing.WebSocketTestSession.send_msgpack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">send_msgpack</span></code></a></p></li>
<li><p><a class="reference internal" href="../reference/testing.html#litestar.testing.WebSocketTestSession.receive_msgpack" title="litestar.testing.WebSocketTestSession.receive_msgpack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">receive_msgpack</span></code></a></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1626">litestar-org/litestar#1626</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Add support for sentinel column<a class="headerlink reference internal" href="#2.0.0alpha6-sqlalchemy repository: add support for sentinel column" id="2.0.0alpha6-sqlalchemy repository: add support for sentinel column">#</a></dt><dd><div class="changelog-change docutils container">
<p>This change adds support for <code class="docutils literal notranslate"><span class="pre">sentinel</span> <span class="pre">column</span></code> feature added in <code class="docutils literal notranslate"><span class="pre">sqlalchemy</span></code>
2.0.10. Without it, there are certain cases where <code class="docutils literal notranslate"><span class="pre">add_many</span></code> raises an
exception.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">_sentinel</span></code> value added to the declarative base should be excluded from
normal select operations automatically and is excluded in the <code class="docutils literal notranslate"><span class="pre">to_dict</span></code>
methods.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1603">litestar-org/litestar#1603</a></span></p>
</div>
</dd>
<dt>DTO: Alias generator for field names<a class="headerlink reference internal" href="#2.0.0alpha6-dto: alias generator for field names" id="2.0.0alpha6-dto: alias generator for field names">#</a></dt><dd><div class="changelog-change docutils container">
<p>A new argument <code class="docutils literal notranslate"><span class="pre">rename_strategy</span></code> has been added to the <code class="xref py py-class docutils literal notranslate"><span class="pre">DTOConfig</span></code>,
allowing to remap field names with strategies such as camelize.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1590">litestar-org/litestar#1590</a></span></p>
</div>
</dd>
<dt>DTO: Nested field exclusion<a class="headerlink reference internal" href="#2.0.0alpha6-dto: nested field exclusion" id="2.0.0alpha6-dto: nested field exclusion">#</a></dt><dd><div class="changelog-change docutils container">
<p>This feature adds support for excluding nested model fields using dot-notation,
e.g., <code class="docutils literal notranslate"><span class="pre">&quot;a.b&quot;</span></code> excludes field <code class="docutils literal notranslate"><span class="pre">b</span></code> from nested model field <code class="docutils literal notranslate"><span class="pre">a</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1197">litestar-org/litestar#1197</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1596">litestar-org/litestar#1596</a></span></p>
</div>
</dd>
<dt>WebSockets: Managing a sockets lifespan using a context manager in websocket listeners<a class="headerlink reference internal" href="#2.0.0alpha6-websockets: managing a socket's lifespan using a context manager in websocket listeners" id="2.0.0alpha6-websockets: managing a socket's lifespan using a context manager in websocket listeners">#</a></dt><dd><div class="changelog-change docutils container">
<p>Changes the way a sockets lifespan - accepting the connection and calling the
appropriate event hooks - to use a context manager.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">connection_lifespan</span></code> argument was added to the
<a class="reference internal" href="../reference/handlers.html#litestar.handlers.websocket_listener" title="litestar.handlers.websocket_listener"><code class="xref py py-class docutils literal notranslate"><span class="pre">WebSocketListener</span></code></a>, which accepts
an asynchronous context manager, which can be used to handle the lifespan of
the socket.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1625">litestar-org/litestar#1625</a></span></p>
</div>
</dd>
<dt>New module: Channels<a class="headerlink reference internal" href="#2.0.0alpha6-new module: channels" id="2.0.0alpha6-new module: channels">#</a></dt><dd><div class="changelog-change docutils container">
<p>A new module <a class="reference internal" href="../usage/channels.html"><span class="doc">channels</span></a> has been added: A general purpose
event streaming library, which can for example be used to broadcast messages
via WebSockets.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1587">litestar-org/litestar#1587</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0alpha6-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0alpha6-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Relax typing of <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> in <code class="docutils literal notranslate"><span class="pre">ASGIConnection.url_for</span></code><a class="headerlink reference internal" href="#2.0.0alpha6-relax typing of" id="2.0.0alpha6-relax typing of">#</a></dt><dd><div class="changelog-change docutils container">
<p>Change the typing of the <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> in
<a class="reference internal" href="../reference/connection.html#litestar.connection.ASGIConnection.url_for" title="litestar.connection.ASGIConnection.url_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ASGIConnection.url_for</span></code></a> from
<code class="docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> to <code class="docutils literal notranslate"><span class="pre">Any</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1610">litestar-org/litestar#1610</a></span></p>
</div>
</dd>
<dt>Fix: Using <code class="docutils literal notranslate"><span class="pre">websocket_listener</span></code> in controller causes <code class="docutils literal notranslate"><span class="pre">TypeError</span></code><a class="headerlink reference internal" href="#2.0.0alpha6-fix: using" id="2.0.0alpha6-fix: using">#</a></dt><dd><div class="changelog-change docutils container">
<p>A bug was fixed that would cause a type error when using a
<a class="reference internal" href="../reference/handlers.html#litestar.handlers.websocket_listener" title="litestar.handlers.websocket_listener"><code class="xref py py-class docutils literal notranslate"><span class="pre">websocket_listener</span></code></a>
in a <code class="docutils literal notranslate"><span class="pre">Controller</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1615">litestar-org/litestar#1615</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1627">litestar-org/litestar#1627</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0alpha6-misc">
<h3>Other changes<a class="headerlink" href="#2.0.0alpha6-misc" title="Permalink to this heading">#</a></h3>
<dl>
<dt>DTO: Undocumented <code class="docutils literal notranslate"><span class="pre">dto.factory.backends</span></code> has been made private<a class="headerlink reference internal" href="#2.0.0alpha6-dto: undocumented" id="2.0.0alpha6-dto: undocumented">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The undocumented <code class="docutils literal notranslate"><span class="pre">dto.factory.backends</span></code> module has been made private</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1589">litestar-org/litestar#1589</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0alpha5">
<h2>2.0.0alpha5<a class="headerlink" href="#2.0.0alpha5" title="Permalink to this heading">#</a></h2>
<section id="2.0.0alpha5-feature">
<h3>Features<a class="headerlink" href="#2.0.0alpha5-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Pass template context to HTMX template response<a class="headerlink reference internal" href="#2.0.0alpha5-pass template context to htmx template response" id="2.0.0alpha5-pass template context to htmx template response">#</a></dt><dd><div class="changelog-change docutils container">
<p>Pass the template context to the <code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code> returned by
<a class="reference internal" href="../reference/contrib/htmx.html#module-litestar.contrib.htmx.response" title="litestar.contrib.htmx.response"><code class="xref py py-class docutils literal notranslate"><span class="pre">htmx.Response</span></code></a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1488">litestar-org/litestar#1488</a></span></p>
</div>
</dd>
<dt>OpenAPI support for attrs and msgspec classes<a class="headerlink reference internal" href="#2.0.0alpha5-openapi support for attrs and msgspec classes" id="2.0.0alpha5-openapi support for attrs and msgspec classes">#</a></dt><dd><div class="changelog-change docutils container">
<p>Support OpenAPI schema generation for <a class="reference external" href="https://www.attrs.org">attrs</a> classes and
<a class="reference external" href="https://jcristharif.com/msgspec/">msgspec</a> <code class="docutils literal notranslate"><span class="pre">Struct</span></code>s.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1487">litestar-org/litestar#1487</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Add <code class="docutils literal notranslate"><span class="pre">ModelProtocol</span></code><a class="headerlink reference internal" href="#2.0.0alpha5-sqlalchemy repository: add" id="2.0.0alpha5-sqlalchemy repository: add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a new class <code class="docutils literal notranslate"><span class="pre">contrib.sqlalchemy.base.ModelProtocol</span></code>, serving as a generic model base type, allowing to
specify custom base classes while preserving typing information</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1503">litestar-org/litestar#1503</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Support MySQL/MariaDB<a class="headerlink reference internal" href="#2.0.0alpha5-sqlalchemy repository: support mysql/mariadb" id="2.0.0alpha5-sqlalchemy repository: support mysql/mariadb">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add support for MySQL/MariaDB to the SQLAlchemy repository, using the
<a class="reference external" href="https://github.com/long2ice/asyncmy">asyncmy</a> driver.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1345">litestar-org/litestar#1345</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Support MySQL/MariaDB<a class="headerlink reference internal" href="#2.0.0alpha5-sqlalchemy repository: support mysql/mariadb" id="2.0.0alpha5-sqlalchemy repository: support mysql/mariadb">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add support for MySQL/MariaDB to the SQLAlchemy repository, using the
<a class="reference external" href="https://github.com/long2ice/asyncmy">asyncmy</a> driver.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1345">litestar-org/litestar#1345</a></span></p>
</div>
</dd>
<dt>SQLAlchemy repository: Add matching logic to <code class="docutils literal notranslate"><span class="pre">get_or_create</span></code><a class="headerlink reference internal" href="#2.0.0alpha5-sqlalchemy repository: add matching logic to" id="2.0.0alpha5-sqlalchemy repository: add matching logic to">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a <code class="docutils literal notranslate"><span class="pre">match_fields</span></code> argument to
<code class="docutils literal notranslate"><span class="pre">litestar.contrib.sqlalchemy.repository.SQLAlchemyAsyncRepository.get_or_create</span></code>.
This lets you lookup a model using a subset of the kwargs youve provided. If the remaining kwargs are different
from the retrieved models stored values, an update is performed.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1345">litestar-org/litestar#1345</a></span></p>
</div>
</dd>
<dt>Repository: Extend filter types<a class="headerlink reference internal" href="#2.0.0alpha5-repository: extend filter types" id="2.0.0alpha5-repository: extend filter types">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add new filters <code class="docutils literal notranslate"><span class="pre">litestar.contrib.repository.filters.OrderBy</span></code> and
<code class="docutils literal notranslate"><span class="pre">litestar.contrib.repository.filters.SearchFilter</span></code>, providing <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span> <span class="pre">...</span></code> and
<code class="docutils literal notranslate"><span class="pre">LIKE</span> <span class="pre">...</span></code> / <code class="docutils literal notranslate"><span class="pre">ILIKE</span> <span class="pre">...</span></code> clauses respectively</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1345">litestar-org/litestar#1345</a></span></p>
</div>
</dd>
<dt>DTO: Add <code class="docutils literal notranslate"><span class="pre">AbstractDTOFactory</span></code> and backends<a class="headerlink reference internal" href="#2.0.0alpha5-dto: add" id="2.0.0alpha5-dto: add">#</a></dt><dd><div class="changelog-change docutils container">
<p>An all-new DTO implementation was added, using <code class="docutils literal notranslate"><span class="pre">AbstractDTOFactory</span></code> as a base class, providing Pydantic and
msgspec backends to facilitate (de)serialization and validation.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1461">litestar-org/litestar#1461</a></span></p>
</div>
</dd>
<dt>WebSockets: Support DTOs in listeners<a class="headerlink reference internal" href="#2.0.0alpha5-websockets: support dtos in listeners" id="2.0.0alpha5-websockets: support dtos in listeners">#</a></dt><dd><div class="changelog-change docutils container">
<p>Support for DTOs has been added to <a class="reference internal" href="../reference/handlers.html#litestar.handlers.WebsocketListener" title="litestar.handlers.WebsocketListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">WebSocketListener</span></code></a> and
<a class="reference internal" href="../reference/handlers.html#litestar.handlers.websocket_listener" title="litestar.handlers.websocket_listener"><code class="xref py py-class docutils literal notranslate"><span class="pre">WebSocketListener</span></code></a>. A <code class="docutils literal notranslate"><span class="pre">dto</span></code> and <code class="docutils literal notranslate"><span class="pre">return_dto</span></code> parameter has
been added, providing the same functionality as their route handler counterparts.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1518">litestar-org/litestar#1518</a></span></p>
</div>
</dd>
<dt>DTO based serialization plugin<a class="headerlink reference internal" href="#2.0.0alpha5-dto based serialization plugin" id="2.0.0alpha5-dto based serialization plugin">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p><a class="reference internal" href="../reference/plugins/index.html#litestar.plugins.SerializationPluginProtocol" title="litestar.plugins.SerializationPluginProtocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">SerializationPluginProtocol</span></code></a> has been re-implemented,
leveraging the new <code class="xref py py-class docutils literal notranslate"><span class="pre">DTOInterface</span></code>.</p>
<p>If a handler defines a plugin supported type as either the <code class="docutils literal notranslate"><span class="pre">data</span></code> kwarg type annotation, or as the return
annotation for a handler function, and no DTO has otherwise been resolved to handle the type, the protocol
creates a DTO implementation to represent that type which is then used to de-serialize into, and serialize from
instances of that supported type.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <a class="reference external" href="https://piccolo-orm.com/">Piccolo ORM</a> and <a class="reference external" href="https://tortoise.github.io/">Tortoise ORM</a> plugins have
been removed by this change, but will be re-implemented using the new patterns in a future release leading
up to the 2.0 release.</p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1501">litestar-org/litestar#1501</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0alpha5-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0alpha5-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix inconsistent parsing of unix timestamp between Pydantic and cattrs<a class="headerlink reference internal" href="#2.0.0alpha5-fix inconsistent parsing of unix timestamp between pydantic and cattrs" id="2.0.0alpha5-fix inconsistent parsing of unix timestamp between pydantic and cattrs">#</a></dt><dd><div class="changelog-change docutils container">
<p>Timestamps parsed as <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">date</span></code></a> with Pydantic return a UTC date, while cattrs implementation
return a date with the local timezone.</p>
<p>This was corrected by forcing dates to UTC when being parsed by attrs.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1491">litestar-org/litestar#1491</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1492">litestar-org/litestar#1492</a></span></p>
</div>
</dd>
<dt>Fix: Retrieve type hints from class with no <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method causes error<a class="headerlink reference internal" href="#2.0.0alpha5-fix: retrieve type hints from class with no" id="2.0.0alpha5-fix: retrieve type hints from class with no">#</a></dt><dd><div class="changelog-change docutils container">
<p>An error would occur when using a callable without an <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#object.__init__" title="(in Python v3.13)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">object.__init__()</span></code></a> method was used in a placed that
would cause it to be inspected (such as a route handlers signature).</p>
<p>This was caused by trying to access the <code class="docutils literal notranslate"><span class="pre">__module__</span></code> attribute of <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#object.__init__" title="(in Python v3.13)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">object.__init__()</span></code></a>, which would fail
with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;wrapper_descriptor&#39;</span> <span class="nb">object</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s1">&#39;__module__&#39;</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1504">litestar-org/litestar#1504</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1505">litestar-org/litestar#1505</a></span></p>
</div>
</dd>
<dt>Fix error raised for partially installed attrs dependencies<a class="headerlink reference internal" href="#2.0.0alpha5-fix error raised for partially installed attrs dependencies" id="2.0.0alpha5-fix error raised for partially installed attrs dependencies">#</a></dt><dd><div class="changelog-change docutils container">
<p>An error was fixed that would cause a <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.MissingDependencyException" title="litestar.exceptions.MissingDependencyException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">MissingDependencyException</span></code></a> to be raised when dependencies for
<a class="reference external" href="https://www.attrs.org">attrs</a> were partially installed. This was fixed by being more specific about the
missing dependencies in the error messages.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1543">litestar-org/litestar#1543</a></span></p>
</div>
</dd>
<dt>Remove bool coercion in URL parsing<a class="headerlink reference internal" href="#2.0.0alpha5-remove bool coercion in url parsing" id="2.0.0alpha5-remove bool coercion in url parsing">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>When defining a query parameter as <code class="docutils literal notranslate"><span class="pre">param:</span> <span class="pre">str</span></code>, and passing it a string value of <code class="docutils literal notranslate"><span class="pre">&quot;true&quot;</span></code>, the value
received by the route handler was the string <code class="docutils literal notranslate"><span class="pre">&quot;True&quot;</span></code>, having been title cased. The same was true for the value
of <code class="docutils literal notranslate"><span class="pre">&quot;false&quot;</span></code>.</p>
<p>This has been fixed by removing the coercing of boolean-like values during URL parsing and leaving it up to
the parsing utilities of the receiving side (i.e. the handlers signature model) to handle these values
according to the associated type annotations.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1547">litestar-org/litestar#1547</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1550">litestar-org/litestar#1550</a></span></p>
</div>
</dd>
<dt>Fix missing <code class="docutils literal notranslate"><span class="pre">content-encoding</span></code> headers on gzip/brotli compressed files<a class="headerlink reference internal" href="#2.0.0alpha5-fix missing" id="2.0.0alpha5-fix missing">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fixed a bug that would cause static files served via <code class="docutils literal notranslate"><span class="pre">StaticFilesConfig</span></code> that have been compressed with gripz
or brotli to miss the appropriate <code class="docutils literal notranslate"><span class="pre">content-encoding</span></code> header.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1576">litestar-org/litestar#1576</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1577">litestar-org/litestar#1577</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0alpha5-misc">
<h3>Other changes<a class="headerlink" href="#2.0.0alpha5-misc" title="Permalink to this heading">#</a></h3>
<dl>
<dt>SQLAlchemy repository: Rename <code class="docutils literal notranslate"><span class="pre">SQLAlchemyRepository</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">SQLAlchemyAsyncRepository</span></code><a class="headerlink reference internal" href="#2.0.0alpha5-sqlalchemy repository: rename" id="2.0.0alpha5-sqlalchemy repository: rename">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">SQLAlchemyRepository</span></code> has been renamed to
<code class="docutils literal notranslate"><span class="pre">litestar.contrib.sqlalchemy.repository.SQLAlchemyAsyncRepository</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1345">litestar-org/litestar#1345</a></span></p>
</div>
</dd>
<dt>DTO: Remove <code class="docutils literal notranslate"><span class="pre">from_connection</span></code> / extend <code class="docutils literal notranslate"><span class="pre">from_data</span></code><a class="headerlink reference internal" href="#2.0.0alpha5-dto: remove" id="2.0.0alpha5-dto: remove">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The method <code class="docutils literal notranslate"><span class="pre">DTOInterface.from_connection</span></code> has been removed and replaced by <code class="docutils literal notranslate"><span class="pre">DTOInterface.from_bytes</span></code>, which
receives both the raw bytes from the connection, and the connection instance. Since <code class="docutils literal notranslate"><span class="pre">from_bytes</span></code> now does not
handle connections anymore, it can also be a synchronous method, improving symmetry with
<code class="docutils literal notranslate"><span class="pre">DTOInterface.from_bytes</span></code>.</p>
<p>The signature of <code class="docutils literal notranslate"><span class="pre">from_data</span></code> has been changed to also accept the connection, matching <code class="docutils literal notranslate"><span class="pre">from_bytes</span></code>
signature.</p>
<p>As a result of these changes,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">DTOInterface.from_bytes</span></code> no longer needs to
receive the connection instance, so the <code class="docutils literal notranslate"><span class="pre">request</span></code> parameter has been dropped.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1500">litestar-org/litestar#1500</a></span></p>
</div>
</dd>
<dt>SQLAlchemy 1 contrib module removed<a class="headerlink reference internal" href="#2.0.0alpha5-sqlalchemy 1 contrib module removed" id="2.0.0alpha5-sqlalchemy 1 contrib module removed">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>As a result of the changes introduced in <a class="reference external" href="https://github.com/litestar-org/litestar/pull/1501">#1501</a>,
SQLAlchemy 1 support has been dropped.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you rely on SQLAlchemy 1, you can stick to Starlite <em>1.51</em> for now. In the future, a SQLAlchemy 1 plugin
may be released as a standalone package.</p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1501">litestar-org/litestar#1501</a></span></p>
</div>
</dd>
<dt>Change <code class="docutils literal notranslate"><span class="pre">MissingDependencyException</span></code> to be a subclass of <code class="docutils literal notranslate"><span class="pre">ImportError</span></code><a class="headerlink reference internal" href="#2.0.0alpha5-change" id="2.0.0alpha5-change">#</a></dt><dd><div class="changelog-change docutils container">
<p><a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.MissingDependencyException" title="litestar.exceptions.MissingDependencyException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">MissingDependencyException</span></code></a> is now a subclass of <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ImportError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImportError</span></code></a>, to make handling cases where both
of them might be raised easier.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1557">litestar-org/litestar#1557</a></span></p>
</div>
</dd>
<dt>Update <code class="docutils literal notranslate"><span class="pre">standard</span></code> and <code class="docutils literal notranslate"><span class="pre">full</span></code> package extras<a class="headerlink reference internal" href="#2.0.0alpha5-update" id="2.0.0alpha5-update">#</a></dt><dd><div class="changelog-change docutils container">
<ul class="simple">
<li><p>Add SQLAlchemy, uvicorn, attrs and structlog to the <code class="docutils literal notranslate"><span class="pre">full</span></code> extra</p></li>
<li><p>Add uvicorn to the <code class="docutils literal notranslate"><span class="pre">standard</span></code> extra</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">uvicorn[standard]</span></code> as an optional dependency to be used in the extras</p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1494">litestar-org/litestar#1494</a></span></p>
</div>
</dd>
<dt>Remove support for declaring DTOs as handler types<a class="headerlink reference internal" href="#2.0.0alpha5-remove support for declaring dtos as handler types" id="2.0.0alpha5-remove support for declaring dtos as handler types">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>Prior to this, a DTO type could be declared implicitly using type annotations. With the addition of the <code class="docutils literal notranslate"><span class="pre">dto</span></code>
and <code class="docutils literal notranslate"><span class="pre">return_dto</span></code> parameters, this feature has become superfluous and, in the spirit of offering only one clear
way of doing things, has been removed.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1534">litestar-org/litestar#1534</a></span></p>
</div>
</dd>
<dt>DTO: Simplify <code class="docutils literal notranslate"><span class="pre">DTOConfig</span></code><a class="headerlink reference internal" href="#2.0.0alpha5-dto: simplify" id="2.0.0alpha5-dto: simplify">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">include</span></code> parameter has been removed, to provide a more accessible interface and avoid overly complex
interplay with <code class="docutils literal notranslate"><span class="pre">exclude</span></code> and its support for dotted attributes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">field_mapping</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">rename_fields</span></code> and support to remap field types has been dropped</p></li>
<li><p>experimental <code class="docutils literal notranslate"><span class="pre">field_definitions</span></code> has been removed. It may be replaced with a ComputedField in a future
release that will allow multiple field definitions to be added to the model, and a callable that transforms
them into a value for a model field. See</p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1580">litestar-org/litestar#1580</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0alpha4">
<h2>2.0.0alpha4<a class="headerlink" href="#2.0.0alpha4" title="Permalink to this heading">#</a></h2>
<section id="2.0.0alpha4-feature">
<h3>Features<a class="headerlink" href="#2.0.0alpha4-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">attrs</span></code> and <code class="docutils literal notranslate"><span class="pre">msgspec</span></code> support in <code class="xref py py-class docutils literal notranslate"><span class="pre">Partial</span></code><a class="headerlink reference internal" href="#2.0.0alpha4-attrs" id="2.0.0alpha4-attrs">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Partial</span></code> now supports constructing partial models for attrs and msgspec</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1462">litestar-org/litestar#1462</a></span></p>
</div>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotated</span></code> support for route handler and dependency annotations<a class="headerlink reference internal" href="#2.0.0alpha4-annotated" id="2.0.0alpha4-annotated">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotated</span></code> can now be used in route handler and dependencies to specify additional
information about the fields.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">param</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span> <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">param</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Parameter</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">5</span><span class="p">)])</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span> <span class="o">...</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1462">litestar-org/litestar#1462</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0alpha4-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0alpha4-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Support <code class="docutils literal notranslate"><span class="pre">text/html</span></code> Media-Type in <code class="docutils literal notranslate"><span class="pre">Redirect</span></code> response container<a class="headerlink reference internal" href="#2.0.0alpha4-support" id="2.0.0alpha4-support">#</a></dt><dd><div class="changelog-change docutils container">
<p>The media type in <code class="xref py py-class docutils literal notranslate"><span class="pre">Redirect</span></code> wont be forced to <code class="docutils literal notranslate"><span class="pre">text/plain</span></code> anymore and
now supports setting arbitrary media types.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1451">litestar-org/litestar#1451</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1474">litestar-org/litestar#1474</a></span></p>
</div>
</dd>
<dt>Fix global namespace for type resolution<a class="headerlink reference internal" href="#2.0.0alpha4-fix global namespace for type resolution" id="2.0.0alpha4-fix global namespace for type resolution">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix a bug where certain annotations would cause a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NameError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NameError</span></code></a></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1472">litestar-org/litestar#1472</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1477">litestar-org/litestar#1477</a></span></p>
</div>
</dd>
<dt>Add uvicorn to <code class="docutils literal notranslate"><span class="pre">cli</span></code> extra<a class="headerlink reference internal" href="#2.0.0alpha4-add uvicorn to" id="2.0.0alpha4-add uvicorn to">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add the <code class="docutils literal notranslate"><span class="pre">uvicorn</span></code> package to the <code class="docutils literal notranslate"><span class="pre">cli</span></code> extra, as it is required unconditionally</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1478">litestar-org/litestar#1478</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1480">litestar-org/litestar#1480</a></span></p>
</div>
</dd>
<dt>Update logging levels when setting <code class="docutils literal notranslate"><span class="pre">Litestar.debug</span></code> dynamically<a class="headerlink reference internal" href="#2.0.0alpha4-update logging levels when setting" id="2.0.0alpha4-update logging levels when setting">#</a></dt><dd><div class="changelog-change docutils container">
<p>When passing <code class="docutils literal notranslate"><span class="pre">debug=True</span></code> to <a class="reference internal" href="../reference/app.html#litestar.app.Litestar" title="litestar.app.Litestar"><code class="xref py py-class docutils literal notranslate"><span class="pre">Litestar</span></code></a>, the <code class="docutils literal notranslate"><span class="pre">litestar</span></code> logger would be set
up in debug mode, but changing the <code class="docutils literal notranslate"><span class="pre">debug</span></code> attribute after the class had been instantiated did not update the
logger accordingly.</p>
<p>This lead to a regression where the <code class="docutils literal notranslate"><span class="pre">--debug</span></code> flag to the CLIs <code class="docutils literal notranslate"><span class="pre">run</span></code> command would no longer have the
desired affect, as loggers would still be on the <code class="docutils literal notranslate"><span class="pre">INFO</span></code> level.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1476">litestar-org/litestar#1476</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1482">litestar-org/litestar#1482</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0alpha3">
<h2>2.0.0alpha3<a class="headerlink" href="#2.0.0alpha3" title="Permalink to this heading">#</a></h2>
<section id="2.0.0alpha3-feature">
<h3>Features<a class="headerlink" href="#2.0.0alpha3-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>SQLAlchemy 2.0 Plugin<a class="headerlink reference internal" href="#2.0.0alpha3-sqlalchemy 2.0 plugin" id="2.0.0alpha3-sqlalchemy 2.0 plugin">#</a></dt><dd><div class="changelog-change docutils container">
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">SQLAlchemyInitPlugin</span></code> was added,
providing support for managed synchronous and asynchronous sessions.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/databases/sqlalchemy/index.html"><span class="doc">SQLAlchemy</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1395">litestar-org/litestar#1395</a></span></p>
</div>
</dd>
<dt>Attrs signature modelling<a class="headerlink reference internal" href="#2.0.0alpha3-attrs signature modelling" id="2.0.0alpha3-attrs signature modelling">#</a></dt><dd><div class="changelog-change docutils container">
<p>Added support to model route handler signatures with attrs instead of Pydantic</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1382">litestar-org/litestar#1382</a></span></p>
</div>
</dd>
<dt>Support setting status codes in <code class="docutils literal notranslate"><span class="pre">Redirect</span></code> container<a class="headerlink reference internal" href="#2.0.0alpha3-support setting status codes in" id="2.0.0alpha3-support setting status codes in">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add support for manually setting status codes in the
<code class="xref py py-class docutils literal notranslate"><span class="pre">RedirectResponse</span></code> response container.
This was previously only possible by setting the <code class="docutils literal notranslate"><span class="pre">status_code</span></code> parameter on
the corresponding route handler, making dynamic redirect status codes and
conditional redirects using this container hard to implement.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1371">litestar-org/litestar#1371</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1412">litestar-org/litestar#1412</a></span></p>
</div>
</dd>
<dt>Sentinel value to support caching responses indefinitely<a class="headerlink reference internal" href="#2.0.0alpha3-sentinel value to support caching responses indefinitely" id="2.0.0alpha3-sentinel value to support caching responses indefinitely">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add the <a class="reference internal" href="../reference/config.html#litestar.config.response_cache.CACHE_FOREVER" title="litestar.config.response_cache.CACHE_FOREVER"><code class="xref py py-class docutils literal notranslate"><span class="pre">CACHE_FOREVER</span></code></a> sentinel value, that, when passed
to a route handlers <code class="docutils literal notranslate"><span class="pre">cache</span> <span class="pre">argument</span></code>, will cause it to be cached forever, skipping the default expiration.</p>
<p>Additionally, add support for setting
<a class="reference internal" href="../reference/config.html#litestar.config.response_cache.ResponseCacheConfig" title="litestar.config.response_cache.ResponseCacheConfig"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ResponseCacheConfig.default_expiration</span></code></a> to <code class="docutils literal notranslate"><span class="pre">None</span></code>,
allowing to cache values indefinitely by default when setting <code class="docutils literal notranslate"><span class="pre">cache=True</span></code> on a route handler.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1365">litestar-org/litestar#1365</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1414">litestar-org/litestar#1414</a></span></p>
</div>
</dd>
<dt><cite>Accept</cite>-header parsing and content negotiation<a class="headerlink reference internal" href="#2.0.0alpha3-accept" id="2.0.0alpha3-accept">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add an <a class="reference internal" href="../reference/connection.html#litestar.connection.Request.accept" title="litestar.connection.Request.accept"><code class="xref py py-attr docutils literal notranslate"><span class="pre">accept</span></code></a> property to
<a class="reference internal" href="../reference/connection.html#litestar.connection.Request" title="litestar.connection.Request"><code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code></a>, returning the newly added
<a class="reference internal" href="../reference/datastructures/index.html#litestar.datastructures.Accept" title="litestar.datastructures.headers.Accept"><code class="xref py py-class docutils literal notranslate"><span class="pre">Accept</span></code></a> header wrapper, representing the requests <code class="docutils literal notranslate"><span class="pre">Accept</span></code>
HTTP header, offering basic content negotiation.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/responses.html#content-negotiation"><span class="std std-ref">Content Negotiation</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1317">litestar-org/litestar#1317</a></span></p>
</div>
</dd>
<dt>Enhanced WebSockets support<a class="headerlink reference internal" href="#2.0.0alpha3-enhanced websockets support" id="2.0.0alpha3-enhanced websockets support">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a new set of features for handling WebSockets, including automatic connection handling, (de)serialization
of incoming and outgoing data analogous to route handlers and OOP based event dispatching.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/websockets.html"><span class="doc">WebSockets</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1402">litestar-org/litestar#1402</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0alpha3-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0alpha3-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>SQLAlchemy 1 plugin mutates app state destructively<a class="headerlink reference internal" href="#2.0.0alpha3-sqlalchemy 1 plugin mutates app state destructively" id="2.0.0alpha3-sqlalchemy 1 plugin mutates app state destructively">#</a></dt><dd><div class="changelog-change docutils container">
<p>When using the SQLAlchemy 1 plugin, repeatedly running through the application lifecycle (as done when testing
an application not provided by a factory function), would result in a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a> on the second pass.</p>
<p>This was caused be the plugins <code class="docutils literal notranslate"><span class="pre">on_shutdown</span></code> handler deleting the <code class="docutils literal notranslate"><span class="pre">engine_app_state_key</span></code> from the
applications state on application shutdown, but only adding it on application init.</p>
<p>This was fixed by adding performing the necessary setup actions on application startup rather than init.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1368">litestar-org/litestar#1368</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1391">litestar-org/litestar#1391</a></span></p>
</div>
</dd>
<dt>Fix SQLAlchemy 1 Plugin - <code class="docutils literal notranslate"><span class="pre">'Request'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'dict'</span></code><a class="headerlink reference internal" href="#2.0.0alpha3-fix sqlalchemy 1 plugin -" id="2.0.0alpha3-fix sqlalchemy 1 plugin -">#</a></dt><dd><div class="changelog-change docutils container">
<p>An annotation such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span> <span class="nf">provide_user</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">[</span><span class="n">User</span><span class="p">,</span> <span class="n">Token</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span> <span class="o">...</span>
</pre></div>
</div>
<p>would result in the error <code class="docutils literal notranslate"><span class="pre">'Request'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'dict'</span></code>.</p>
<p>This was fixed by changing how <code class="docutils literal notranslate"><span class="pre">get_plugin_for_value</span></code> interacts with <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.get_args" title="(in Python v3.13)"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.get_args()</span></code></a></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1388">litestar-org/litestar#1388</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1389">litestar-org/litestar#1389</a></span></p>
</div>
</dd>
<dt>Support OpenAPI schema generation with stringized return annotation<a class="headerlink reference internal" href="#2.0.0alpha3-support openapi schema generation with stringized return annotation" id="2.0.0alpha3-support openapi schema generation with stringized return annotation">#</a></dt><dd><div class="changelog-change docutils container">
<p>The following code would result in non-specific and incorrect information being generated for the OpenAPI schema:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">starlite</span> <span class="kn">import</span> <span class="n">get</span>


<span class="nd">@get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;hello&quot;</span><span class="p">:</span> <span class="s2">&quot;world&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>This could be alleviated by removing <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">annotations</span></code>. Stringized annotations in any form
are now fully supported.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1409">litestar-org/litestar#1409</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1410">litestar-org/litestar#1410</a></span></p>
</div>
</dd>
<dt>Fix OpenAPI schema generation crashes for models with <code class="docutils literal notranslate"><span class="pre">Annotated</span></code> type attribute<a class="headerlink reference internal" href="#2.0.0alpha3-fix openapi schema generation crashes for models with" id="2.0.0alpha3-fix openapi schema generation crashes for models with">#</a></dt><dd><div class="changelog-change docutils container">
<p>When using a model that includes a type annotation with <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Annotated</span></code> in a route handler, the
interactive documentation would raise an error when accessed. This has been fixed and <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Annotated</span></code>
is now fully supported.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1372">litestar-org/litestar#1372</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1400">litestar-org/litestar#1400</a></span></p>
</div>
</dd>
<dt>Support empty <code class="docutils literal notranslate"><span class="pre">data</span></code> in <code class="docutils literal notranslate"><span class="pre">RequestFactory</span></code><a class="headerlink reference internal" href="#2.0.0alpha3-support empty" id="2.0.0alpha3-support empty">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add support for passing an empty <code class="docutils literal notranslate"><span class="pre">data</span></code> parameter to a
<a class="reference internal" href="../reference/testing.html#litestar.testing.RequestFactory" title="litestar.testing.RequestFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">RequestFactory</span></code></a>, which would previously lead to an error.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1419">litestar-org/litestar#1419</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1420">litestar-org/litestar#1420</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0alpha3-misc">
<h3>Other changes<a class="headerlink" href="#2.0.0alpha3-misc" title="Permalink to this heading">#</a></h3>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">create_test_client</span></code> and <code class="docutils literal notranslate"><span class="pre">crate_async_test_client</span></code> signatures and docstrings to to match <code class="docutils literal notranslate"><span class="pre">Litestar</span></code><a class="headerlink reference internal" href="#2.0.0alpha3-create_test_client" id="2.0.0alpha3-create_test_client">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add missing parameters to <a class="reference internal" href="../reference/testing.html#litestar.testing.create_test_client" title="litestar.testing.create_test_client"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_test_client</span></code></a> and
<a class="reference internal" href="../reference/testing.html#litestar.testing.create_async_test_client" title="litestar.testing.create_async_test_client"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_test_client</span></code></a>. The following parameters were added:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cache_control</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">debug</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">etag</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">response_cache_config</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">response_cookies</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">response_headers</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">security</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stores</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tags</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type_encoders</span></code></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1417">litestar-org/litestar#1417</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0alpha2">
<h2>2.0.0alpha2<a class="headerlink" href="#2.0.0alpha2" title="Permalink to this heading">#</a></h2>
<section id="2.0.0alpha2-feature">
<h3>Features<a class="headerlink" href="#2.0.0alpha2-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Repository contrib &amp; SQLAlchemy repository<a class="headerlink reference internal" href="#2.0.0alpha2-repository contrib &amp; sqlalchemy repository" id="2.0.0alpha2-repository contrib &amp; sqlalchemy repository">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a a <code class="docutils literal notranslate"><span class="pre">repository</span></code> module to <code class="docutils literal notranslate"><span class="pre">contrib</span></code>, providing abstract base classes
to implement the repository pattern. Also added was the <code class="docutils literal notranslate"><span class="pre">contrib.repository.sqlalchemy</span></code>
module, implementing a SQLAlchemy repository, offering hand-tuned abstractions
over commonly used tasks, such as handling of object sessions, inserting,
updating and upserting individual models or collections.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1254">litestar-org/litestar#1254</a></span></p>
</div>
</dd>
<dt>Data stores &amp; registry<a class="headerlink reference internal" href="#2.0.0alpha2-data stores &amp; registry" id="2.0.0alpha2-data stores &amp; registry">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">starlite.storage</span></code> module added in the previous version has been
renamed <code class="docutils literal notranslate"><span class="pre">starlite.stores</span></code> to reduce ambiguity, and a new feature, the
<code class="docutils literal notranslate"><span class="pre">starlite.stores.registry.StoreRegistry</span></code> has been introduced;
It serves as a central place to manage stores and reduces the amount of
configuration needed for various integrations.</p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">stores</span></code> kwarg to <code class="docutils literal notranslate"><span class="pre">Starlite</span></code> and <code class="docutils literal notranslate"><span class="pre">AppConfig</span></code> to allow seeding of the <code class="docutils literal notranslate"><span class="pre">StoreRegistry</span></code></p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Starlite.stores</span></code> attribute, containing a <code class="docutils literal notranslate"><span class="pre">StoreRegistry</span></code></p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">RateLimitMiddleware</span></code> to use <code class="docutils literal notranslate"><span class="pre">app.stores</span></code></p></li>
<li><p>Change request caching to use <code class="docutils literal notranslate"><span class="pre">app.stores</span></code></p></li>
<li><p>Change server side sessions to use <code class="docutils literal notranslate"><span class="pre">app.stores</span></code></p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">starlite.config.cache.CacheConfig</span></code> to  <code class="docutils literal notranslate"><span class="pre">starlite.config.response_cache.ResponseCacheConfig</span></code></p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">Starlite.cache_config</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Starlite.response_cache_config</span></code></p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">AppConfig.cache_config</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">response_cache_config</span></code></p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">starlite/cache</span></code> module</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">ASGIConnection.cache</span></code> property</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">Starlite.cache</span></code> attribute</p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p><code class="docutils literal notranslate"><span class="pre">starlite.middleware.rate_limit.RateLimitMiddleware</span></code>,
<code class="docutils literal notranslate"><span class="pre">starlite.config.response_cache.ResponseCacheConfig</span></code>,
and <code class="docutils literal notranslate"><span class="pre">starlite.middleware.session.server_side.ServerSideSessionConfig</span></code>
instead of accepting a <code class="docutils literal notranslate"><span class="pre">storage</span></code> argument that could be passed a <code class="docutils literal notranslate"><span class="pre">Storage</span></code> instance now have to be
configured via the <code class="docutils literal notranslate"><span class="pre">store</span></code> attribute, accepting a string key for the store to be used from the registry.
The <code class="docutils literal notranslate"><span class="pre">store</span></code> attribute has a unique default set, guaranteeing a unique
<code class="docutils literal notranslate"><span class="pre">starlite.stores.memory.MemoryStore</span></code> instance is acquired for every one of them from the
registry by default</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/stores.html"><span class="doc">Stores</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1330">litestar-org/litestar#1330</a></span></p>
</div>
</dd>
<dt>Add <code class="docutils literal notranslate"><span class="pre">starlite.__version__</span></code><a class="headerlink reference internal" href="#2.0.0alpha2-add" id="2.0.0alpha2-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a <code class="docutils literal notranslate"><span class="pre">__version__</span></code> constant to the <code class="docutils literal notranslate"><span class="pre">starlite</span></code> namespace, containing a
<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.NamedTuple" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></a>, holding information about the currently
installed version of Starlite</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1277">litestar-org/litestar#1277</a></span></p>
</div>
</dd>
<dt>Add <code class="docutils literal notranslate"><span class="pre">starlite</span> <span class="pre">version</span></code> command to CLI<a class="headerlink reference internal" href="#2.0.0alpha2-add" id="2.0.0alpha2-add">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add a new <code class="docutils literal notranslate"><span class="pre">version</span></code> command to the CLI which displays the currently installed
version of Starlite</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1322">litestar-org/litestar#1322</a></span></p>
</div>
</dd>
<dt>Enhance CLI autodiscovery logic<a class="headerlink reference internal" href="#2.0.0alpha2-enhance cli autodiscovery logic" id="2.0.0alpha2-enhance cli autodiscovery logic">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>Update the CLI <a class="reference internal" href="../usage/cli.html#autodiscovery"><span class="std std-ref">Autodiscovery</span></a> to only consider canonical modules app and application, but every
<code class="docutils literal notranslate"><span class="pre">starlite.app.Starlite</span></code> instance or application factory able to return a <code class="docutils literal notranslate"><span class="pre">Starlite</span></code> instance within
those or one of their submodules, giving priority to the canonical names app and application for application
objects and submodules containing them.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/cli.html#autodiscovery"><span class="std std-ref">CLI autodiscovery</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1322">litestar-org/litestar#1322</a></span></p>
</div>
</dd>
<dt>Configurable exception logging and traceback truncation<a class="headerlink reference internal" href="#2.0.0alpha2-configurable exception logging and traceback truncation" id="2.0.0alpha2-configurable exception logging and traceback truncation">#</a></dt><dd><div class="changelog-change docutils container">
<p>Add three new configuration options to <code class="docutils literal notranslate"><span class="pre">starlite.logging.config.BaseLoggingConfig</span></code>:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">starlite.logging.config.LoggingConfig.log_exceptions</span></code></dt><dd><p>Configure when exceptions are logged.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">always</span></code></dt><dd><p>Always log exceptions</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">debug</span></code></dt><dd><p>Log exceptions in debug mode only</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">never</span></code></dt><dd><p>Never log exception</p>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">starlite.logging.config.LoggingConfig.traceback_line_limit</span></code></dt><dd><p>Configure how many lines of tracback are logged</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">starlite.logging.config.LoggingConfig.exception_logging_handler</span></code></dt><dd><p>A callable that receives three parameters - the <code class="docutils literal notranslate"><span class="pre">app.logger</span></code>, the connection scope and the traceback
list, and should handle logging</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="docutils literal notranslate"><span class="pre">starlite.logging.config.LoggingConfig</span></code></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1296">litestar-org/litestar#1296</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0alpha2-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0alpha2-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Allow overwriting default OpenAPI response descriptions<a class="headerlink reference internal" href="#2.0.0alpha2-allow overwriting default openapi response descriptions" id="2.0.0alpha2-allow overwriting default openapi response descriptions">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix <a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1292">litestar-org/litestar#1292</a> by allowing to overwrite
the default OpenAPI response description instead of raising <a class="reference internal" href="../reference/exceptions.html#litestar.exceptions.ImproperlyConfiguredException" title="litestar.exceptions.ImproperlyConfiguredException"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ImproperlyConfiguredException</span></code></a>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1292">litestar-org/litestar#1292</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1293">litestar-org/litestar#1293</a></span></p>
</div>
</dd>
<dt>Fix regression in path resolution that prevented 404s being raised for false paths<a class="headerlink reference internal" href="#2.0.0alpha2-fix regression in path resolution that prevented 404's being raised for false paths" id="2.0.0alpha2-fix regression in path resolution that prevented 404's being raised for false paths">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>Invalid paths within controllers would under specific circumstances not raise a 404. This was a regression
compared to <code class="docutils literal notranslate"><span class="pre">v1.51</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This has been marked as breaking since one user has reported to rely on this feature</p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1316">litestar-org/litestar#1316</a></span></p>
</div>
</dd>
<dt>Fix <code class="docutils literal notranslate"><span class="pre">after_request</span></code> hook not being called on responses returned from handlers<a class="headerlink reference internal" href="#2.0.0alpha2-fix" id="2.0.0alpha2-fix">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">after_request</span></code> hooks were not being called automatically when a <code class="docutils literal notranslate"><span class="pre">starlite.response.Response</span></code>
instances was returned from a route handler directly.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../usage/lifecycle-hooks.html#after-request"><span class="std std-ref">After Request</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1315">litestar-org/litestar#1315</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1344">litestar-org/litestar#1344</a></span></p>
</div>
</dd>
<dt>Fix <code class="docutils literal notranslate"><span class="pre">SQLAlchemyPlugin</span></code> raises error when using SQLAlchemy UUID<a class="headerlink reference internal" href="#2.0.0alpha2-fix" id="2.0.0alpha2-fix">#</a></dt><dd><div class="changelog-change docutils container">
<p>An error would be raised when using the SQLAlchemy plugin with a
<a class="reference external" href="https://docs.sqlalchemy.org/en/20/core/type_basics.html#sqlalchemy.types.UUID">sqlalchemy UUID</a>. This
was fixed by adding it to the provider map.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1355">litestar-org/litestar#1355</a></span></p>
</div>
</dd>
<dt>Fix <code class="docutils literal notranslate"><span class="pre">JSON.parse</span></code> error in ReDoc and Swagger OpenAPI handlers<a class="headerlink reference internal" href="#2.0.0alpha2-fix" id="2.0.0alpha2-fix">#</a></dt><dd><div class="changelog-change docutils container">
<p>The HTML generated by the ReDoc and Swagger OpenAPI handlers would cause
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse">JSON.parse</a>
to throw an error. This was fixed by removing the call to <code class="docutils literal notranslate"><span class="pre">JSON.parse</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1363">litestar-org/litestar#1363</a></span></p>
</div>
</dd>
<dt>Fix CLI prints application info twice<a class="headerlink reference internal" href="#2.0.0alpha2-fix cli prints application info twice" id="2.0.0alpha2-fix cli prints application info twice">#</a></dt><dd><div class="changelog-change docutils container">
<p>Fix an error where the CLI would print application info twice on startup</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1322">litestar-org/litestar#1322</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0alpha2-misc">
<h3>Other changes<a class="headerlink" href="#2.0.0alpha2-misc" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Update <code class="docutils literal notranslate"><span class="pre">SimpleEventEmitter</span></code> to use worker pattern<a class="headerlink reference internal" href="#2.0.0alpha2-update" id="2.0.0alpha2-update">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">starlite.events.emitter.SimpleEventEmitter</span></code> was updated to using an async worker, pulling
emitted events from a queue and subsequently calling listeners. Previously listeners were called immediately,
making the operation effectively blocking.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1346">litestar-org/litestar#1346</a></span></p>
</div>
</dd>
<dt>Make <code class="docutils literal notranslate"><span class="pre">BaseEventEmitterBackend.emit</span></code> synchronous<a class="headerlink reference internal" href="#2.0.0alpha2-make" id="2.0.0alpha2-make">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">starlite.events.emitter.BaseEventEmitterBackend</span></code>, and subsequently
<code class="docutils literal notranslate"><span class="pre">starlite.events.emitter.SimpleEventEmitter</span></code> and
<code class="docutils literal notranslate"><span class="pre">starlite.app.Starlite.emit</span></code> have been changed to synchronous function, allowing them to easily be
used within synchronous route handlers.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1376">litestar-org/litestar#1376</a></span></p>
</div>
</dd>
<dt>Move 3rd party integration plugins to <code class="docutils literal notranslate"><span class="pre">contrib</span></code><a class="headerlink reference internal" href="#2.0.0alpha2-move 3rd party integration plugins to" id="2.0.0alpha2-move 3rd party integration plugins to">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<ul class="simple">
<li><p>Move <code class="docutils literal notranslate"><span class="pre">plugins.piccolo_orm</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">contrib.piccolo_orm</span></code></p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">plugins.tortoise_orm</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">contrib.tortoise_orm</span></code></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1279">litestar-org/litestar#1279</a></span>, <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1252">litestar-org/litestar#1252</a></span></p>
</div>
</dd>
<dt>Remove <code class="docutils literal notranslate"><span class="pre">picologging</span></code> dependency from the <code class="docutils literal notranslate"><span class="pre">standard</span></code> package extra<a class="headerlink reference internal" href="#2.0.0alpha2-remove" id="2.0.0alpha2-remove">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p><a class="reference external" href="https://github.com/microsoft/picologging">picologging</a> has been removed form the <code class="docutils literal notranslate"><span class="pre">standard</span></code> package extra.
If you have been previously relying on this, you need to change <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">starlite[standard]</span></code> to
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">starlite[standard,picologging]</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1313">litestar-org/litestar#1313</a></span></p>
</div>
</dd>
<dt>Replace <code class="docutils literal notranslate"><span class="pre">Starlite()</span></code> <code class="docutils literal notranslate"><span class="pre">initial_state</span></code> keyword argument with <code class="docutils literal notranslate"><span class="pre">state</span></code><a class="headerlink reference internal" href="#2.0.0alpha2-replace" id="2.0.0alpha2-replace">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">initial_state</span></code> argument to <code class="docutils literal notranslate"><span class="pre">starlite.app.Starlite</span></code> has been replaced with a <code class="docutils literal notranslate"><span class="pre">state</span></code> keyword
argument, accepting an optional <code class="docutils literal notranslate"><span class="pre">starlite.datastructures.state.State</span></code> instance.</p>
<p>Existing code using this keyword argument will need to be changed from</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">starlite</span> <span class="kn">import</span> <span class="n">Starlite</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Starlite</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">initial_state</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;some&quot;</span><span class="p">:</span> <span class="s2">&quot;key&quot;</span><span class="p">})</span>
</pre></div>
</div>
<p>to</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">starlite</span> <span class="kn">import</span> <span class="n">Starlite</span>
<span class="kn">from</span> <span class="nn">starlite.datastructures.state</span> <span class="kn">import</span> <span class="n">State</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Starlite</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">State</span><span class="p">({</span><span class="s2">&quot;some&quot;</span><span class="p">:</span> <span class="s2">&quot;key&quot;</span><span class="p">}))</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1350">litestar-org/litestar#1350</a></span></p>
</div>
</dd>
<dt>Remove support for 2 argument form of <code class="docutils literal notranslate"><span class="pre">before_send</span></code><a class="headerlink reference internal" href="#2.0.0alpha2-remove support for 2 argument form of" id="2.0.0alpha2-remove support for 2 argument form of">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">before_send</span></code> hook handlers initially accepted 2 arguments, but support for a 3 argument form was added
later on, accepting an additional <code class="docutils literal notranslate"><span class="pre">scope</span></code> parameter. Support for the 2 argument form has been dropped with
this release.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../reference/app.html#litestar.app.Litestar.params.before_send" title="litestar.app.Litestar.params.before_send"><span class="xref std std-ref">before_send</span></a></p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1354">litestar-org/litestar#1354</a></span></p>
</div>
</dd>
<dt>Standardize module exports<a class="headerlink reference internal" href="#2.0.0alpha2-standardize module exports" id="2.0.0alpha2-standardize module exports">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>A large refactoring standardising the way submodules make their names available.</p>
<p>The following public modules have changed their location:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">config.openapi</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">openapi.config</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.logging</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">logging.config</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.template</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">template.config</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.static_files</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">static_files.config</span></code></p></li>
</ul>
<p>The following modules have been removed from the public namespace:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">asgi</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kwargs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">middleware.utils</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cli.utils</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contrib.htmx.utils</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">handlers.utils</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openapi.constants</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openapi.enums</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openapi.datastructures</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openapi.parameters</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openapi.path_item</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openapi.request_body</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openapi.responses</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openapi.schema</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openapi.typescript_converter</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">openapi.utils</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">multipart</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parsers</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">signature</span></code></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1273">litestar-org/litestar#1273</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
<section id="2.0.0alpha1">
<h2>2.0.0alpha1<a class="headerlink" href="#2.0.0alpha1" title="Permalink to this heading">#</a></h2>
<section id="2.0.0alpha1-feature">
<h3>Features<a class="headerlink" href="#2.0.0alpha1-feature" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Validation of controller route handler methods<a class="headerlink reference internal" href="#2.0.0alpha1-validation of controller route handler methods" id="2.0.0alpha1-validation of controller route handler methods">#</a></dt><dd><div class="changelog-change docutils container">
<p>Starlite will now validate that no duplicate handlers (that is, they have the same
path and same method) exist.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1144">litestar-org/litestar#1144</a></span></p>
</div>
</dd>
<dt>HTMX support<a class="headerlink reference internal" href="#2.0.0alpha1-htmx support" id="2.0.0alpha1-htmx support">#</a></dt><dd><div class="changelog-change docutils container">
<p>Basic support for HTMX requests and responses.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1086">litestar-org/litestar#1086</a></span></p>
</div>
</dd>
<dt>Alternate constructor <code class="docutils literal notranslate"><span class="pre">Starlite.from_config</span></code><a class="headerlink reference internal" href="#2.0.0alpha1-alternate constructor" id="2.0.0alpha1-alternate constructor">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">starlite.app.Starlite.from_config</span></code> was added to the
<code class="docutils literal notranslate"><span class="pre">starlite.app.Starlite</span></code> class which allows to construct an instance
from an <code class="docutils literal notranslate"><span class="pre">starlite.config.app.AppConfig</span></code> instance.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1190">litestar-org/litestar#1190</a></span></p>
</div>
</dd>
<dt>Web concurrency option for CLI <code class="docutils literal notranslate"><span class="pre">run</span></code> command<a class="headerlink reference internal" href="#2.0.0alpha1-web concurrency option for cli" id="2.0.0alpha1-web concurrency option for cli">#</a></dt><dd><div class="changelog-change docutils container">
<p>A <code class="docutils literal notranslate"><span class="pre">--wc</span></code> / web-concurrency` option was added to the <code class="docutils literal notranslate"><span class="pre">starlite</span> <span class="pre">run</span></code> command,
enabling users to specify the amount of worker processes to use. A corresponding
environment variable <code class="docutils literal notranslate"><span class="pre">WEB_CONCURRENCY</span></code> was added as well</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1218">litestar-org/litestar#1218</a></span></p>
</div>
</dd>
<dt>Validation of <code class="docutils literal notranslate"><span class="pre">state</span></code> parameter in handler functions<a class="headerlink reference internal" href="#2.0.0alpha1-validation of" id="2.0.0alpha1-validation of">#</a></dt><dd><div class="changelog-change docutils container">
<p>Type annotations of the reserved <code class="docutils literal notranslate"><span class="pre">state</span></code> parameter in handler functions will
now be validated such that annotations using an unsupported type will raise a
<code class="docutils literal notranslate"><span class="pre">starlite.exceptions.ImproperlyConfiguredException</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1264">litestar-org/litestar#1264</a></span></p>
</div>
</dd>
<dt>Generic application state<a class="headerlink reference internal" href="#2.0.0alpha1-generic application state" id="2.0.0alpha1-generic application state">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">starlite.connection.base.ASGIConnection</span></code> and its subclasses are now generic on <code class="docutils literal notranslate"><span class="pre">State</span></code>
which allow to to fully type hint a request as <code class="docutils literal notranslate"><span class="pre">Request[UserType,</span> <span class="pre">AuthType,</span> <span class="pre">StateType]</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1030">litestar-org/litestar#1030</a></span></p>
</div>
</dd>
<dt>Dependency injection of classes<a class="headerlink reference internal" href="#2.0.0alpha1-dependency injection of classes" id="2.0.0alpha1-dependency injection of classes">#</a></dt><dd><div class="changelog-change docutils container">
<p>Support using classes (not class instances, which were already supported) as dependency providers.
With this, now every callable is supported as a dependency provider.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1143">litestar-org/litestar#1143</a></span></p>
</div>
</dd>
<dt>Event bus<a class="headerlink reference internal" href="#2.0.0alpha1-event bus" id="2.0.0alpha1-event bus">#</a></dt><dd><div class="changelog-change docutils container">
<p>A simple event bus system for Starlite, supporting synchronous and asynchronous listeners and emitters, providing a
similar interface to handlers. It currently features a simple in-memory, process-local backend</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1105">litestar-org/litestar#1105</a></span></p>
</div>
</dd>
<dt>Unified storage interfaces<a class="headerlink reference internal" href="#2.0.0alpha1-unified storage interfaces" id="2.0.0alpha1-unified storage interfaces">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>Storage backends for server-side sessions <code class="docutils literal notranslate"><span class="pre">starlite.cache.Cache`</span></code> have been unified and replaced
by the <code class="docutils literal notranslate"><span class="pre">starlite.storages</span></code>, which implements generic asynchronous key/values stores backed
by memory, the file system or redis.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This is a breaking change and you need to change your session / cache configuration accordingly</p>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1184">litestar-org/litestar#1184</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0alpha1-bugfix">
<h3>Bugfixes<a class="headerlink" href="#2.0.0alpha1-bugfix" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Fix resolving of relative paths in <code class="docutils literal notranslate"><span class="pre">StaticFilesConfig</span></code><a class="headerlink reference internal" href="#2.0.0alpha1-fix resolving of relative paths in" id="2.0.0alpha1-fix resolving of relative paths in">#</a></dt><dd><div class="changelog-change docutils container">
<p>Using a relative <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pathlib.Path</span></code></a> did not resolve correctly and result in a <code class="docutils literal notranslate"><span class="pre">NotFoundException</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1256">litestar-org/litestar#1256</a></span></p>
</div>
</dd>
<dt>Fix <code class="docutils literal notranslate"><span class="pre">--reload</span></code> flag to <code class="docutils literal notranslate"><span class="pre">starlite</span> <span class="pre">run</span></code> not working correctly<a class="headerlink reference internal" href="#2.0.0alpha1-fix" id="2.0.0alpha1-fix">#</a></dt><dd><div class="changelog-change docutils container">
<p>Passing the <code class="docutils literal notranslate"><span class="pre">--reload</span></code> flag to the <code class="docutils literal notranslate"><span class="pre">starlite</span> <span class="pre">run</span></code> command did not work correctly in all circumstances due to an
issue with uvicorn. This was resolved by invoking uvicorn in a subprocess.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1191">litestar-org/litestar#1191</a></span></p>
</div>
</dd>
<dt>Fix optional types generate incorrect OpenAPI schemas<a class="headerlink reference internal" href="#2.0.0alpha1-fix optional types generate incorrect openapi schemas" id="2.0.0alpha1-fix optional types generate incorrect openapi schemas">#</a></dt><dd><div class="changelog-change docutils container">
<p>An optional query parameter was incorrectly represented as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;oneOf&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">null</span><span class="s2">&quot; },</span>
  <span class="p">{</span> <span class="s2">&quot;oneOf&quot;</span><span class="p">:</span> <span class="p">[]</span> <span class="p">}</span>
 <span class="p">]}</span>
</pre></div>
</div>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1210">litestar-org/litestar#1210</a></span></p>
</div>
</dd>
<dt>Fix <code class="docutils literal notranslate"><span class="pre">LoggingMiddleware</span></code> is sending obfuscated session id to client<a class="headerlink reference internal" href="#2.0.0alpha1-fix" id="2.0.0alpha1-fix">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">LoggingMiddleware</span></code> would in some cases send obfuscated data to the client, due to a bug in the obfuscation
function which obfuscated values in the input dictionary in-place.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1228">litestar-org/litestar#1228</a></span></p>
</div>
</dd>
<dt>Fix missing <code class="docutils literal notranslate"><span class="pre">domain</span></code> configuration value for JWT cookie auth<a class="headerlink reference internal" href="#2.0.0alpha1-fix missing" id="2.0.0alpha1-fix missing">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">starlite.contrib.jwt.jwt_auth.JWTCookieAuth</span></code> didnt set the <code class="docutils literal notranslate"><span class="pre">domain</span></code> configuration value on the response
cookie.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1223">litestar-org/litestar#1223</a></span></p>
</div>
</dd>
<dt>Fix <a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1201">litestar-org/litestar#1201</a>: Can not serve static file in <code class="docutils literal notranslate"><span class="pre">/</span></code> path<a class="headerlink reference internal" href="#2.0.0alpha1-fix" id="2.0.0alpha1-fix">#</a></dt><dd><div class="changelog-change docutils container">
<p>A validation error made it impossible to serve static files from the root path <code class="docutils literal notranslate"><span class="pre">/</span></code> .</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1201">litestar-org/litestar#1201</a></span></p>
</div>
</dd>
<dt>Fix <a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1149">litestar-org/litestar#1149</a>: Middleware not excluding static path<a class="headerlink reference internal" href="#2.0.0alpha1-fix" id="2.0.0alpha1-fix">#</a></dt><dd><div class="changelog-change docutils container">
<p>A middlewares <code class="docutils literal notranslate"><span class="pre">exclude</span></code> parameter would sometimes not be honoured if the path was used to serve static files
using <code class="docutils literal notranslate"><span class="pre">StaticFilesConfig</span></code></p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/issues/1149">litestar-org/litestar#1149</a></span></p>
</div>
</dd>
</dl>
</section>
<section id="2.0.0alpha1-misc">
<h3>Other changes<a class="headerlink" href="#2.0.0alpha1-misc" title="Permalink to this heading">#</a></h3>
<dl>
<dt>Relaxed type annotations<a class="headerlink reference internal" href="#2.0.0alpha1-relaxed type annotations" id="2.0.0alpha1-relaxed type annotations">#</a></dt><dd><div class="changelog-change docutils container">
<p>Type annotations across the library have been relaxed to more generic forms, for example
<code class="docutils literal notranslate"><span class="pre">Iterable[str]</span></code> instead of <code class="docutils literal notranslate"><span class="pre">List[str]</span></code> or <code class="docutils literal notranslate"><span class="pre">Mapping[str,</span> <span class="pre">str]</span></code> instead of <code class="docutils literal notranslate"><span class="pre">Dict[str,</span> <span class="pre">str]</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1140">litestar-org/litestar#1140</a></span></p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">type_encoders</span></code> support in <code class="docutils literal notranslate"><span class="pre">AbstractSecurityConfig</span></code><a class="headerlink reference internal" href="#2.0.0alpha1-type_encoders" id="2.0.0alpha1-type_encoders">#</a></dt><dd><div class="changelog-change docutils container">
<p><code class="docutils literal notranslate"><span class="pre">type_encoders</span></code> support has been added to
<code class="docutils literal notranslate"><span class="pre">starlite.security.base.AbstractSecurityConfig</span></code>, enabling support for customized
<code class="docutils literal notranslate"><span class="pre">type_encoders</span></code> for example in <code class="docutils literal notranslate"><span class="pre">starlite.contrib.jwt.jwt_auth.JWTAuth</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1167">litestar-org/litestar#1167</a></span></p>
</div>
</dd>
<dt>Renamed handler module names<a class="headerlink reference internal" href="#2.0.0alpha1-renamed handler module names" id="2.0.0alpha1-renamed handler module names">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The modules containing route handlers have been renamed to prevent ambiguity between module and handler names.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.handlers.asgi</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">starlite.handlers.asgi_handlers</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.handlers.http</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">starlite.handlers.http_handlers</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.handlers.websocket</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">starlite.handlers.websocket_handlers</span></code></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1170">litestar-org/litestar#1170</a></span></p>
</div>
</dd>
<dt>New plugin protocols<a class="headerlink reference internal" href="#2.0.0alpha1-new plugin protocols" id="2.0.0alpha1-new plugin protocols">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The plugin protocol has been split into three distinct protocols, covering different use cases:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">starlite.plugins.InitPluginProtocol</span></code></dt><dd><p>Hook into an applications initialization process</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">starlite.plugins.SerializationPluginProtocol</span></code></dt><dd><p>Extend the serialization and deserialization capabilities of an application</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">starlite.plugins.OpenAPISchemaPluginProtocol</span></code></dt><dd><p>Extend OpenAPI schema generation</p>
</dd>
</dl>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1176">litestar-org/litestar#1176</a></span></p>
</div>
</dd>
<dt>Unify response headers and cookies<a class="headerlink reference internal" href="#2.0.0alpha1-unify response headers and cookies" id="2.0.0alpha1-unify response headers and cookies">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p><a class="reference internal" href="../usage/responses.html#setting-response-headers"><span class="std std-ref">response headers</span></a> and
<a class="reference internal" href="../usage/responses.html#setting-response-cookies"><span class="std std-ref">response cookies</span></a> now have the
same interface, along with the <code class="docutils literal notranslate"><span class="pre">headers</span></code> and <code class="docutils literal notranslate"><span class="pre">cookies</span></code> keyword arguments to
<code class="docutils literal notranslate"><span class="pre">starlite.response.Response</span></code>. They each allow to pass either a
<cite>:class:`Mapping[str, str] &lt;typing.Mapping&gt;</cite>, e.g. a dictionary, or a <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a> of
<code class="docutils literal notranslate"><span class="pre">starlite.datastructures.response_header.ResponseHeader</span></code> or
<code class="docutils literal notranslate"><span class="pre">starlite.datastructures.cookie.Cookie</span></code> respectively.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1209">litestar-org/litestar#1209</a></span></p>
</div>
</dd>
<dt>Replace Pydantic models with dataclasses<a class="headerlink reference internal" href="#2.0.0alpha1-replace pydantic models with dataclasses" id="2.0.0alpha1-replace pydantic models with dataclasses">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>Several Pydantic models used for configuration have been replaced with dataclasses or plain classes. This change
should be mostly non-breaking, unless you relied on those configuration objects being Pydantic models. The changed
models are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.config.allowed_hosts.AllowedHostsConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.config.app.AppConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.config.response_cache.ResponseCacheConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.config.compression.CompressionConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.config.cors.CORSConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.config.csrf.CSRFConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.logging.config.LoggingConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.openapi.OpenAPIConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.static_files.StaticFilesConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.template.TemplateConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.contrib.jwt.jwt_token.Token</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.contrib.jwt.jwt_auth.JWTAuth</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.contrib.jwt.jwt_auth.JWTCookieAuth</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.contrib.jwt.jwt_auth.OAuth2Login</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.contrib.jwt.jwt_auth.OAuth2PasswordBearerAuth</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.contrib.opentelemetry.OpenTelemetryConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.middleware.logging.LoggingMiddlewareConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.middleware.rate_limit.RateLimitConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.middleware.session.base.BaseBackendConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.middleware.session.client_side.CookieBackendConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.middleware.session.server_side.ServerSideSessionConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.response_containers.ResponseContainer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.response_containers.File</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.response_containers.Redirect</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.response_containers.Stream</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.security.base.AbstractSecurityConfig</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">starlite.security.session_auth.SessionAuth</span></code></p></li>
</ul>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1242">litestar-org/litestar#1242</a></span></p>
</div>
</dd>
<dt>SQLAlchemy plugin moved to <code class="docutils literal notranslate"><span class="pre">contrib</span></code><a class="headerlink reference internal" href="#2.0.0alpha1-sqlalchemy plugin moved to" id="2.0.0alpha1-sqlalchemy plugin moved to">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">SQLAlchemyPlugin`</span> <span class="pre">has</span> <span class="pre">moved</span> <span class="pre">to</span> <span class="pre">``starlite.contrib.sqlalchemy_1.plugin</span></code> and will only be compatible
with the SQLAlchemy 1.4 release line. The newer SQLAlchemy 2.x releases will be supported by the
<code class="docutils literal notranslate"><span class="pre">contrib.sqlalchemy</span></code> module.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1252">litestar-org/litestar#1252</a></span></p>
</div>
</dd>
<dt>Cleanup of the <code class="docutils literal notranslate"><span class="pre">starlite</span></code> namespace<a class="headerlink reference internal" href="#2.0.0alpha1-cleanup of the" id="2.0.0alpha1-cleanup of the">#</a><span class="breaking-change">breaking</span></dt><dd><div class="changelog-change docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">starlite</span></code> namespace has been cleared up, removing many names from it, which now have to be imported from
their respective submodules individually. This was both done to improve developer experience as well as reduce
the time it takes to <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">starlite</span></code>.</p>
<p>References: <span><a class="github reference external" href="https://github.com/litestar-org/litestar/pull/1135">litestar-org/litestar#1135</a></span></p>
</div>
</dd>
</dl>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.14.0">2.14.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.14.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.14.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.13.0">2.13.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.13.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.13.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.12.1">2.12.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.12.1-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.12.0">2.12.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.12.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.12.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.11.0">2.11.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.11.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.11.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.10.0">2.10.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.10.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.10.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.9.1">2.9.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.9.1-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.9.0">2.9.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.9.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.9.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.8.3">2.8.3</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.8.3-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.8.2">2.8.2</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.8.2-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.8.1">2.8.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.8.1-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.8.0">2.8.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.8.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.8.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.7.1">2.7.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.7.1-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.7.0">2.7.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.7.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.7.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.6.3">2.6.3</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.6.3-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.6.2">2.6.2</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.6.2-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.6.1">2.6.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.6.1-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.6.0">2.6.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.6.0-feature">Features</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.5">2.5.5</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.5-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.4">2.5.4</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.4-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.3">2.5.3</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.3-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.2">2.5.2</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.2-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.1">2.5.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.1-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.0">2.5.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.0-bugfix">Bugfixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.5.0-misc">Other changes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.5">2.4.5</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.5-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.4">2.4.4</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.4-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.3">2.4.3</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.3-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.2">2.4.2</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.2-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.1">2.4.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.1-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.0">2.4.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.4.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.3.2">2.3.2</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.3.2-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.3.1">2.3.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.3.1-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.3.0">2.3.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.3.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.3.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.2.0">2.2.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.2.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.2.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.1.1">2.1.1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.1.1-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.1.0">2.1.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.1.0-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.1.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0">2.0.0</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0rc1">2.0.0rc1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0rc1-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0rc1-bugfix">Bugfixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0rc1-misc">Other changes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta4">2.0.0beta4</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta4-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta3">2.0.0beta3</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta3-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta3-bugfix">Bugfixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta3-misc">Other changes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta2">2.0.0beta2</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta2-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta2-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta1">2.0.0beta1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta1-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta1-bugfix">Bugfixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0beta1-misc">Other changes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha7">2.0.0alpha7</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha7-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha7-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha6">2.0.0alpha6</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha6-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha6-bugfix">Bugfixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha6-misc">Other changes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha5">2.0.0alpha5</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha5-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha5-bugfix">Bugfixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha5-misc">Other changes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha4">2.0.0alpha4</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha4-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha4-bugfix">Bugfixes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha3">2.0.0alpha3</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha3-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha3-bugfix">Bugfixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha3-misc">Other changes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha2">2.0.0alpha2</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha2-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha2-bugfix">Bugfixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha2-misc">Other changes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha1">2.0.0alpha1</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha1-feature">Features</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha1-bugfix">Bugfixes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#2.0.0alpha1-misc">Other changes</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
       Copyright 2025, Litestar-Org.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>